(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1:function(e,t,a){e.exports={common_color:"style_common_color__3T9wr",bg_1:"style_bg_1__YFN9K",font__style:"style_font__style__Nb6KU",page_wrapper:"style_page_wrapper__2a6vB",container:"style_container__1H1UB",offTop:"style_offTop__2F9JL",active:"style_active__D-4CJ",clearfix:"style_clearfix__1rIQT",hidden:"style_hidden__lUnBg",position_relative:"style_position_relative__1jLNI",flex:"style_flex__1jJS9",flex_col:"style_flex_col__bi-xz",justify_content_start:"style_justify_content_start__2P7ln",justify_content_center:"style_justify_content_center__1FDxT",justify_content_space_between:"style_justify_content_space_between__1vI0n",align_items_center:"style_align_items_center__1c2pF",text_center:"style_text_center__254rq",text_white:"style_text_white__3xBZy",text_primary:"style_text_primary__2vUpo",text_blue:"style_text_blue__32Dvp",text_red:"style_text_red__2BFmH",text_green:"style_text_green__1VQ8m",link_delete:"style_link_delete__2-KWm",grey_out:"style_grey_out__28G03",margin_auto:"style_margin_auto__3tOq9",mt__0:"style_mt__0__dKv8D",mt__10:"style_mt__10__3QpAU",mt_20:"style_mt_20__1geaE",mb_10:"style_mb_10__atqbc",width__minus_28:"style_width__minus_28__3roaj",placeholder:"style_placeholder__3no1Z",form:"style_form__YR96y",title:"style_title__3vWOr",page:"style_page___z3GQ",radio:"style_radio__DNIwD",selected:"style_selected__3nfLZ",absolute_center:"style_absolute_center__sEBBw",userSelected:"style_userSelected__37fkV",row:"style_row__3o7M2",btn:"style_btn__qxRNy",btn_sm:"style_btn_sm__1RETM",btn_inline:"style_btn_inline__1txb7",btn_square:"style_btn_square__3ohKs",btn_absolute:"style_btn_absolute__2SbEH",order_1:"style_order_1__395oN",order_2:"style_order_2__20H5w",btn__float:"style_btn__float__2GPHJ",btn__primary:"style_btn__primary__1zrCj",btn__warning:"style_btn__warning__22_zr",btn_save:"style_btn_save__3b613",tools:"style_tools__1oLpq",disabled:"style_disabled__338mN",button_group:"style_button_group__3hTG8",btn__navi:"style_btn__navi__2LXiX",max_width:"style_max_width__3SgK8",row__2cols:"style_row__2cols__2-PC8",row__2cols__nowrap:"style_row__2cols__nowrap__3-ylt",link__login:"style_link__login__3A9m_",modal:"style_modal__WYLPX",modal__content:"style_modal__content__3M3rX",modal__close:"style_modal__close__3JxsY",heading:"style_heading__CZ8p_",hero:"style_hero__Lc-Ub",normal:"style_normal__3nMbA",light:"style_light__2VEy7",radio_component:"style_radio_component__2FnzS",modal_absolute:"style_modal_absolute__3_EI6",alert:"style_alert__1DHGa",btn_close:"style_btn_close__2OXtR",loading:"style_loading__2HZ1v",loading_icon:"style_loading_icon__2p_Gy",logo:"style_logo__2WSem",menu__icon:"style_menu__icon__3lD3h",fixed:"style_fixed__2fv9r",menu__icon__signInSheet:"style_menu__icon__signInSheet__3mspN",animated:"style_animated__QhQd0",bottom_nav:"style_bottom_nav__3RdwW",btn_add_job:"style_btn_add_job__29QYe",floating_action:"style_floating_action__1lS70",btn_float_bottom:"style_btn_float_bottom__35c6r",active_red:"style_active_red__Bh59Y",has_notifications:"style_has_notifications__3Onns",not_read:"style_not_read__2HtFz",btn_back:"style_btn_back__3q8pm",top:"style_top__1FeBI",circle_picker:"style_circle_picker__218L2",radio_group:"style_radio_group__1NZaJ",timeSlot:"style_timeSlot__PQMg7",circle:"style_circle__1LWjO",rectangle:"style_rectangle__1sZny",conflicted:"style_conflicted__2IehT",radio_group_stack:"style_radio_group_stack__1-QpS",slideUp:"style_slideUp__3liHs",contentPage:"style_contentPage__3TYcr",page_content:"style_page_content__2qutU",directory:"style_directory__3UhbR",account:"style_account__PX6C_",profile_picture:"style_profile_picture__75FQV",name:"style_name__3mMjP",Home:"style_Home__1QbB3",illustration:"style_illustration__1dMYG",slider:"style_slider__3Ghjc",slide:"style_slide__1ANMZ",slider_1:"style_slider_1__2ppHr",overlay:"style_overlay__1LlbN",slider_2:"style_slider_2__b1lvb",slider_3:"style_slider_3__2kzWY",hero_content:"style_hero_content__wvrj1",home_2:"style_home_2__3NzGC",col:"style_col__MTaj_",home_2_a:"style_home_2_a__16DcO",home_2_b:"style_home_2_b__OBtIV",home_3:"style_home_3__38whd",home_4:"style_home_4__2VB-R",FAQs:"style_FAQs__3JjWA",copy:"style_copy__25s8s",Login:"style_Login__3ab__",Register:"style_Register__lPF26",colorPage:"style_colorPage__3O1gl",circlePicker:"style_circlePicker__3od1i",sign_in_sheets_store:"style_sign_in_sheets_store__2n64n",sign_in_datepicker:"style_sign_in_datepicker__Y9tMe",card:"style_card__2TvEi",content:"style_content__271Am",col_1:"style_col_1__1TKOX",col_2:"style_col_2__3pijo",action:"style_action__1m1PL",checked:"style_checked__3G_rW",staffsView:"style_staffsView__Dwaiq",sign_in_sheets_customer:"style_sign_in_sheets_customer__rMW9D",btn_full_screen:"style_btn_full_screen__3t8iN",step_6:"style_step_6__37kJt",storeCreate:"style_storeCreate__3rVo0",store_map:"style_store_map__1sfg5",card_appointment:"style_card_appointment__tlH6c",stores:"style_stores__3mXCr",margin:"style_margin__27zeF",link:"style_link__tG5bQ",timepicker:"style_timepicker__1O2V4",services:"style_services__2dp6P",staffs:"style_staffs__3kVcX",staff_map:"style_staff_map__iHf4N",customers:"style_customers__3lHPt",clear_search:"style_clear_search__1Cbb0",customerEdit:"style_customerEdit__3MzoJ",user_map:"style_user_map__2w0d4",profile_info:"style_profile_info__2spAl",color:"style_color__1MhCA",userEditMap:"style_userEditMap__1kRCO",rotate_btn:"style_rotate_btn__h0xlo",uploadButton:"style_uploadButton__-BT1o",calendarMap:"style_calendarMap__2c3no",CalendarMapDetail:"style_CalendarMapDetail__tCKkh",CalendarMapDetailEdit:"style_CalendarMapDetailEdit__2h7z0",details:"style_details__3X6EY",activities_logs:"style_activities_logs__1Bg7h",activity:"style_activity__ee6cL",payments:"style_payments__21LgF",payment_items:"style_payment_items__3bEQ_",item:"style_item__2OeQA",checkout_modal:"style_checkout_modal__3yHCG",button_group_payment:"style_button_group_payment__yIB8u",checkout_card:"style_checkout_card__-gKTS",credit_debit_text:"style_credit_debit_text__30Uho",credit_cards_container:"style_credit_cards_container__1N9nz",credit_cards:"style_credit_cards__3j_FI",StripeElement:"style_StripeElement__2WUxw"}},110:function(e,t,a){},121:function(e,t,a){e.exports=a.p+"static/media/subscr1.2de89284.png"},122:function(e,t,a){e.exports=a.p+"static/media/instagram.73cde979.png"},123:function(e,t,a){e.exports=a.p+"static/media/circle-facebook.b3b844d3.svg"},132:function(e,t,a){},155:function(e,t,a){e.exports=a.p+"static/media/stores.c3d533a6.png"},164:function(e,t,a){e.exports=a.p+"static/media/ic-logo.ef18e503.png"},165:function(e,t,a){e.exports=a.p+"static/media/home-1.8816ad8a.png"},166:function(e,t,a){e.exports=a.p+"static/media/social-photo2.6ec7deee.png"},172:function(e,t,a){e.exports=a.p+"static/media/store-create-6.08fa14e4.png"},181:function(e,t,a){e.exports=a.p+"static/media/home.72d7c5e4.svg"},252:function(e,t,a){e.exports=a.p+"static/media/store-create-1.6d0e5158.png"},253:function(e,t,a){e.exports=a.p+"static/media/store-create-2.c1e2aec6.png"},254:function(e,t,a){e.exports=a.p+"static/media/store-create-3.4691af00.png"},255:function(e,t,a){e.exports=a.p+"static/media/store-create-4.d5674a3e.png"},256:function(e,t,a){e.exports=a.p+"static/media/store-create-5.7c43dcd8.png"},269:function(e,t,a){e.exports=a.p+"static/media/storeCreate.dcf9b35a.png"},276:function(e,t,a){e.exports=a(528)},281:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/nailpocket-logo.73817251.png"},395:function(e,t,a){e.exports=a.p+"static/media/store-create-7.6e5267d4.png"},396:function(e,t,a){e.exports=a.p+"static/media/Credit-Cards.18b7d4ea.png"},528:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(25),r=a.n(c),o=(a(281),a(9)),l=a(10),i=a(12),m=a(11),u=a(7),d=(a(282),a(132),a(28)),h=a(272),p=a(1),f=a.n(p),E=a(5),g=a.n(E),v=a(8),b=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={open:!0,close:!1,animated:!1,storeId:!1,storePermalink:"",userId:"",ownerId:"",storeView:"",storeSelected:"",customerSignInView:null,isOwner:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){e.checkStore()&&(e.toggleMenu("close"),clearInterval(t))}),2e3)}},{key:"checkStore",value:function(){return!!localStorage.getItem("x-access-store-id")}},{key:"toggleMenu",value:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({storeView:localStorage.getItem("store-log-in"),storeSelected:localStorage.getItem("x-access-store-id"),userId:localStorage.getItem("x-access-user-id"),ownerId:localStorage.getItem("x-access-store-ownerId")});case 2:"open"===t?this.setState({open:!1,close:!0,animated:!0,storePermalink:localStorage.getItem("x-access-store-permalink")}):"close"===t&&this.setState({open:!0,close:!1,animated:!1}),this.state.ownerId==this.state.userId?this.setState({isOwner:!0}):this.setState({isOwner:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){if(localStorage.removeItem("x-access-token"),localStorage.removeItem("x-access-owner-id"),localStorage.removeItem("x-access-user-id"),localStorage.removeItem("x-access-store-permalink"),localStorage.removeItem("x-access-store-id"),localStorage.removeItem("x-access-store-ownerId"),localStorage.removeItem("store-log-in"),localStorage.removeItem("customerSignInView"),localStorage.removeItem("active-page"),localStorage.getItem("new_update"))var e=localStorage.getItem("new_update");localStorage.clear(),localStorage.setItem("new_update",e),window.location="/"}},{key:"render",value:function(){var e=this;return localStorage.getItem("x-access-token")?s.a.createElement(s.a.Fragment,null,s.a.createElement("nav",null,localStorage.getItem("customerSignInView")?s.a.createElement("div",{className:f.a.menu__icon__signInSheet},s.a.createElement("i",{className:"fas fa-sign-out-alt fa-lg","aria-hidden":"true",onClick:function(){return e.logOut()}})):s.a.createElement("div",{className:"".concat(f.a.menu__icon," ").concat(this.state.animated?f.a.fixed:"")},s.a.createElement("i",{className:"fas fa-grip-lines fa-2x ".concat(this.state.open?"":f.a.hidden," ").concat(f.a.active),"aria-hidden":"true",onClick:function(){return e.toggleMenu("open")}}),s.a.createElement("i",{className:"fa fa-times fa-2x ".concat(this.state.close?"":f.a.hidden," ").concat(f.a.active),"aria-hidden":"true",onClick:function(){return e.toggleMenu("close")}})),s.a.createElement("header",{className:"".concat(f.a.bg__alt," ").concat(this.state.animated?f.a.animated:"")},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("ul",null,"super admin"==localStorage.getItem("role")?s.a.createElement("li",null,s.a.createElement(u.b,{exact:!0,to:"/admin-dashboard",className:"".concat(f.a.btn," ").concat(f.a.btn__navi),onClick:function(){return e.toggleMenu("close")}},"Admin Dashboard")):"",this.state.storeSelected?s.a.createElement("li",null,s.a.createElement(u.b,{exact:!0,to:"/customer-sign-in-sheet",activeClassName:f.a.active,className:"".concat(f.a.btn," ").concat(f.a.btn__navi),onClick:function(){return e.toggleMenu("close")}},"Customer Sign In")):"","OFF"==localStorage.getItem("store-log-in")?s.a.createElement("li",{className:"".concat(this.state.storeLogIn?f.a.hidden:"")},s.a.createElement(u.b,{exact:!0,to:"/stores",className:"".concat(f.a.btn," ").concat(f.a.btn__navi),onClick:function(){return e.toggleMenu("close")}},"Switch Store")):"",this.state.storeSelected?s.a.createElement("li",null,s.a.createElement(u.b,{exact:!0,to:"/store/".concat(this.state.storePermalink),activeClassName:f.a.active,className:"".concat(f.a.btn," ").concat(f.a.btn__navi),onClick:function(){return e.toggleMenu("close")}},"Store Details")):"",this.state.storeSelected?s.a.createElement("li",null,s.a.createElement(u.b,{exact:!0,to:"/services",activeClassName:f.a.active,className:"".concat(f.a.btn," ").concat(f.a.btn__navi),onClick:function(){return e.toggleMenu("close")}},"Services")):"",this.state.storeSelected?s.a.createElement("li",null,s.a.createElement(u.b,{exact:!0,to:"/staffs",activeClassName:f.a.active,className:"".concat(f.a.btn," ").concat(f.a.btn__navi),onClick:function(){return e.toggleMenu("close")}},"Staff")):"",this.state.storeSelected?s.a.createElement("li",null,s.a.createElement(u.b,{exact:!0,to:"/customers",activeClassName:f.a.active,className:"".concat(f.a.btn," ").concat(f.a.btn__navi),onClick:function(){return e.toggleMenu("close")}},"Customers")):"","OFF"==localStorage.getItem("store-log-in")?s.a.createElement("li",null,s.a.createElement(u.b,{exact:!0,to:"/user/".concat(this.state.userId),className:"".concat(f.a.btn," ").concat(f.a.btn__navi),onClick:function(){return e.toggleMenu("close")}},"My Account")):"",this.state.isOwner?s.a.createElement("li",null,s.a.createElement(u.b,{exact:!0,to:"/subscription",className:"".concat(f.a.btn," ").concat(f.a.btn__navi),onClick:function(){return e.toggleMenu("close")}},"Subscription")):"",s.a.createElement("li",null,s.a.createElement(u.b,{to:"/",className:"".concat(f.a.btn," ").concat(f.a.btn__warning),onClick:function(){return e.logOut()}},"Log Out"))))),localStorage.getItem("customerSignInView")?"":s.a.createElement("div",{className:"".concat(f.a.bottom_nav," ").concat(f.a.justify_content_start," bottom_nav")},!localStorage.getItem("customerSignInView")&&localStorage.getItem("x-access-store-id")?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.b,{exact:!0,to:"/sign-in-sheets",className:"",onClick:function(){return e.toggleMenu("close")}},s.a.createElement("i",{className:"fas fa-clipboard-list fa-2x ".concat("sign-in-store"==localStorage.getItem("active-page")?f.a.active:"")})),s.a.createElement(u.b,{exact:!0,to:"/calendar/".concat(localStorage.getItem("x-access-store-permalink")),className:"",onClick:function(){return e.toggleMenu("close")}},s.a.createElement("i",{className:"fas fa-calendar-alt fa-2x ".concat("calendar"==localStorage.getItem("active-page")?f.a.active:"")}))):""))):null}}]),a}(n.Component),y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("footer",null)}}]),a}(n.Component),_=a(177);_.a.initialize("UA-172633731-1"),_.a.pageview(window.location.pathname+window.location.search);var N=function(e){var t=e.component,a=Object(h.a)(e,["component"]);return s.a.createElement(d.a,Object.assign({},a,{render:function(e){return s.a.createElement("div",{className:f.a.page_wrapper},s.a.createElement(b,null),s.a.createElement(t,e),localStorage.getItem("x-access-token")?s.a.createElement(y,null):"")}}))},w=a(3),S=a.n(w),k=a(83),x=(a(181),a(30)),C=a.n(x),I=a(165),H=a.n(I),O=a(166),T=a.n(O),M=a(94),D=a.n(M),P=a(121),F=a.n(P),A=a(122),j=a.n(A),Y=a(123),B=a.n(Y),L=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:f.a.Home},s.a.createElement("div",{className:"".concat(f.a.home_3)},s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("img",{src:F.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("h1",null,"Contact Us"),s.a.createElement("h4",null,s.a.createElement("i",{class:"fas fa-envelope-open fa-2x"}),s.a.createElement("a",{href:"mailto:info@nailpocket.com"},"info@nailpocket.com")))),s.a.createElement("div",{className:"".concat(f.a.home_4)},s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("h4",null,"\xa9 ",S()().year()," Nailpocket | ",s.a.createElement(u.b,{exact:!0,to:"/terms-of-use",className:"".concat(f.a.text_white)},"Terms of Use")," | ",s.a.createElement(u.b,{exact:!0,to:"/privacy-policy",className:"".concat(f.a.text_white)},"Privacy Policy"))),s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("a",{href:"https://www.facebook.com/nailpocketapp/",class:"social__item",target:"_blank"},s.a.createElement("img",{src:B.a,alt:"facebook"})),s.a.createElement("a",{href:"https://www.instagram.com/nailpocket/",target:"_blank",class:"social__item"},s.a.createElement("img",{src:j.a,alt:"instagram"})))))}}]),a}(n.Component),W=a(535),R=a(532),U=a(533),z=a(537),q=a(534);a(182),a(183);W.a.use([R.a,U.a]);var V=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")&&this.props.history.push("/stores"),localStorage.setItem("active-page","home")}},{key:"render",value:function(){return s.a.createElement("div",{id:f.a.Home},s.a.createElement(k.a,null,s.a.createElement("title",null,"NailPocket | Home"),s.a.createElement("meta",{name:"description",content:"NailPocket is an online scheduler system that helps Nail/Beauty salon to manage their appointment booking on the cloud."})),s.a.createElement(u.b,{exact:!0,to:"/",className:"".concat(f.a.logo," ").concat(f.a.btn_back)},s.a.createElement("img",{src:C.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.menu__icon)},s.a.createElement(u.b,{exact:!0,to:"/login",className:""},"Login"),s.a.createElement(u.b,{exact:!0,to:"/register",className:"".concat(f.a.btn)},"Create Account")),s.a.createElement("div",{className:"".concat(f.a.header)},s.a.createElement(z.a,{className:"".concat(f.a.slider),slidesPerView:1},s.a.createElement(q.a,{className:"".concat(f.a.slide," ").concat(f.a.slider_1)},s.a.createElement("div",{className:"".concat(f.a.overlay)}),s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center," ").concat(f.a.hero_content)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("h1",null,"Online Appointments Scheduling System"),s.a.createElement("h4",null,"Run your business"),s.a.createElement("h4",null,"DO NOT let your business run you."),s.a.createElement(u.b,{exact:!0,to:"/register",className:"".concat(f.a.btn," ").concat(f.a.margin_auto)},"GET STARTED")),s.a.createElement("img",{src:H.a,alt:""}))))))),s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.home_2," ").concat(f.a.home_2_a)},s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("img",{src:T.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Join us on Beta Testing and get ",s.a.createElement("br",null),s.a.createElement("span",null,"3 MONTHS FREE"),s.a.createElement("br",null)," of services in production"),s.a.createElement(u.b,{exact:!0,to:"/register",className:"".concat(f.a.btn," ").concat(f.a.margin_auto)},"Join Now"))),s.a.createElement("div",{className:"".concat(f.a.home_2," ").concat(f.a.home_2_b)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("h1",null,"We Offer a Full Range of Online Scheduler Services!"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",null,"Online management system")),s.a.createElement("li",null,s.a.createElement("a",null,"Friendly for non-tech savvy user")),s.a.createElement("li",null,s.a.createElement("a",null,"Calendar with color highlights for easy of use")),s.a.createElement("li",null,s.a.createElement("a",null,"Overlap booking alert")),s.a.createElement("li",null,s.a.createElement("a",null,"Sign in from tablet")),s.a.createElement("li",null,s.a.createElement("a",null,"Manage your business from home"))),s.a.createElement(u.b,{exact:!0,to:"/register",className:"".concat(f.a.btn)},"Register Today")),s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("img",{src:D.a,alt:""})))),s.a.createElement(L,null))}}]),a}(n.Component),G=a(14),K=a(6),J=a.n(K),X=a(61),Q=a.n(X),Z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.onSubmit=function(e){e.preventDefault(),J.a.post("https://api.intelcalendar.com/api/login",{email:n.state.email,password:n.state.password}).then((function(e){e.data.user?(localStorage.setItem("x-access-token",e.data.access_token),localStorage.setItem("x-access-user-id",e.data.user.id),localStorage.setItem("profile-image",e.data.user.profile_image),localStorage.setItem("store-log-in","OFF"),localStorage.setItem("user-log-in","ON"),localStorage.setItem("role",e.data.user.role),"super admin"==localStorage.getItem("role")?n.props.history.push("/admin-dashboard"):n.props.history.push("/stores")):J.a.post("https://api.intelcalendar.com/api/storeLogin",{username:n.state.email.toLowerCase(),password:n.state.password}).then((function(e){localStorage.setItem("store-log-in","ON"),localStorage.setItem("user-log-in","OFF"),localStorage.setItem("x-access-token",e.data.access_token),localStorage.setItem("store-permalink",e.data.store.permalink),n.props.history.push("/calendar/"+e.data.store.permalink)})).catch((function(e){n.setState({authError:!0})}))})).catch((function(e){n.setState({authError:!0})}))},n.state={email:"",password:"",authError:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")&&this.props.history.push("/stores")}},{key:"render",value:function(){return s.a.createElement("div",{id:f.a.Login},s.a.createElement(u.b,{exact:!0,to:"/",className:"".concat(f.a.logo," ").concat(f.a.btn_back)},s.a.createElement("img",{src:C.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.page_content)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("img",{src:Q.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Welcome Back")),s.a.createElement("form",{className:f.a.form,onSubmit:this.onSubmit},s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Email/Username"),s.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Password"),s.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{style:{display:this.state.authError?"block":"none"}},"Invalid username or password!",s.a.createElement("br",null)," Or check your email to verify if you has just created your account.")),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"submit",value:"Login",className:"".concat(f.a.btn," ").concat(f.a.btn__primary)})),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement(u.b,{exact:!0,to:"/forgot-password"},"Forgot Password"),s.a.createElement("br",null)),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("br",null),s.a.createElement(u.b,{exact:!0,to:"/register"},"Create new account"))))))}}]),a}(n.Component),$=a(56),ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.handleChangeComplete=function(e){n.setState({color:e.hex})},n.nextPage=function(){if(1==n.state.page){if(n.state.password!==n.state.passwordConfirm)return n.setState({authError:!0}),!1;var e=n.state.page+1;n.setState({page:e,authError:!1})}else{var t=n.state.page+1;n.setState({page:t,authError:!1})}},n.prevPage=function(){var e=n.state.page-1;n.setState({page:e})},n.onSubmit=function(e){e.preventDefault(),J.a.post("https://api.intelcalendar.com/api/register",{email:n.state.email.toLowerCase(),password:n.state.password,password_confirmation:n.state.passwordConfirm,fname:n.state.fname.toLowerCase(),lname:n.state.lname.toLowerCase(),phone:n.state.phone,color:n.state.color.toLowerCase(),term:"agreed",username:""}).then((function(e){n.setState({page:4})})).catch((function(e){n.setState({page:1,authErrorEmail:!0})}))},n.state={email:"",password:"",passwordConfirm:"",fname:"",lname:"",phone:"",owner:"",color:"#fff",authError:!1,authErrorEmail:!1,page:1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:f.a.Register},s.a.createElement(u.b,{exact:!0,to:"/",className:"".concat(f.a.logo," ").concat(f.a.btn_back)},s.a.createElement("img",{src:C.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.page_content)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("img",{src:D.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Register")),s.a.createElement("form",{className:f.a.form,onSubmit:this.onSubmit},s.a.createElement("div",{className:"".concat(f.a.page," ").concat(1==this.state.page?"":f.a.hidden)},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Please enter the information below"),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Email"),s.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{style:{display:this.state.authErrorEmail?"block":"none"}},"This email already existed")),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Password"),s.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Confirm Password"),s.a.createElement("input",{type:"password",name:"passwordConfirm",value:this.state.passwordConfirm,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{style:{display:this.state.authError?"block":"none"}},"Password didn't match"))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(2==this.state.page?"":f.a.hidden)},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Please enter the information below"),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"First Name"),s.a.createElement("input",{type:"text",name:"fname",value:this.state.fname,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Last Name"),s.a.createElement("input",{type:"text",name:"lname",value:this.state.lname,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Phone Number"),s.a.createElement("input",{type:"text",name:"phone",value:this.state.phone,onChange:this.handleInputChange,required:!0}))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.colorPage," ").concat(3==this.state.page?"":f.a.hidden)},s.a.createElement("input",{type:"hidden",value:"yes"==this.state.owner?"yes":"no",name:"owner"}),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h3",{className:"".concat(f.a.text_center)},"What is your favorite color?"),s.a.createElement("br",null)),s.a.createElement($.a,{color:this.state.color,onChangeComplete:this.handleChangeComplete,className:f.a.circlePicker})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(4==this.state.page?"":f.a.hidden)},s.a.createElement("h1",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Congrats!"),s.a.createElement("p",{className:"".concat(f.a.text_center)},"Your account has been created! Please check your email for confirmation.")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__primary," ").concat(3!=this.state.page&&4!=this.state.page?"":f.a.hidden),onClick:function(){return e.nextPage()}},"Next"),s.a.createElement("a",{className:"".concat(1!=this.state.page&&4!=this.state.page?"":f.a.hidden),onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("input",{type:"submit",value:"Register",className:"".concat(f.a.btn," ").concat(f.a.btn__primary," ").concat(3==this.state.page?"":f.a.hidden)})),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement(u.b,{exact:!0,to:"/login",className:" ".concat(1==this.state.page?"":f.a.hidden)},"Already had an account"),s.a.createElement("br",null))))))}}]),a}(n.Component),te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={success:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.href,a=new URL(t),n=a.searchParams.get("a"),s=a.searchParams.get("b");J.a.post("https://api.intelcalendar.com/api/verify",{id:n,hash:s}).then((function(t){e.setState({success:!0})})).catch((function(t){e.setState({success:!1})}))}},{key:"render",value:function(){return s.a.createElement("div",{id:f.a.Login},s.a.createElement(k.a,null,s.a.createElement("title",null,"NailPocket | Activation"),s.a.createElement("meta",{name:"description",content:"NailPocket, activate new account."})),s.a.createElement(u.b,{exact:!0,to:"/",className:"".concat(f.a.logo," ").concat(f.a.btn_back)},s.a.createElement("img",{src:C.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.page_content)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("img",{src:Q.a,alt:""})),this.state.success?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:f.a.row},s.a.createElement("form",null,s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)}," Thank you!"),s.a.createElement("p",{className:"".concat(f.a.text_center)},"Your account is activated!",s.a.createElement("br",null),"Thank you for choosing NailPocket."),s.a.createElement(u.b,{to:"/login",className:"".concat(f.a.btn," ").concat(f.a.btn__navi)},"Login"))))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:f.a.row},s.a.createElement("form",null,s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)}," Sorry..."),s.a.createElement("p",{className:"".concat(f.a.text_center)},"Please double check your activation link.",s.a.createElement("br",null),"Or contact us if you still have any questions.")))))))}}]),a}(n.Component),ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.onSubmit=function(e){if(e.preventDefault(),n.state.password!==n.state.passwordConfirm)return n.setState({authError:!0}),!1;var t=window.location.href,a=new URL(t).searchParams.get("a");J.a.post("https://api.intelcalendar.com/api/resetPassword",{id:a,password:n.state.password}).then((function(e){n.setState({success:!0})})).catch((function(e){n.setState({success:!1})}))},n.state={password:"",passwordConfirm:"",authError:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.location.href,a=new URL(t),n=a.searchParams.get("a"),s=a.searchParams.get("b");J.a.post("https://api.intelcalendar.com/api/resetPasswordValidation",{id:n,hash:s}).then((function(e){})).catch((function(t){e.props.history.push("/")}))}},{key:"render",value:function(){return s.a.createElement("div",{id:f.a.Login},s.a.createElement(u.b,{exact:!0,to:"/",className:"".concat(f.a.logo," ").concat(f.a.btn_back)},s.a.createElement("img",{src:C.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.page_content)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("img",{src:Q.a,alt:""})),this.state.success?s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:f.a.row},s.a.createElement("form",null,s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Thank you!"),s.a.createElement("p",{className:"".concat(f.a.text_center)},"Your password has been updated."),s.a.createElement(u.b,{exact:!0,to:"/login",className:"".concat(f.a.btn," ").concat(f.a.btn__primary)},"Login")))):s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Reset Password"),s.a.createElement("form",{className:f.a.form,onSubmit:this.onSubmit},s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Password"),s.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Confirm Password"),s.a.createElement("input",{type:"password",name:"passwordConfirm",value:this.state.passwordConfirm,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{style:{display:this.state.authError?"block":"none"}},"Password didn't match")),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"submit",value:"Submit",className:"".concat(f.a.btn," ").concat(f.a.btn__primary)}))))))}}]),a}(n.Component),ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.onSubmit=function(e){e.preventDefault(),J.a.post("https://api.intelcalendar.com/api/forgotPassword",{email:n.state.email}).then((function(e){n.setState({success:!0})})).catch((function(e){n.setState({success:!1})}))},n.state={email:"",success:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{id:f.a.Login},s.a.createElement(u.b,{exact:!0,to:"/",className:"".concat(f.a.logo," ").concat(f.a.btn_back)},s.a.createElement("img",{src:C.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.page_content)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("img",{src:Q.a,alt:""})),this.state.success?s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:f.a.row},s.a.createElement("form",null,s.a.createElement("p",{className:"".concat(f.a.text_center)},"We've sent the reset instructions to your email. Please allow couple minutes for the mail to come through. Please also check your Spam mailbox as well.")))):s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Forgot Your Password"),s.a.createElement("form",{className:f.a.form,onSubmit:this.onSubmit},s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{className:"".concat(f.a.text_center)},"We're sorry this happened to you.",s.a.createElement("br",null),"But no worries, we're here to help")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("label",{htmlFor:""},"Please enter your account email"),s.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"submit",value:"Verify email",className:"".concat(f.a.btn," ").concat(f.a.btn__primary)}))))))}}]),a}(n.Component),se=a(252),ce=a.n(se),re=a(253),oe=a.n(re),le=a(254),ie=a.n(le),me=a(255),ue=a.n(me),de=a(256),he=a.n(de),pe=a(172),fe=a.n(pe);a(395);W.a.use([R.a,U.a]);var Ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")&&this.props.history.push("/stores"),localStorage.setItem("active-page","home")}},{key:"render",value:function(){return s.a.createElement("div",{id:f.a.Home,className:"".concat(f.a.FAQs)},s.a.createElement("a",{href:"/",className:"".concat(f.a.logo," ").concat(f.a.btn_back)},s.a.createElement("img",{src:C.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.menu__icon)},s.a.createElement(u.b,{exact:!0,to:"/login",className:""},"Login"),s.a.createElement(u.b,{exact:!0,to:"/register",className:"".concat(f.a.btn)},"Create Account")),s.a.createElement("div",{className:"".concat(f.a.header)},s.a.createElement(z.a,{className:"".concat(f.a.slider),slidesPerView:1},s.a.createElement(q.a,{className:"".concat(f.a.slide," ").concat(f.a.slider_1)},s.a.createElement("div",{className:"".concat(f.a.overlay)}),s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center," ").concat(f.a.hero_content)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("h1",null,"Frequently Asked Questions")))))))),s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.home_2)},s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("h1",null,"How to create new store?"),s.a.createElement("i",{className:"fas fa-chevron-right"}),s.a.createElement("div",{className:"".concat(f.a.copy)},s.a.createElement("img",{src:ce.a,alt:""}),s.a.createElement("img",{src:oe.a,alt:""}),s.a.createElement("img",{src:ie.a,alt:""}),s.a.createElement("img",{src:ue.a,alt:""}),s.a.createElement("img",{src:he.a,alt:""}),s.a.createElement("img",{src:fe.a,alt:""}),s.a.createElement("img",{src:fe.a,alt:""})))),s.a.createElement("div",{className:"".concat(f.a.home_3)},s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("img",{src:F.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("h1",null,"Contact Us"),s.a.createElement("h4",null,s.a.createElement("i",{class:"fas fa-envelope-open fa-2x"}),s.a.createElement("a",{href:"mailto:info@nailpocket.com"},"info@nailpocket.com")))),s.a.createElement("div",{className:"".concat(f.a.home_4)},s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("h4",null,"\xa9 ",S()().year()," Nailpocket.com")),s.a.createElement("div",{className:"".concat(f.a.col)},s.a.createElement("a",{href:"https://www.facebook.com/nailpocketapp/",class:"social__item",target:"_blank"},s.a.createElement("img",{src:B.a,alt:"facebook"})),s.a.createElement("a",{href:"https://www.instagram.com/nailpocket/",target:"_blank",class:"social__item"},s.a.createElement("img",{src:j.a,alt:"instagram"})))))}}]),a}(n.Component),ge=a(74),ve=a(257),be=(a(396),{style:{style:{base:{fontSize:"16px",color:"#424770",letterSpacing:"0.025em","::placeholder":{color:"#333"}},invalid:{color:"#c23d4b"}}}});var ye=function(){return s.a.createElement("label",null,s.a.createElement("div",{className:"".concat(f.a.checkout_card)},s.a.createElement(ge.CardElement,{options:be})))},_e=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.handleSubmit=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c,r,o,l,i,m,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.props,s=a.stripe,c=a.elements,s&&c){e.next=4;break}return e.abrupt("return");case 4:return r=c.getElement(ge.CardElement),e.next=7,s.createToken(r);case 7:if(!(o=e.sent).error){e.next=12;break}console.log(o.error.message),e.next=19;break;case 12:return e.next=14,n.setState({loading:!0});case 14:l=o.token,i=localStorage.getItem("x-access-store-id"),m={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},u=localStorage.getItem("x-access-store-ownerId"),J.a.get("https://api.intelcalendar.com/api/user/".concat(u),m).then((function(e){var t=e.data.user.email;e.data.user.fname;J.a.post("https://api.intelcalendar.com/api/subscribe/"+i,{stripeEmail:t.toLowerCase(),stripeToken:l.id,full_name:n.state.fname.toLowerCase()+" "+n.state.lname.toLowerCase(),city:n.state.city.toLowerCase(),state:n.state.thisState,postal_code:n.state.zip,line1:n.state.street.toLowerCase(),packageId:n.state.selectedPlan},m).then((function(e){"Your card has insufficient funds."===e.data?n.setState({headerMessage:"Sorry!",bodyMessage:"Your card has insufficient funds. Please try again",buttonCode:"decline",loading:!1,modalMessage:!0}):"Your card was declined. This transaction requires authentication."===e.data?n.setState({headerMessage:"Sorry!",bodyMessage:"Your card was declined. This transaction requires authentication. Please try again",buttonCode:"authentication",loading:!1,modalMessage:!0}):n.setState({headerMessage:"Thank you!",bodyMessage:"Your payment has been submitted.",buttonCode:"success",loading:!1,modalMessage:!0})})).catch((function(t){console.log(e)}))}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.refreshPage=function(){"decline"==n.state.buttonCode?n.setState({modalMessage:!1}):"success"==n.state.buttonCode?window.location.reload():n.setState({modalMessage:!1})},n.state={loading:!1,modalMessage:!1,bodyMessage:"",headerMessage:"",buttonCode:null,products:[],selectedPlan:"",PreSelectedPlanId:"",PreSelectedPlanName:"",fname:"",lname:"",street:"",city:"",thisState:"",zip:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getAllPlans",t).then((function(t){e.setState({products:t.data.products})}));var a=localStorage.getItem("x-access-store-id");J.a.get("https://api.intelcalendar.com/api/getPackageByStoreId/"+a,t).then((function(t){t.data.packageId&&e.setState({PreSelectedPlanId:t.data.packageId,PreSelectedPlanName:t.data.product,selectedPlan:t.data.packageId})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:f.a.row},this.state.PreSelectedPlanId?s.a.createElement(s.a.Fragment,null):s.a.createElement("select",{name:"selectedPlan",onChange:this.handleInputChange},s.a.createElement("option",{value:""},"Please Select a plan"),this.state.products.length>0?this.state.products.map((function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:t.id,selected:e.state.selectedPlan==t.id?"selected":"",key:t.id},t.product_name))})):"")),s.a.createElement("span",{style:{marginRight:"10px"}},"You are enrolling in our auto-payment system. Please enter your payment information. "),s.a.createElement("br",null),s.a.createElement(ye,null),s.a.createElement("span",{style:{marginRight:"10px"}},"Billing information"),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"fname",value:this.state.fname,onChange:this.handleInputChange,placeholder:"First Name",required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"lname",value:this.state.lname,onChange:this.handleInputChange,placeholder:"Last Name",required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"street",value:this.state.street,onChange:this.handleInputChange,placeholder:"Street Address",required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleInputChange,placeholder:"City",required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("select",{name:"thisState",onChange:this.handleInputChange},s.a.createElement("option",{value:""},"State"),s.a.createElement("option",{value:"AL",selected:"AL"==this.state.thisState?"selected":""},"Alabama"),s.a.createElement("option",{value:"AK",selected:"AK"==this.state.thisState?"selected":""},"Alaska"),s.a.createElement("option",{value:"AZ",selected:"AZ"==this.state.thisState?"selected":""},"Arizona"),s.a.createElement("option",{value:"AR",selected:"AR"==this.state.thisState?"selected":""},"Arkansas"),s.a.createElement("option",{value:"CA",selected:"CA"==this.state.thisState?"selected":""},"California"),s.a.createElement("option",{value:"CO",selected:"CO"==this.state.thisState?"selected":""},"Colorado"),s.a.createElement("option",{value:"CT",selected:"CT"==this.state.thisState?"selected":""},"Connecticut"),s.a.createElement("option",{value:"DE",selected:"DE"==this.state.thisState?"selected":""},"Delaware"),s.a.createElement("option",{value:"DC",selected:"DC"==this.state.thisState?"selected":""},"District Of Columbia"),s.a.createElement("option",{value:"FL",selected:"FL"==this.state.thisState?"selected":""},"Florida"),s.a.createElement("option",{value:"GA",selected:"GA"==this.state.thisState?"selected":""},"Georgia"),s.a.createElement("option",{value:"HI",selected:"HI"==this.state.thisState?"selected":""},"Hawaii"),s.a.createElement("option",{value:"ID",selected:"ID"==this.state.thisState?"selected":""},"Idaho"),s.a.createElement("option",{value:"IL",selected:"IL"==this.state.thisState?"selected":""},"Illinois"),s.a.createElement("option",{value:"IN",selected:"IN"==this.state.thisState?"selected":""},"Indiana"),s.a.createElement("option",{value:"IA",selected:"IA"==this.state.thisState?"selected":""},"Iowa"),s.a.createElement("option",{value:"KS",selected:"KS"==this.state.thisState?"selected":""},"Kansas"),s.a.createElement("option",{value:"KY",selected:"KY"==this.state.thisState?"selected":""},"Kentucky"),s.a.createElement("option",{value:"LA",selected:"LA"==this.state.thisState?"selected":""},"Louisiana"),s.a.createElement("option",{value:"ME",selected:"ME"==this.state.thisState?"selected":""},"Maine"),s.a.createElement("option",{value:"MD",selected:"MD"==this.state.thisState?"selected":""},"Maryland"),s.a.createElement("option",{value:"MA",selected:"MA"==this.state.thisState?"selected":""},"Massachusetts"),s.a.createElement("option",{value:"MI",selected:"MI"==this.state.thisState?"selected":""},"Michigan"),s.a.createElement("option",{value:"MN",selected:"MN"==this.state.thisState?"selected":""},"Minnesota"),s.a.createElement("option",{value:"MS",selected:"MS"==this.state.thisState?"selected":""},"Mississippi"),s.a.createElement("option",{value:"MO",selected:"MO"==this.state.thisState?"selected":""},"Missouri"),s.a.createElement("option",{value:"MT",selected:"MT"==this.state.thisState?"selected":""},"Montana"),s.a.createElement("option",{value:"NE",selected:"NE"==this.state.thisState?"selected":""},"Nebraska"),s.a.createElement("option",{value:"NV",selected:"NV"==this.state.thisState?"selected":""},"Nevada"),s.a.createElement("option",{value:"NH",selected:"NH"==this.state.thisState?"selected":""},"New Hampshire"),s.a.createElement("option",{value:"NJ",selected:"NJ"==this.state.thisState?"selected":""},"New Jersey"),s.a.createElement("option",{value:"NM",selected:"NM"==this.state.thisState?"selected":""},"New Mexico"),s.a.createElement("option",{value:"NY",selected:"NY"==this.state.thisState?"selected":""},"New York"),s.a.createElement("option",{value:"NC",selected:"NC"==this.state.thisState?"selected":""},"North Carolina"),s.a.createElement("option",{value:"ND",selected:"ND"==this.state.thisState?"selected":""},"North Dakota"),s.a.createElement("option",{value:"OH",selected:"OH"==this.state.thisState?"selected":""},"Ohio"),s.a.createElement("option",{value:"OK",selected:"OK"==this.state.thisState?"selected":""},"Oklahoma"),s.a.createElement("option",{value:"OR",selected:"OR"==this.state.thisState?"selected":""},"Oregon"),s.a.createElement("option",{value:"PA",selected:"PA"==this.state.thisState?"selected":""},"Pennsylvania"),s.a.createElement("option",{value:"RI",selected:"RI"==this.state.thisState?"selected":""},"Rhode Island"),s.a.createElement("option",{value:"SC",selected:"SC"==this.state.thisState?"selected":""},"South Carolina"),s.a.createElement("option",{value:"SD",selected:"SD"==this.state.thisState?"selected":""},"South Dakota"),s.a.createElement("option",{value:"TN",selected:"TN"==this.state.thisState?"selected":""},"Tennessee"),s.a.createElement("option",{value:"TX",selected:"TX"==this.state.thisState?"selected":""},"Texas"),s.a.createElement("option",{value:"UT",selected:"UT"==this.state.thisState?"selected":""},"Utah"),s.a.createElement("option",{value:"VT",selected:"VT"==this.state.thisState?"selected":""},"Vermont"),s.a.createElement("option",{value:"VA",selected:"VA"==this.state.thisState?"selected":""},"Virginia"),s.a.createElement("option",{value:"WA",selected:"WA"==this.state.thisState?"selected":""},"Washington"),s.a.createElement("option",{value:"WV",selected:"WV"==this.state.thisState?"selected":""},"West Virginia"),s.a.createElement("option",{value:"WI",selected:"WI"==this.state.thisState?"selected":""},"Wisconsin"),s.a.createElement("option",{value:"WY",selected:"WY"==this.state.thisState?"selected":""},"Wyoming"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"zip",value:this.state.zip,onChange:this.handleInputChange,placeholder:"Zip Code",required:!0})),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.button_group_payment)},s.a.createElement("span",{style:{marginRight:"10px",fontSize:"14px"}},"By tapping Submit, you agree to our ",s.a.createElement("a",{href:"/terms-of-use",target:"_blank"},"Term of Use")),s.a.createElement("button",{disabled:!this.props.stripe,className:"".concat(f.a.btn," ").concat(f.a.btn_inline," btn-pay"),style:{fontSize:"16px",outline:"none"}},"Submit"))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),function(){if(e.state.loading)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert," ").concat(f.a.loading)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("div",{class:"fa-3x"},s.a.createElement("i",{className:"fas fa-spinner fa-spin ".concat(f.a.loading_icon)})))))}(),function(){if(e.state.modalMessage)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("h1",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},e.state.headerMessage),s.a.createElement("p",{className:"".concat(f.a.text_center)},e.state.bodyMessage),s.a.createElement("div",{className:"".concat(f.a.button_group)},s.a.createElement("a",{onClick:function(){return e.refreshPage()},className:"".concat(f.a.btn," ").concat(f.a.margin_auto)},"Close")))))}())}}]),a}(s.a.Component);function Ne(){return s.a.createElement(ge.ElementsConsumer,null,(function(e){var t=e.stripe,a=e.elements;return s.a.createElement(_e,{stripe:t,elements:a})}))}var we=Object(ve.a)("pk_live_51I3CqPCQrxuTF0caCE00vyeNLVS5LlZ7DXbuOc93fUufPhXgtIcKY6t9lOwnebmtPoY3kUf6QOj7hE0mSX4Wvhe500N2T41rCq"),Se=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={storeId:localStorage.getItem("x-access-store-id"),isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),package_name:"",store_name:"",package_price:0,expiration:null,current_period_start:null,current_period_end:null,invoices:[],paymentMethods:[],modalMakePayment:!1,modalPaymentMethods:!1,default_source:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?this.state.ownerId==this.state.userId&&(this.setState({isOwner:!0}),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=localStorage.getItem("x-access-store-id"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getPackageByStoreId/"+t,a).then((function(t){e.setState({package_name:t.data.product,package_price:t.data.price,store_name:t.data.storeName,expiration:t.data.expiration?t.data.expiration:"inactive",current_period_start:t.data.current_period_start,current_period_end:t.data.current_period_end})})),J.a.get("https://api.intelcalendar.com/api/getInvoicesByStoreId/"+t,a).then((function(t){e.setState({invoices:t.data.invoices})})),J.a.get("https://api.intelcalendar.com/api/getPMByStoreId/"+t,a).then((function(t){e.setState({paymentMethods:t.data.paymentMethods,default_source:t.data.default_source})}))}},{key:"setDefaultPMByStoreId",value:function(e){var t=this,a=localStorage.getItem("x-access-store-id"),n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.post("https://api.intelcalendar.com/api/setDefaultPMByStoreId/"+a,{pm_source:e},n).then((function(e){t.fetchData()}))}},{key:"openModalMakePayment",value:function(){this.setState({modalMakePayment:!0})}},{key:"openModalPaymentMethods",value:function(){this.setState({modalPaymentMethods:!0})}},{key:"closeAllModal",value:function(){this.setState({modalMakePayment:!1,modalPaymentMethods:!1}),this.fetchData()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.store_map," ").concat(f.a.payments," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Subscription")),s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-gem ".concat(f.a.text_blue)})," ",s.a.createElement("p",null,s.a.createElement("b",null,"Plan:")," ",s.a.createElement("span",{style:{textTransform:"uppercase"}},this.state.package_name," ($",(this.state.package_price/100).toFixed(2)),"/month)")),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas ".concat("active"==this.state.expiration?"fa-toggle-on":"fa-toggle-off"," ").concat(f.a.text_blue)})," ",s.a.createElement("p",null,s.a.createElement("b",null,"Status:")," ",this.state.expiration)),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-redo ".concat(f.a.text_blue)})," ",s.a.createElement("p",null,s.a.createElement("b",null,"Auto payment:")," Yes")),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-clock ".concat(f.a.text_blue)})," ",s.a.createElement("p",null,s.a.createElement("b",null,"Current period:")," ",this.state.current_period_start?S()(this.state.current_period_start,"X").format("MMM Do"):"inactive"," ",this.state.current_period_end?"- ".concat(S()(this.state.current_period_end,"X").format("MMM Do")):"")),s.a.createElement("div",null,"inactive"==this.state.expiration||null==this.state.expiration?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn_inline),onClick:function(){return e.openModalMakePayment()}},"Subscribe now"):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Next invoice will be billed on ",S()(this.state.current_period_end,"X").format("M-D-Y")),s.a.createElement("p",null,"Please ",s.a.createElement("a",{href:"mailto:info@nailpocket.com"},"contact us")," if you would like to cancel your subscription."))),s.a.createElement("div",{className:"".concat(f.a.activity)},s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("p",{style:{textDecoration:"underline"}},s.a.createElement("b",null,"Billings history"))),s.a.createElement("div",{className:"".concat(f.a.payment_items)},this.state.invoices.length>0?this.state.invoices.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.item),style:{display:"flex",justifyContent:"space-between"},key:e.id},s.a.createElement("span",{style:{display:"inline-block",width:"auto"}},S()(e.period_start,"X").format("M-D-Y")),s.a.createElement("span",{style:{display:"inline-block",width:"auto",fontSize:"12px"}},"$",(e.amount_paid/100).toFixed(2)," - ",s.a.createElement("a",{href:e.hosted_invoice_url,target:"_blank",style:{fontSize:"12px"}},"View Invoice"))))})):"No data")),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null)),function(){if(e.state.modalMakePayment)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.normal," ").concat(f.a.zIndex," ").concat(f.a.customers," ").concat(f.a.checkout_modal)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Subscribe")),s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("a",{onClick:function(){return e.closeAllModal()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement(ge.Elements,{stripe:we},s.a.createElement(Ne,null)))))}(),function(){if(e.state.modalPaymentMethods)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.normal," ").concat(f.a.zIndex," ").concat(f.a.customers," ").concat(f.a.checkout_modal)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Payment Methods")),s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.activity)},s.a.createElement("div",{className:"".concat(f.a.payment_items)},s.a.createElement("a",{onClick:function(){return e.closeAllModal()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),e.state.paymentMethods.length>0?e.state.paymentMethods.map((function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.item),style:{display:"flex",justifyContent:"space-between"},key:t.id},s.a.createElement("span",{style:{display:"inline-block",width:"auto"}},"**** **** **** ",t.card.last4),s.a.createElement("span",{style:{display:"inline-block",width:"auto",fontSize:"12px"}},e.state.default_source!=t.id?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn_inline),onClick:function(){return e.setDefaultPMByStoreId(t.id)}},"Set as primary payment method"):s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-check ".concat(f.a.text_blue)}),s.a.createElement("b",null,"PRIMARY")))))})):"No data")))))}())}}]),a}(n.Component),ke=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={loggedIn:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")&&this.setState({loggedIn:!0})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:f.a.Register,className:f.a.contentPage},s.a.createElement(u.b,{exact:!0,to:"/",className:"".concat(f.a.logo," ").concat(f.a.btn_back)},s.a.createElement("img",{src:C.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.page_content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.bg_1)},s.a.createElement("h1",null,"Terms of Use")),s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("p",null,s.a.createElement("strong",null,"OVERVIEW")),s.a.createElement("p",null,"This website is operated by NailPocket. Throughout the site, the terms \u201cwe\u201d, \u201cus\u201d and \u201cour\u201d refer to NailPocket. NailPocket offers this website, including all information, tools and services available from this site to you, the user, conditioned upon your acceptance of all terms, conditions, policies and notices stated here."),s.a.createElement("p",null,"By visiting our site and/ or purchasing something from us, you engage in our \u201cService\u201d and agree to be bound by the following terms and conditions (\u201cTerms of Use\u201d, \u201cTerms\u201d), including those additional terms and conditions and policies referenced herein and/or available by hyperlink. These Terms of Use apply to all users of the site, including without limitation users who are browsers, vendors, customers, merchants, and/ or contributors of content."),s.a.createElement("p",null,"Please read these Terms of Use carefully before accessing or using our website. By accessing or using any part of the site, you agree to be bound by these Terms of Use. If you do not agree to all the terms and conditions of this agreement, then you may not access the website or use any services. If these Terms of Use are considered an offer, acceptance is expressly limited to these Terms of Use."),s.a.createElement("p",null,"Any new features or tools which are added to the current store shall also be subject to the Terms of Use. You can review the most current version of the Terms of Use at any time on this page. We reserve the right to update, change or replace any part of these Terms of Use by posting updates and/or changes to our website. It is your responsibility to check this page periodically for changes. Your continued use of or access to the website following the posting of any changes constitutes acceptance of those changes."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 1 \u2013 ONLINE PRODUCT TERMS")),s.a.createElement("p",null,"By agreeing to these Terms of Use, you represent that you are at least the age of majority in your state or province of residence, or that you are the age of majority in your state or province of residence and you have given us your consent to allow any of your minor dependents to use this site."),s.a.createElement("p",null,"You may not use our products for any illegal or unauthorized purpose nor may you, in the use of the Service, violate any laws in your jurisdiction (including but not limited to copyright laws)."),s.a.createElement("p",null,"You must not transmit any worms or viruses or any code of a destructive nature."),s.a.createElement("p",null,"A breach or violation of any of the Terms will result in an immediate termination of your Services."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 2 \u2013 GENERAL CONDITIONS")),s.a.createElement("p",null,"We reserve the right to refuse service to anyone for any reason at any time."),s.a.createElement("p",null,"You understand that your content (not including credit card information), may be transferred unencrypted and involve (a) transmissions over various networks; and (b) changes to conform and adapt to technical requirements of connecting networks or devices. Credit card information is always encrypted during transfer over networks."),s.a.createElement("p",null,"You agree not to reproduce, duplicate, copy, sell, resell or exploit any portion of the Service, use of the Service, or access to the Service or any contact on the website through which the service is provided, without express written permission by us."),s.a.createElement("p",null,"The headings used in this agreement are included for convenience only and will not limit or otherwise affect these Terms."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 3 \u2013 ACCURACY, COMPLETENESS AND TIMELINESS OF INFORMATION")),s.a.createElement("p",null,"We are not responsible if information made available on this site is not accurate, complete or current. The material on this site is provided for general information only and should not be relied upon or used as the sole basis for making decisions without consulting primary, more accurate, more complete or more timely sources of information. Any reliance on the material on this site is at your own risk."),s.a.createElement("p",null,"This site may contain certain historical information. Historical information, necessarily, is not current and is provided for your reference only. We reserve the right to modify the contents of this site at any time, but we have no obligation to update any information on our site. You agree that it is your responsibility to monitor changes to our site."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 4 \u2013 MODIFICATIONS TO THE SERVICE AND PRICES")),s.a.createElement("p",null,"Prices for our products are subject to change without notice."),s.a.createElement("p",null,"We reserve the right at any time to modify or discontinue the Service (or any part or content thereof) without notice at any time."),s.a.createElement("p",null,"We shall not be liable to you or to any third-party for any modification, price change, suspension or discontinuance of the Service."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 5 \u2013 PRODUCTS OR SERVICES (if applicable)")),s.a.createElement("p",null,"Certain products or services may be available exclusively online through the website. These products or services may have limited quantities and are subject to return or exchange only according to our Return Policy."),s.a.createElement("p",null,"We reserve the right, but are not obligated, to limit the sales of our products or Services to any person, geographic region or jurisdiction. We may exercise this right on a case-by-case basis. We reserve the right to limit the quantities of any products or services that we offer. All descriptions of products or product pricing are subject to change at anytime without notice, at the sole discretion of us. We reserve the right to discontinue any product at any time. Any offer for any product or service made on this site is void where prohibited."),s.a.createElement("p",null,"We do not warrant that the quality of any products, services, information, or other material purchased or obtained by you will meet your expectations, or that any errors in the Service will be corrected."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 6 \u2013 ACCURACY OF BILLING AND ACCOUNT INFORMATION")),s.a.createElement("p",null,"We reserve the right to refuse any order you place with us. We may, in our sole discretion, limit or cancel quantities purchased per person, per household or per order. These restrictions may include orders placed by or under the same customer account, the same credit card, and/or orders that use the same billing and/or shipping address. In the event that we make a change to or cancel an order, we may attempt to notify you by contacting the e-mail and/or billing address/phone number provided at the time the order was made. We reserve the right to limit or prohibit orders that, in our sole judgment, appear to be placed by dealers, resellers or distributors."),s.a.createElement("p",null,"You agree to provide current, complete and accurate purchase and account information for all purchases made at our store. You agree to promptly update your account and other information, including your email address and credit card numbers and expiration dates, so that we can complete your transactions and contact you as needed."),s.a.createElement("p",null,"For more detail, please review our Returns Policy."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 7 \u2013 OPTIONAL TOOLS")),s.a.createElement("p",null,"We may provide you with access to third-party tools over which we neither monitor nor have any control nor input."),s.a.createElement("p",null,"You acknowledge and agree that we provide access to such tools \u201das is\u201d and \u201cas available\u201d without any warranties, representations or conditions of any kind and without any endorsement. We shall have no liability whatsoever arising from or relating to your use of optional third-party tools."),s.a.createElement("p",null,"Any use by you of optional tools offered through the site is entirely at your own risk and discretion and you should ensure that you are familiar with and approve of the terms on which tools are provided by the relevant third-party provider(s)."),s.a.createElement("p",null,"We may also, in the future, offer new services and/or features through the website (including, the release of new tools and resources). Such new features and/or services shall also be subject to these Terms of Use."),s.a.createElement("p",null,"Google\u2019s Terms of Use and Google\u2019s Privacy Policy can be obtained by contacting Google directly or visting their website."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 8 \u2013 THIRD-PARTY LINKS")),s.a.createElement("p",null,"Certain content, products and services available via our Service may include materials from third-parties."),s.a.createElement("p",null,"Third-party links on this site may direct you to third-party websites that are not affiliated with us. We are not responsible for examining or evaluating the content or accuracy and we do not warrant and will not have any liability or responsibility for any third-party materials or websites, or for any other materials, products, or services of third-parties."),s.a.createElement("p",null,"We are not liable for any harm or damages related to the purchase or use of goods, services, resources, content, or any other transactions made in connection with any third-party websites. Please review carefully the third-party\u2019s policies and practices and make sure you understand them before you engage in any transaction. Complaints, claims, concerns, or questions regarding third-party products should be directed to the third-party."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 9 \u2013 USER COMMENTS, FEEDBACK AND OTHER SUBMISSIONS")),s.a.createElement("p",null,"If, at our request, you send certain specific submissions (for example contest entries) or without a request from us you send creative ideas, suggestions, proposals, plans, or other materials, whether online, by email, by postal mail, or otherwise (collectively, \u2018comments\u2019), you agree that we may, at any time, without restriction, edit, copy, publish, distribute, translate and otherwise use in any medium any comments that you forward to us. We are and shall be under no obligation (1) to maintain any comments in confidence; (2) to pay compensation for any comments; or (3) to respond to any comments."),s.a.createElement("p",null,"We may, but have no obligation to, monitor, edit or remove content that we determine in our sole discretion are unlawful, offensive, threatening, libelous, defamatory, pornographic, obscene or otherwise objectionable or violates any party\u2019s intellectual property or these Terms of Use."),s.a.createElement("p",null,"You agree that your comments will not violate any right of any third-party, including copyright, trademark, privacy, personality or other personal or proprietary right. You further agree that your comments will not contain libelous or otherwise unlawful, abusive or obscene material, or contain any computer virus or other malware that could in any way affect the operation of the Service or any related website. You may not use a false e-mail address, pretend to be someone other than yourself, or otherwise mislead us or third-parties as to the origin of any comments. You are solely responsible for any comments you make and their accuracy. We take no responsibility and assume no liability for any comments posted by you or any third-party."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 10 \u2013 PERSONAL INFORMATION")),s.a.createElement("p",null,"Your submission of personal information through the store is governed by our Privacy Policy. The Privacy Policy is available for review on the website."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 11 \u2013 ERRORS, INACCURACIES AND OMISSIONS")),s.a.createElement("p",null,"Occasionally there may be information on our site or in the Service that contains typographical errors, inaccuracies or omissions that may relate to product descriptions, pricing, promotions, offers, product shipping charges, transit times and availability. We reserve the right to correct any errors, inaccuracies or omissions, and to change or update information or cancel orders if any information in the Service or on any related website is inaccurate at any time without prior notice (including after you have submitted your order)."),s.a.createElement("p",null,"We undertake no obligation to update, amend or clarify information in the Service or on any related website, including without limitation, pricing information, except as required by law. No specified update or refresh date applied in the Service or on any related website, should be taken to indicate that all information in the Service or on any related website has been modified or updated."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 12 \u2013 PROHIBITED USES")),s.a.createElement("p",null,"In addition to other prohibitions as set forth in the Terms of Use, you are prohibited from using the site or its content: (a) for any unlawful purpose; (b) to solicit others to perform or participate in any unlawful acts; (c) to violate any international, federal, provincial or state regulations, rules, laws, or local ordinances; (d) to infringe upon or violate our intellectual property rights or the intellectual property rights of others; (e) to harass, abuse, insult, harm, defame, slander, disparage, intimidate, or discriminate based on gender, sexual orientation, religion, ethnicity, race, age, national origin, or disability; (f) to submit false or misleading information; (g) to upload or transmit viruses or any other type of malicious code that will or may be used in any way that will affect the functionality or operation of the Service or of any related website, other websites, or the Internet; (h) to collect or track the personal information of others; (i) to spam, phish, pharm, pretext, spider, crawl, or scrape; (j) for any obscene or immoral purpose; or (k) to interfere with or circumvent the security features of the Service or any related website, other websites, or the Internet. We reserve the right to terminate your use of the Service or any related website for violating any of the prohibited uses."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 13 \u2013 DISCLAIMER OF WARRANTIES; LIMITATION OF LIABILITY")),s.a.createElement("p",null,"We do not guarantee, represent or warrant that your use of our service will be uninterrupted, timely, secure or error-free."),s.a.createElement("p",null,"We do not warrant that the results that may be obtained from the use of the service will be accurate or reliable."),s.a.createElement("p",null,"You agree that from time to time we may remove the service for indefinite periods of time or cancel the service at any time, without notice to you."),s.a.createElement("p",null,"You expressly agree that your use of, or inability to use, the service is at your sole risk. The service and all products and services delivered to you through the service are (except as expressly stated by us) provided \u2018as is\u2019 and \u2018as available\u2019 for your use, without any representation, warranties or conditions of any kind, either express or implied, including all implied warranties or conditions of merchantability, merchantable quality, fitness for a particular purpose, durability, title, and non-infringement."),s.a.createElement("p",null,"In no case shall NailPocket, our directors, officers, employees, affiliates, agents, contractors, interns, suppliers, service providers or licensors be liable for any injury, loss, claim, or any direct, indirect, incidental, punitive, special, or consequential damages of any kind, including, without limitation lost profits, lost revenue, lost savings, loss of data, replacement costs, or any similar damages, whether based in contract, tort (including negligence), strict liability or otherwise, arising from your use of any of the service or any products procured using the service, or for any other claim related in any way to your use of the service or any product, including, but not limited to, any errors or omissions in any content, or any loss or damage of any kind incurred as a result of the use of the service or any content (or product) posted, transmitted, or otherwise made available via the service, even if advised of their possibility. Because some states or jurisdictions do not allow the exclusion or the limitation of liability for consequential or incidental damages, in such states or jurisdictions, our liability shall be limited to the maximum extent permitted by law."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 14 \u2013 INDEMNIFICATION")),s.a.createElement("p",null,"You agree to indemnify, defend and hold harmless NailPocket and our parent, subsidiaries, affiliates, partners, officers, directors, agents, contractors, licensors, service providers, subcontractors, suppliers, interns and employees, harmless from any claim or demand, including reasonable attorneys\u2019 fees, made by any third-party due to or arising out of your breach of these Terms of Use or the documents they incorporate by reference, or your violation of any law or the rights of a third-party."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 15 \u2013 SEVERABILITY")),s.a.createElement("p",null,"In the event that any provision of these Terms of Use is determined to be unlawful, void or unenforceable, such provision shall nonetheless be enforceable to the fullest extent permitted by applicable law, and the unenforceable portion shall be deemed to be severed from these Terms of Use, such determination shall not affect the validity and enforceability of any other remaining provisions."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 16 \u2013 TERMINATION")),s.a.createElement("p",null,"The obligations and liabilities of the parties incurred prior to the termination date shall survive the termination of this agreement for all purposes."),s.a.createElement("p",null,"These Terms of Use are effective unless and until terminated by either you or us. You may terminate these Terms of Use at any time by notifying us that you no longer wish to use our Services, or when you cease using our site."),s.a.createElement("p",null,"If in our sole judgment you fail, or we suspect that you have failed, to comply with any term or provision of these Terms of Use, we also may terminate this agreement at any time without notice and you will remain liable for all amounts due up to and including the date of termination; and/or accordingly may deny you access to our Services (or any part thereof)."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 17 \u2013 ENTIRE AGREEMENT")),s.a.createElement("p",null,"The failure of us to exercise or enforce any right or provision of these Terms of Use shall not constitute a waiver of such right or provision."),s.a.createElement("p",null,"These Terms of Use and any policies or operating rules posted by us on this site or in respect to The Service constitutes the entire agreement and understanding between you and us and govern your use of the Service, superseding any prior or contemporaneous agreements, communications and proposals, whether oral or written, between you and us (including, but not limited to, any prior versions of the Terms of Use)."),s.a.createElement("p",null,"Any ambiguities in the interpretation of these Terms of Use shall not be construed against the drafting party."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 18 \u2013 GOVERNING LAW")),s.a.createElement("p",null,"These Terms of Use and any separate agreements whereby we provide you Services shall be governed by and construed in accordance with the laws of the state of Pennsylvania."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 19 \u2013 CHANGES TO TERMS OF SERVICE")),s.a.createElement("p",null,"You can review the most current version of the Terms of Use at any time at this page."),s.a.createElement("p",null,"We reserve the right, at our sole discretion, to update, change or replace any part of these Terms of Use by posting updates and changes to our website. It is your responsibility to check our website periodically for changes. Your continued use of or access to our website or the Service following the posting of any changes to these Terms of Use constitutes acceptance of those changes."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SECTION 20 \u2013 CONTACT INFORMATION")),s.a.createElement("p",null,"Questions about the Terms of Use should be sent to us at ",s.a.createElement("a",{href:"mailto:info@nailpocket.com"},"info@nailpocket.com"),".",s.a.createElement("br",null),"Questions about third-party Terms of Use should be sent directly to that party.")))),this.state.loggedIn?"":s.a.createElement(L,null))}}]),a}(n.Component),xe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={loggedIn:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")&&this.setState({loggedIn:!0})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:f.a.Register,className:f.a.contentPage},s.a.createElement(u.b,{exact:!0,to:"/",className:"".concat(f.a.logo," ").concat(f.a.btn_back)},s.a.createElement("img",{src:C.a,alt:""})),s.a.createElement("div",{className:"".concat(f.a.page_content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.bg_1)},s.a.createElement("h1",null,"Privacy Policy")),s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("p",null,"Because NailPocket understands that the privacy of your personal information is important to you, we have established privacy policies and practices. This notice explains how your data will be used and shared by NailPocket. This Privacy Policy describes how your personal information is collected, used, and shared when you visit or make a purchase from ",s.a.createElement("a",{href:"https://nailpocket.com"},"nailpocket.com")," (the \u201cSite\u201d)."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"PERSONAL INFORMATION WE COLLECT")),s.a.createElement("p",null,"When you visit the Site, we automatically collect certain information about your device, including information about your web browser, IP address, time zone, and some of the cookies that are installed on your device. Additionally, as you browse the Site, we collect information about the individual web pages or products that you view, what websites or search terms referred you to the Site, and information about how you interact with the Site. We refer to this automatically-collected information as \u201cDevice Information.\u201d"),s.a.createElement("p",null,"We collect Device Information using the following technologies:"),s.a.createElement("p",null,"\u2013 \u201cCookies\u201d are data files that are placed on your device or computer and often include an anonymous unique identifier. For more information about cookies, and how to disable cookies, visit ",s.a.createElement("a",{href:"https://www.allaboutcookies.org",target:"_blank",rel:"noopener noreferrer"},"allaboutcookies.org"),".",s.a.createElement("br",null),"\u2013 \u201cLog files\u201d track actions occurring on the Site, and collect data including your IP address, browser type, Internet service provider, referring/exit pages, and date/time stamps.",s.a.createElement("br",null),"\u2013 \u201cWeb beacons,\u201d \u201ctags,\u201d and \u201cpixels\u201d are electronic files used to record information about how you browse the Site."),s.a.createElement("p",null,"Additionally when you make a purchase or attempt to make a purchase through the Site, we collect certain information from you, including your name, billing address, shipping address, delivery address, payment information (including but not limited to credit card numbers, mobile payment identifiers, and other digital wallet identifiers), email address, and phone number. We refer to this information as \u201cOrder Information.\u201d"),s.a.createElement("p",null,"When we talk about \u201cPersonal Information\u201d in this Privacy Policy, we are talking both about Device Information and Order Information."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"INFORMATION YOU PROVIDE VOLUNTARILY")),s.a.createElement("p",null,"Signup Information. When you sign up for the NailPocket platform, you will be asked to provide your name, email address, phone number, physical or mailing address, business name, and industry type, as well as information related to your business service offerings, working hours, and staff members."),s.a.createElement("p",null,"Customer or Staff Information. With your consent, you may import staff or customer contact information to NailPocket for the purposes of scheduling appointments, events, or classes with staff or customers. This information includes the staff or customer\u2019s name, phone number, email address, physical or mailing address, and an image of their likeness. For example, with your consent. NailPocket does not use the contact information obtained during the import process for any other purpose, and does not share contact information with third parties without your consent."),s.a.createElement("p",null,"Staff Profiles. A NailPocket account holder may create one or more additional staff profiles with his or her colleagues, or members of their organization. Those colleagues or members may voluntarily give us certain information. This can include their names, email addresses, phone numbers, and short descriptions of personal or professional characteristics intended to inform the NailPocket user\u2019s customers or clientele. If you receive an invitation from a NailPocket account holder but do not wish to become a NailPocket user, please contact the account holder who sent the invitation to discuss other means of managing your appointment calendar."),s.a.createElement("p",null,"Billing Information. If you purchase a paid subscription to NailPocket, our third-party payment processors will collect and store your billing address and credit card information."),s.a.createElement("p",null,"Technical Support. If you call, email, or otherwise contact NailPocket for technical support, you may provide personal information such as your name, email address, or phone number to NailPocket."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"HOW DO WE USE YOUR PERSONAL INFORMATION?")),s.a.createElement("p",null,"NailPocket may use personal information about you to provide Platform-related services, including:"),s.a.createElement("p",null,"The ability to connect with and book appointments with customers online. This may include personal information about you, including your name, phone number, email address, links to social media profiles, and images depicting your likeness that you provide willingly to NailPocket. This may also include information about your business, including your business name, industry type, contact information, physical location, branding elements including but not limited to your business logo, and any service offerings and their associated costs."),s.a.createElement("p",null,"The ability to understand and improve NailPocket products. From time to time, NailPocket may conduct surveys or issue requests for beta testers to measure and analyze user interest in products, services, content, or technical support. Information you provide may include your name, phone number, email address, business name, and industry type. NailPocket does this to help improve the platform and refine the quality of educational or advertising communications."),s.a.createElement("p",null,"Issue service-related communications. NailPocket may send you service and administrative emails, in-app messages, or push notifications to your mobile device to inform you about events or appointments on your NailPocket calendar, reschedulings or cancellations, changes made to your platform configurations (such as changes made to staff working hours), transactional information about payments received from customers or refunded to customers, as well as any new features, security issues, or platform outages that may affect your usage of the NailPocket platform. These messages are considered operationally essential to the NailPocket service and you may not opt out of these messages."),s.a.createElement("p",null,"Send promotional communications. Subject to your opt-out preference, NailPocket may send you emails or mail about special offers, gifts, platform features or paid subscription offerings that we think are relevant to you. You may opt out of receiving these communications at any time; refer to the section \u201cYour Rights and Choices\u201d below for more information. NailPocket does not share your information with third-party advertisers who would send you communications promoting their goods or services."),s.a.createElement("p",null,"Provide technical support. We will use your information when responding to your questions, comments, feedback, or requests for technical support."),s.a.createElement("p",null,"Protecting rights and interests. We may use your information when it is reasonably necessary to comply with legal process, respond to claims, or protect the rights, property or safety of our company, employees, customers, or the public."),s.a.createElement("p",null,"Meeting legal and tax compliance. We may use your information to meet legal or regulatory requirements, including the reporting of financial information (such as payments submitted to NailPocket) for tax purposes."),s.a.createElement("p",null,"Additionally, we use this Order Information to:",s.a.createElement("br",null),"Communicate with you;",s.a.createElement("br",null),"Screen our orders for potential risk or fraud; and",s.a.createElement("br",null),"When in line with the preferences you have shared with us, provide you with information or advertising relating to our products or services.",s.a.createElement("br",null),"Allow you to make purchases with your account on other websites and platform through our technology and platform provider.",s.a.createElement("br",null),"We use the Device Information that we collect to help us screen for potential risk and fraud (in particular, your IP address), and more generally to improve and optimize our Site (for example, by generating analytics about how our customers browse and interact with the Site, and to assess the success of our marketing and advertising campaigns)."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"SHARING YOUR PERSONAL INFORMATION")),s.a.createElement("p",null,"We share your Personal Information with third parties to help us use your Personal Information, as described above. For example, our technology service and platform provider manage, hosts, and power our service. We also use Google Analytics to help us understand how our customers use the Site. You can contact the third-party companies directly to obtain their privacy policy statements."),s.a.createElement("p",null,"Finally, we may also share your Personal Information to comply with applicable laws and regulations, to respond to a subpoena, search warrant or other lawful request for information we receive, or to otherwise protect our rights."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"BEHAVIORAL ADVERTISING")),s.a.createElement("p",null,"As described above, we use your Personal Information to provide you with targeted advertisements or marketing communications we believe may be of interest to you. For more information about how targeted advertising works, you can visit the Network Advertising Initiative\u2019s (\u201cNAI\u201d) educational page at ",s.a.createElement("a",{href:"http://www.networkadvertising.org/understanding-online-advertising/how-does-it-work",target:"_blank",rel:"noopener noreferrer"},"http://www.networkadvertising.org/understanding-online-advertising/how-does-it-work"),"."),s.a.createElement("p",null,"You can opt out of targeted advertising by contacting the third-party advertisers and advertising networks directly. ",s.a.createElement("br",null),"COMMON LINKS TO THESE THIRD-PARTY PROVIDERS INCLUDE:",s.a.createElement("br",null),"FACEBOOK \u2013 ",s.a.createElement("a",{href:"https://www.facebook.com/settings/?tab=ads",target:"_blank",rel:"noopener noreferrer"},"https://www.facebook.com/settings/?tab=ads"),s.a.createElement("br",null),"GOOGLE \u2013 ",s.a.createElement("a",{href:"https://www.google.com/settings/ads/anonymous",target:"_blank",rel:"noopener noreferrer"},"https://www.google.com/settings/ads/anonymous"),s.a.createElement("br",null),"BING \u2013 ",s.a.createElement("a",{href:"https://advertise.bingads.microsoft.com/en-us/resources/policies/personalized-ads",target:"_blank",rel:"noopener noreferrer"},"https://advertise.bingads.microsoft.com/en-us/resources/policies/personalized-ads")),s.a.createElement("p",null,"Additionally, you can opt out of some of these services by visiting the Digital Advertising Alliance\u2019s opt-out portal at: ",s.a.createElement("a",{href:"http://optout.aboutads.info/",target:"_blank",rel:"noopener noreferrer"},"http://optout.aboutads.info/"),"."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"DO NOT TRACK")),s.a.createElement("p",null,"Please note that we do not alter our Site\u2019s data collection and use practices when we see a Do Not Track signal from your browser."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"YOUR RIGHTS")),s.a.createElement("p",null,"If you are a European resident, you have the right to access personal information we hold about you and to ask that your personal information be corrected, updated, or deleted. If you would like to exercise this right, please contact us through the contact information below."),s.a.createElement("p",null,"Additionally, if you are a European resident we note that we are processing your information in order to fulfill contracts we might have with you (for example if you make an order through the Site), or otherwise to pursue our legitimate business interests listed above. Additionally, please note that your information will be transferred outside of Europe, including to Canada and the United States."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"MINORS")),s.a.createElement("p",null,"The Site is not intended for individuals under the age of 18. If you are a minor in the jurisdiction in which you reside (generally under the age of 18), you must have the permission of, and be directly supervised by, your parent or legal guardian to use the Site, and your parent or legal guardian must read and agree to this Agreement prior to your using the Sites. Notwithstanding the foregoing, you are not authorized to use the Site if you are under the age of 13. If you are using the Site on behalf of an entity, organization, or company, you represent and warrant that you have the authority to bind that organization to this Agreement and you agree to be bound by this Agreement on behalf of that organization."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"CHANGES")),s.a.createElement("p",null,"We may update this privacy policy from time to time in order to reflect, for example, changes to our practices or for other operational, legal or regulatory reasons."),s.a.createElement("br",null),s.a.createElement("p",null,s.a.createElement("strong",null,"CONTACT US")),s.a.createElement("p",null,"For more information about our privacy practices, if you have questions, or if you would like to make a complaint, please contact us by e-mail at ",s.a.createElement("a",{href:"mailto:info@nailpocket.com"},"info@nailpocket.com"),".")))),this.state.loggedIn?"":s.a.createElement(L,null))}}]),a}(n.Component),Ce=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={userId:localStorage.getItem("x-access-user-id")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("x-access-token");localStorage.getItem("store-permalink");e||this.props.history.push("/login"),"super admin"!=localStorage.getItem("role")&&this.props.history.push("/login")}},{key:"render",value:function(){return s.a.createElement("div",{className:"".concat(f.a.stores," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Admin Dashboard")),s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:f.a.directory},s.a.createElement("div",{className:"".concat(f.a.account)},s.a.createElement("div",{className:"".concat(f.a.profile_picture)}),s.a.createElement(u.b,{exact:!0,to:"/admin-stores"},s.a.createElement("h3",{className:"".concat(f.a.name," ").concat(f.a.font__style," ").concat(f.a.title," ")},"Stores"),s.a.createElement("i",{className:"fas fa-sign-in-alt"})))),s.a.createElement("div",{className:f.a.directory},s.a.createElement("div",{className:"".concat(f.a.account)},s.a.createElement("div",{className:"".concat(f.a.profile_picture)}),s.a.createElement(u.b,{exact:!0,to:"/admin-users"},s.a.createElement("h3",{className:"".concat(f.a.name," ").concat(f.a.font__style," ").concat(f.a.title," ")},"Users"),s.a.createElement("i",{className:"fas fa-sign-in-alt"})))),s.a.createElement("div",{className:f.a.directory},s.a.createElement("div",{className:"".concat(f.a.account)},s.a.createElement("div",{className:"".concat(f.a.profile_picture)}),s.a.createElement(u.b,{exact:!0,to:"/admin-subscriptions"},s.a.createElement("h3",{className:"".concat(f.a.name," ").concat(f.a.font__style," ").concat(f.a.title," ")},"Subscriptions"),s.a.createElement("i",{className:"fas fa-sign-in-alt"}))))))}}]),a}(n.Component),Ie=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={stores:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("x-access-token");localStorage.getItem("store-permalink");e||this.props.history.push("/login"),"super admin"!=localStorage.getItem("role")?this.props.history.push("/login"):this.fetchData()}},{key:"fetchData",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getAllStores",t).then((function(t){e.setState({stores:t.data.stores})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"".concat(f.a.customers," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"All Stores")),s.a.createElement(u.b,{exact:!0,to:"/admin-dashboard"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),this.state.stores.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.card),key:e.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",null,e.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)}," ",s.a.createElement(u.b,{exact:!0,to:"/calendar/"+e.permalink},s.a.createElement("i",{className:"fas fa-ellipsis-h"}))," ",s.a.createElement("br",null),s.a.createElement("b",null,e.name),e.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.email)):"",s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},"(",e.status,")"),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},"Owner Id: ",e.ownerId))))})))}}]),a}(n.Component),He=(a(155),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).formatPhoneNumber=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e},n.state={users:[],user:[],userId:localStorage.getItem("x-access-user-id"),viewUserModal:!1,noUser:"https://res.cloudinary.com/nailpocket-com/image/upload/v1596863762/Asset/iqyeotq44hn1s6algpdh.png",appVersion:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("x-access-token");localStorage.getItem("store-permalink");e||this.props.history.push("/login"),"super admin"!=localStorage.getItem("role")?this.props.history.push("/login"):this.fetchData()}},{key:"fetchData",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getAllUsers",t).then((function(t){e.setState({users:t.data.users})})),J.a.get("https://api.intelcalendar.com/api/getSetting/staff/".concat(this.state.userId),t).then((function(t){e.setState({appVersion:t.data.app_version})}))}},{key:"closeModal",value:function(){this.setState({viewUserModal:!1})}},{key:"viewUser",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({viewUserModal:!0}),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},J.a.get("https://api.intelcalendar.com/api/user/".concat(t),a).then((function(e){var t=[];t.push(e.data.user),n.setState({user:t})}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.customers," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"All Users")),s.a.createElement(u.b,{exact:!0,to:"/admin-dashboard"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),this.state.users.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",null,t.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("a",{onClick:function(){return e.viewUser(t.id)}},s.a.createElement("i",{className:"fas fa-ellipsis-h"})),s.a.createElement("br",null),s.a.createElement("b",null,t.fname," ",t.lname),t.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email)):"",t.phone?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.phone))):"",s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.app_version?t.app_version!=e.state.appVersion?s.a.createElement("span",{style:{color:"red",fontWeight:"600",fontSize:"14px"}},"Ver: ",t.app_version):s.a.createElement("span",{style:{color:"#00a72c",fontWeight:"600",fontSize:"14px"}},"Ver: ",t.app_version):""))))})),function(){if(e.state.viewUserModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.normal," ").concat(f.a.zIndex," ").concat(f.a.customers)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Customer Details")),s.a.createElement("a",{onClick:function(){return e.closeModal()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),e.state.user.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",null,t.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("b",null,t.fname," ",t.lname),t.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email)):"",t.phone?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.app_version?t.app_version!=e.state.appVersion?"red  app version: ".concat(t.app_version):"green app version: ".concat(t.app_version):""),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.phone))):"",s.a.createElement("br",null),s.a.createElement(u.b,{exact:!0,to:"/users/edit/".concat(t.id),className:"".concat(f.a.btn," ").concat(f.a.btn_inline)},"Edit"))))})))))}())}}]),a}(n.Component)),Oe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={subscriptions:[],client_ids:[],init:0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("x-access-token"),localStorage.getItem("store-permalink"),t||this.props.history.push("/login"),"super admin"==localStorage.getItem("role")){e.next=7;break}this.props.history.push("/login"),e.next=9;break;case 7:return e.next=9,this.fetchData();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=[],e.next=4,J.a.get("https://api.intelcalendar.com/api/getAllSub",t).then(function(){var e=Object(v.a)(g.a.mark((function e(s){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.data.client_ids,e.next=3,c.forEach((function(e){J.a.get("https://api.intelcalendar.com/api/getPackageByStoreId/"+e.id,t).then((function(e){a.push({id:e.data.id,package_name:e.data.product,package_price:e.data.price,store_name:e.data.storeName,expiration:e.data.expiration?e.data.expiration:"inactive",current_period_start:e.data.current_period_start,current_period_end:e.data.current_period_end}),n.setState({subscriptions:a,init:1})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.init?s.a.createElement("div",{className:"".concat(f.a.customers," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Subscriptions")),s.a.createElement(u.b,{exact:!0,to:"/admin-dashboard"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),this.state.subscriptions.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.card),key:e.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",null,e.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("br",null),s.a.createElement("b",null,e.store_name),e.package_name?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",null,e.package_name)):"",s.a.createElement("br",null),s.a.createElement("span",null,"(",e.expiration,")"),s.a.createElement("br",null),s.a.createElement("b",null,"Current period:")," ",e.current_period_start?S()(e.current_period_start,"X").format("MMM Do"):"inactive"," ",e.current_period_end?"- ".concat(S()(e.current_period_end,"X").format("MMM Do")):"")))}))):"loading"}}]),a}(n.Component),Te=a(31),Me=a(49),De=a.n(Me),Pe=(a(156),a(258)),Fe=a(173),Ae=a.n(Fe),je=a(174),Ye=a.n(je),Be=a(259),Le=a(45),We=a(65),Re=a(260),Ue=a(271),ze=a(273),qe=(a(427),a(428),a(429),a(430),a(431),a(110),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).refreshPage=function(){var e={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},t=localStorage.getItem("x-access-store-id");""!=n.state.app_version&&(n.setState({updateModal:!1,loading:!0}),"ON"==localStorage.getItem("store-log-in")?J.a.post("https://api.intelcalendar.com/api/updateSetting/store/".concat(t),{app_version:n.state.app_version},e).then((function(e){window.location.reload()})):J.a.post("https://api.intelcalendar.com/api/updateSetting/staff/".concat(n.state.userId),{app_version:n.state.app_version},e).then((function(e){window.location.reload()})))},n.setResource=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,s=a.value,c=a.name,n.setState(Object(G.a)({},c,s)),"all"==s){e.next=10;break}return r=n.state.globalUsers,o=[],r.forEach((function(e){e.id==s&&o.push(e)})),e.next=8,n.setState({users:o});case 8:e.next=12;break;case 10:return e.next=12,n.setState({users:n.state.globalUsers});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.nextPage=function(){var e=n.state.page+1;n.setState({page:e})},n.prevPage=function(){var e=n.state.page-1;n.setState({page:e})},n.onToggle=function(){var e=n.state.openMiniCalendar;n.setState({toggleEvent:Date.now(),openMiniCalendar:!e});var t=r.a.findDOMNode(Object(Te.a)(n)).querySelector("button.fc-datepickerButton-button");e?t.classList.remove("iconClose"):t.classList.add("iconClose")},n.handleEventClick=function(e){var t=e.event;e.el;console.log(t._def.extendedProps);var a=[];a.push(t._def.extendedProps),n.setState({mapModal:!0,eventMapData:a});var s={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getStoreLogsByAppointmentId/"+a[0].eventId,s).then((function(e){e.data.logs.shift(),n.setState({appointmentLogs:e.data.logs})}))},n.handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a)),n.state.editModal&&("note"==s&&n.setState({updateNote:!0}),"start"==s&&n.setState({updateTime:!0}))},n.handleGroupChange=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c,r,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target,c=s.value,r=s.name,o=[],e.next=4,n.setState((a={},Object(G.a)(a,r,c),Object(G.a)(a,"note","group size: "+c),a));case 4:if(!(Number(c)>1)){e.next=16;break}l=0;case 6:if(!(l<Number(c))){e.next=12;break}return e.next=9,o.push({id:l,name:"serviceSelected"+l.toString()});case 9:l++,e.next=6;break;case 12:return e.next=14,n.setState({groupArray:o});case 14:e.next=18;break;case 16:return e.next=18,n.setState({groupArray:[]});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleCustomerChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({createNewCustomer:!1},s,a))},n.unCheckCustomer=function(e){var t=e.target.value;n.state.customer==t&&n.setState({customer:null})},n.handleCreateNewCustomer=function(e){0==n.state.createNewCustomer?n.setState({createNewCustomer:!0,customer:null}):n.setState({createNewCustomer:!1,customer:null})},n.handleInputChangeNewCustomer=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,s=a.value,c=a.name,clearTimeout(n.state.typingTimeout),e.next=4,n.setState(Object(G.a)({createNewCustomer:!1,customer:null},c,s));case 4:n.setState({typingTimeout:setTimeout(Object(v.a)(g.a.mark((function e(){var t,a,s,c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=""!=n.state.customerFname?n.state.customerFname.toLowerCase():null,a=""!=n.state.customerLname?n.state.customerLname.toLowerCase():null,s=""!=n.state.customerPhone?n.state.customerPhone:null,null!=t||null!=a||null!=s){e.next=8;break}return e.next=6,n.setState({customers:[],customer:null});case 6:e.next=11;break;case 8:c=localStorage.getItem("x-access-store-id"),r={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},J.a.get("https://api.intelcalendar.com/api/searchCustomerByNameAndPhone/"+c+"/"+t+"/"+a+"/"+s,r).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.data.customers&&t.data.customers.length>0)){e.next=5;break}return e.next=3,n.setState({customers:t.data.customers});case 3:e.next=7;break;case 5:return e.next=7,n.setState({customers:[],customer:null});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)}))),500)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.searchCustomer=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c,r,o,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target,c=s.value,r=s.name,e.next=3,n.setState((a={},Object(G.a)(a,r,c),Object(G.a)(a,"searchCustomerId",""),a));case 3:if(o={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},l=n.state.searchCustomerKey,i=localStorage.getItem("x-access-store-id"),""==l){e.next=10;break}J.a.get("https://api.intelcalendar.com/api/searchCustomer/"+i+"/"+l,o).then((function(e){n.setState({customers:e.data.customers})})),e.next=12;break;case 10:return e.next=12,n.setState({customers:[],customer:null});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.searchCustomerById=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c,r,o,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target,c=s.value,r=s.name,clearTimeout(n.state.typingTimeout),e.next=4,n.setState((a={},Object(G.a)(a,r,c),Object(G.a)(a,"searchCustomerKey",""),a));case 4:o={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},l=localStorage.getItem("x-access-store-id"),i=n.state.searchCustomerId,n.setState({typingTimeout:setTimeout(Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!=i?J.a.get("https://api.intelcalendar.com/api/searchCustomerById/"+l+"/"+i,o).then((function(e){n.setState({customers:e.data.customers})})):n.setState({customers:[],customer:null});case 1:case"end":return e.stop()}}),e)}))),500)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleStaffChange=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c,r,o,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,s=a.value,c=a.name,r={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},e.next=4,n.setState(Object(G.a)({},c,s));case 4:o=n.state.staff,l=localStorage.getItem("x-access-store-id"),i=null==n.state.selectedDay?S()()._d.toLocaleDateString("fr-ca"):S()(n.state.selectedDay)._d.toLocaleDateString("fr-ca"),n.state.editModal&&n.setState({updateStaff:!0}),J.a.get("https://api.intelcalendar.com/api/getAppointmentsByStoreIdAndEmployeeId/"+l+"/"+o+"/"+i,r).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=o){e.next=5;break}return e.next=3,n.setState({appointmentsByStaff:t.data.appointmentsNull});case 3:e.next=7;break;case 5:return e.next=7,n.setState({appointmentsByStaff:t.data.appointments});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.unCheckStaff=function(e){var t=e.target.value;n.state.staff==t&&n.setState({staff:null})},n.handleServiceChange=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c,r,o,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,s=a.value,c=a.checked,r=Number(t.target.attributes.getNamedItem("data-duration").value),o=Number(n.state.duration),l=[],l=n.state.serviceSelected,!0===c?(l.push(s),o+=r):(-1!==(i=l.indexOf(s))&&l.splice(i,1),o-=r),e.next=8,n.setState({serviceSelected:l,duration:o});case 8:n.state.editModal&&n.setState({updateServices:!0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleServiceGroupChange=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c,r,o,l,i,m,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,s=a.value,c=a.checked,r=Number(t.target.attributes.getNamedItem("data-customId").value),o=Number(t.target.attributes.getNamedItem("data-duration").value),l=[],l=n.state.durationGroup,i=[],i=n.state.serviceSelectedGroup,!0===c?(void 0==i[r]&&(i[r]=[],l[r]=[]),i[r].push(s),l[r]=Number(l[r])+o):(-1!==(m=i[r].indexOf(s))&&i[r].splice(m,1),l[r]=Number(l[r])-o),e.next=10,n.setState({serviceSelectedGroup:i,durationGroup:l});case 10:u=0;case 11:if(!(u<i.length)){e.next=22;break}if(null!=i[u]&&0!=i[u].length&&i.length==Number(n.state.group)){e.next=17;break}return e.next=15,n.setState({serviceSelectedGroupBool:!1});case 15:e.next=19;break;case 17:return e.next=19,n.setState({serviceSelectedGroupBool:!0});case 19:u++,e.next=11;break;case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDayClick2=function(e){},n.handleDayClick=function(){var e=Object(v.a)(g.a.mark((function e(t,a){var s,c,r,o,l,i,m,u,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a.selected,s=S()(t).day(),c="0:00",r="0:00",n.state.editModal&&n.setState({updateDate:!0}),1==s?(c="closed"!=n.state.businessHoursMon.split("-")[0]?S()(n.state.businessHoursMon.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",r="closed"!=n.state.businessHoursMon.split("-")[1]?S()(n.state.businessHoursMon.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):2==s?(c="closed"!=n.state.businessHoursTue.split("-")[0]?S()(n.state.businessHoursTue.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",r="closed"!=n.state.businessHoursTue.split("-")[1]?S()(n.state.businessHoursTue.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):3==s?(c="closed"!=n.state.businessHoursWed.split("-")[0]?S()(n.state.businessHoursWed.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",r="closed"!=n.state.businessHoursWed.split("-")[1]?S()(n.state.businessHoursWed.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):4==s?(c="closed"!=n.state.businessHoursThu.split("-")[0]?S()(n.state.businessHoursThu.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",r="closed"!=n.state.businessHoursThu.split("-")[1]?S()(n.state.businessHoursThu.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):5==s?(c="closed"!=n.state.businessHoursFri.split("-")[0]?S()(n.state.businessHoursFri.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",r="closed"!=n.state.businessHoursFri.split("-")[1]?S()(n.state.businessHoursFri.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):6==s?(c="closed"!=n.state.businessHoursSat.split("-")[0]?S()(n.state.businessHoursSat.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",r="closed"!=n.state.businessHoursSat.split("-")[1]?S()(n.state.businessHoursSat.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):0==s&&(c="closed"!=n.state.businessHoursSun.split("-")[0]?S()(n.state.businessHoursSun.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",r="closed"!=n.state.businessHoursSun.split("-")[1]?S()(n.state.businessHoursSun.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"),c=S()(c,"HH:mm"),r=S()(r,"HH:mm"),o=[],l=0;c<=r;)o.push({id:l,time:new S.a(c).format("HH:mm")}),c.add(15,"minutes"),l++;return e.next=13,n.setState({selectedDay:t,timeSlot:o});case 13:i={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},m=n.state.staff,u=localStorage.getItem("x-access-store-id"),d=n.state.selectedDay.toLocaleDateString("fr-ca"),J.a.get("https://api.intelcalendar.com/api/getAppointmentsByStoreIdAndEmployeeId/"+u+"/"+m+"/"+d,i).then((function(e){0==m?n.setState({appointmentsByStaff:e.data.appointmentsNull}):n.setState({appointmentsByStaff:e.data.appointments})}));case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.calendarRef=s.a.createRef(),n.nextButton=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.calendarRef.current.getApi(),e.next=3,a.next();case 3:if(s=a.getDate(),n.setState({goToDate:s}),1!=(c=S()(s).day())){e.next=11;break}return e.next=9,n.setState({minTime:"closed"!=n.state.businessHoursMon.split("-")[0]?S()(n.state.businessHoursMon.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursMon.split("-")[1]?S()(n.state.businessHoursMon.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 9:e.next=39;break;case 11:if(2!=c){e.next=16;break}return e.next=14,n.setState({minTime:"closed"!=n.state.businessHoursTue.split("-")[0]?S()(n.state.businessHoursTue.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursTue.split("-")[1]?S()(n.state.businessHoursTue.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 14:e.next=39;break;case 16:if(3!=c){e.next=21;break}return e.next=19,n.setState({minTime:"closed"!=n.state.businessHoursWed.split("-")[0]?S()(n.state.businessHoursWed.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursWed.split("-")[1]?S()(n.state.businessHoursWed.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 19:e.next=39;break;case 21:if(4!=c){e.next=26;break}return e.next=24,n.setState({minTime:"closed"!=n.state.businessHoursThu.split("-")[0]?S()(n.state.businessHoursThu.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursThu.split("-")[1]?S()(n.state.businessHoursThu.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 24:e.next=39;break;case 26:if(5!=c){e.next=31;break}return e.next=29,n.setState({minTime:"closed"!=n.state.businessHoursFri.split("-")[0]?S()(n.state.businessHoursFri.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursFri.split("-")[1]?S()(n.state.businessHoursFri.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 29:e.next=39;break;case 31:if(6!=c){e.next=36;break}return e.next=34,n.setState({minTime:"closed"!=n.state.businessHoursSat.split("-")[0]?S()(n.state.businessHoursSat.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursSat.split("-")[1]?S()(n.state.businessHoursSat.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 34:e.next=39;break;case 36:if(0!=c){e.next=39;break}return e.next=39,n.setState({minTime:"closed"!=n.state.businessHoursSun.split("-")[0]?S()(n.state.businessHoursSun.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursSun.split("-")[1]?S()(n.state.businessHoursSun.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 39:n.fetchEvent();case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.prevButton=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.calendarRef.current.getApi(),e.next=3,a.prev();case 3:if(s=a.getDate(),n.setState({goToDate:s}),1!=(c=S()(s).day())){e.next=11;break}return e.next=9,n.setState({minTime:"closed"!=n.state.businessHoursMon.split("-")[0]?S()(n.state.businessHoursMon.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursMon.split("-")[1]?S()(n.state.businessHoursMon.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 9:e.next=39;break;case 11:if(2!=c){e.next=16;break}return e.next=14,n.setState({minTime:"closed"!=n.state.businessHoursTue.split("-")[0]?S()(n.state.businessHoursTue.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursTue.split("-")[1]?S()(n.state.businessHoursTue.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 14:e.next=39;break;case 16:if(3!=c){e.next=21;break}return e.next=19,n.setState({minTime:"closed"!=n.state.businessHoursWed.split("-")[0]?S()(n.state.businessHoursWed.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursWed.split("-")[1]?S()(n.state.businessHoursWed.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 19:e.next=39;break;case 21:if(4!=c){e.next=26;break}return e.next=24,n.setState({minTime:"closed"!=n.state.businessHoursThu.split("-")[0]?S()(n.state.businessHoursThu.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursThu.split("-")[1]?S()(n.state.businessHoursThu.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 24:e.next=39;break;case 26:if(5!=c){e.next=31;break}return e.next=29,n.setState({minTime:"closed"!=n.state.businessHoursFri.split("-")[0]?S()(n.state.businessHoursFri.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursFri.split("-")[1]?S()(n.state.businessHoursFri.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 29:e.next=39;break;case 31:if(6!=c){e.next=36;break}return e.next=34,n.setState({minTime:"closed"!=n.state.businessHoursSat.split("-")[0]?S()(n.state.businessHoursSat.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursSat.split("-")[1]?S()(n.state.businessHoursSat.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 34:e.next=39;break;case 36:if(0!=c){e.next=39;break}return e.next=39,n.setState({minTime:"closed"!=n.state.businessHoursSun.split("-")[0]?S()(n.state.businessHoursSun.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursSun.split("-")[1]?S()(n.state.businessHoursSun.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 39:n.fetchEvent();case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.todayButton=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.calendarRef.current.getApi(),e.next=3,a.today();case 3:if(s=a.getDate(),n.setState({goToDate:s}),1!=(c=S()(s).day())){e.next=11;break}return e.next=9,n.setState({minTime:"closed"!=n.state.businessHoursMon.split("-")[0]?S()(n.state.businessHoursMon.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursMon.split("-")[1]?S()(n.state.businessHoursMon.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 9:e.next=39;break;case 11:if(2!=c){e.next=16;break}return e.next=14,n.setState({minTime:"closed"!=n.state.businessHoursTue.split("-")[0]?S()(n.state.businessHoursTue.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursTue.split("-")[1]?S()(n.state.businessHoursTue.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 14:e.next=39;break;case 16:if(3!=c){e.next=21;break}return e.next=19,n.setState({minTime:"closed"!=n.state.businessHoursWed.split("-")[0]?S()(n.state.businessHoursWed.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursWed.split("-")[1]?S()(n.state.businessHoursWed.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 19:e.next=39;break;case 21:if(4!=c){e.next=26;break}return e.next=24,n.setState({minTime:"closed"!=n.state.businessHoursThu.split("-")[0]?S()(n.state.businessHoursThu.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursThu.split("-")[1]?S()(n.state.businessHoursThu.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 24:e.next=39;break;case 26:if(5!=c){e.next=31;break}return e.next=29,n.setState({minTime:"closed"!=n.state.businessHoursFri.split("-")[0]?S()(n.state.businessHoursFri.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursFri.split("-")[1]?S()(n.state.businessHoursFri.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 29:e.next=39;break;case 31:if(6!=c){e.next=36;break}return e.next=34,n.setState({minTime:"closed"!=n.state.businessHoursSat.split("-")[0]?S()(n.state.businessHoursSat.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursSat.split("-")[1]?S()(n.state.businessHoursSat.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 34:e.next=39;break;case 36:if(0!=c){e.next=39;break}return e.next=39,n.setState({minTime:"closed"!=n.state.businessHoursSun.split("-")[0]?S()(n.state.businessHoursSun.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursSun.split("-")[1]?S()(n.state.businessHoursSun.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"});case 39:n.fetchEvent();case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.resourceTimeGridWeek=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.calendarRef.current.getApi(),e.next=3,a.changeView("resourceTimeGridWeek");case 3:return n.setState({currentView:"week",userSelected:n.state.userId}),s=n.state.globalUsers,c=[],s.forEach((function(e){e.userId==n.state.userId&&c.push(e)})),e.next=9,n.setState({users:c});case 9:return e.next=11,n.fetchEvent();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.resourceTimeGridDay=function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.calendarRef.current.getApi(),e.next=3,a.changeView("resourceTimeGridDay");case 3:return n.setState({currentView:"day",userSelected:"all"}),e.next=6,n.setState({users:n.state.globalUsers});case 6:return e.next=8,n.fetchEvent();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleGoToDateClick=function(e,t){var a=t.selected;n.setState({goToDate:a?void 0:e}),n.calendarRef.current.getApi().gotoDate(e);var s=S()(e).day();1==s?n.setState({minTime:"closed"!=n.state.businessHoursMon.split("-")[0]?S()(n.state.businessHoursMon.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursMon.split("-")[1]?S()(n.state.businessHoursMon.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):2==s?n.setState({minTime:"closed"!=n.state.businessHoursTue.split("-")[0]?S()(n.state.businessHoursTue.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursTue.split("-")[1]?S()(n.state.businessHoursTue.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):3==s?n.setState({minTime:"closed"!=n.state.businessHoursWed.split("-")[0]?S()(n.state.businessHoursWed.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursWed.split("-")[1]?S()(n.state.businessHoursWed.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):4==s?n.setState({minTime:"closed"!=n.state.businessHoursThu.split("-")[0]?S()(n.state.businessHoursThu.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursThu.split("-")[1]?S()(n.state.businessHoursThu.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):5==s?n.setState({minTime:"closed"!=n.state.businessHoursFri.split("-")[0]?S()(n.state.businessHoursFri.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursFri.split("-")[1]?S()(n.state.businessHoursFri.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):6==s?n.setState({minTime:"closed"!=n.state.businessHoursSat.split("-")[0]?S()(n.state.businessHoursSat.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursSat.split("-")[1]?S()(n.state.businessHoursSat.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):0==s&&n.setState({minTime:"closed"!=n.state.businessHoursSun.split("-")[0]?S()(n.state.businessHoursSun.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=n.state.businessHoursSun.split("-")[1]?S()(n.state.businessHoursSun.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}),n.onToggle(),n.fetchEvent()},n.formatPhoneNumber=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e},n.onFocus=function(e){e.target.autocomplete&&(e.target.autocomplete="whatever")},n.goToPage=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(12!=n.state.page){e.next=7;break}if(n.dateValidation(n.state.selectedDay)){e.next=6;break}return n.setState({alertModal:!0,alertModalText:s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Invalid date!!! "),s.a.createElement("p",null,"Appointment date must be a current or future date."))}),e.abrupt("return",!1);case 6:n.setState({alertModal:!1,alertModalText:""});case 7:return e.next=9,n.setState({page:t});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.goToPageSetPrev=function(){var e=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(5!=n.state.page&&9!=n.state.page){e.next=19;break}if(0!=n.state.createNewCustomer){e.next=15;break}if(!n.state.customer){e.next=7;break}return e.next=5,n.setState({page:t,prevPage:a});case 5:e.next=13;break;case 7:if(!(n.state.customers.length>0)){e.next=11;break}n.setState({alertModal:!0,alertModalText:s.a.createElement("p",null,"Please select a customer ",s.a.createElement("p",null),"or confirm that you still want to create new customer")}),e.next=13;break;case 11:return e.next=13,n.setState({createNewCustomer:!0,page:t,prevPage:a});case 13:e.next=17;break;case 15:return e.next=17,n.setState({page:t,prevPage:a});case 17:e.next=21;break;case 19:return e.next=21,n.setState({page:t,prevPage:a});case 21:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.goToPrevPage=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({page:n.state.prevPage});case 2:case"end":return e.stop()}}),e)})));e.cookies;return n.state={store:[],globalUsers:[],userSelected:null,users:[],staffs:[],services:[],customers:[],noUser:"https://intelcalendar.com/static/media/user-male.svg",userId:localStorage.getItem("x-access-user-id"),ownerId:localStorage.getItem("x-access-store-ownerId"),storeId:localStorage.getItem("x-access-store-id"),isOwner:!1,customer:null,staff:null,serviceSelected:[],duration:0,selectedDay:null,goToDate:null,start:"00:00",end:"00:00",note:"",pin:"",appointmentId:null,appointmentLogs:[],customerFname:"",customerLname:"",customerPhone:"",searchCustomerKey:"",searchCustomerId:"",group:0,groupArray:[],serviceSelectedGroup:[],serviceSelectedGroupBool:!1,durationGroup:[],page:1,prevPage:0,pinModal:!1,editModal:!1,mapModal:!1,alertModal:!1,updateModal:!1,deleteModal:!1,subModal:!1,loading:!1,permalink:n.props.name,openMiniCalendar:!1,toggleEvent:0,createNewCustomer:!1,alertModalText:"",updateModalBody:"",subModalBody:"",calendarWeekends:!0,calendarEvents:[{title:"Event Now",start:new Date}],events:null,eventEditData:null,eventMapData:null,appointmentsByStaff:null,businessHoursMon:"",businessHoursTue:"",businessHoursWed:"",businessHoursThu:"",businessHoursFri:"",businessHoursSat:"",businessHoursSun:"",hiddenDays:"",minTime:"0:00:00",maxTime:"0:00:00",timeSlot:[],bool:!0,addNewCustomerView:"OFF",groupBookingView:"OFF",searchView:"ON",NoServices:!1,currentView:"day",typingTimeout:null,app_version:"",deleteId:null,updateNote:!1,updateStaff:!1,updateServices:!1,updateDate:!1,updateTime:!1,logs:[],activitiesModal:!1,logs_count:0,expiration:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,s,c=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("x-access-token")){e.next=5;break}this.props.history.push("/login"),e.next=18;break;case 5:return localStorage.setItem("x-access-store-permalink",this.props.name),localStorage.setItem("active-page","calendar"),e.next=9,this.fetchData();case 9:return e.next=11,this.fetchEvent();case 11:return e.next=13,this.checkNewUpdate();case 13:return e.next=15,this.checkSubscription();case 15:return e.next=17,setInterval(this.checkNewUpdate.bind(this),3e5);case 17:this.intervalID=e.sent;case 18:t=new Ye.a("029daafc1aef67cbefd6",{cluster:"mt1",encrypted:!0}),t.subscribe("appointment-channel").bind("appointment-event",(function(e){c.fetchEvent()})),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},n=localStorage.getItem("x-access-store-id"),J.a.get("https://api.intelcalendar.com/api/getStoreLogs/"+n,a).then(function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,e.next=3,t.data.logs.forEach(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if([],null==t.userIds){e.next=8;break}return e.next=4,t.userIds.split(",");case 4:e.sent.includes(localStorage.getItem("x-access-user-id"))||a++,e.next=9;break;case 8:a++;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.next=5,c.setState({logs_count:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s=new Ye.a("029daafc1aef67cbefd6",{cluster:"mt1",encrypted:!0}),s.subscribe("logs-channel").bind("logs-event",(function(e){c.log_Count()}));case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.typingTimeout)}},{key:"checkNewUpdate",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=localStorage.getItem("x-access-store-id");"ON"==localStorage.getItem("store-log-in")?J.a.get("https://api.intelcalendar.com/api/getSetting/store/".concat(a),t).then((function(t){t.data.message||e.setState({updateModal:!0,app_version:t.data.app_version,updateModalBody:t.data.body})})):J.a.get("https://api.intelcalendar.com/api/getSetting/staff/".concat(this.state.userId),t).then((function(t){t.data.message||e.setState({updateModal:!0,app_version:t.data.app_version,updateModalBody:t.data.body})}))}},{key:"checkSubscription",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=localStorage.getItem("x-access-store-id");J.a.get("https://api.intelcalendar.com/api/getPackageByStoreId/"+a,t).then(function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("active"==a.data.expiration){t.next=20;break}if(null!=localStorage.getItem("x-access-store-expiration")){t.next=12;break}if(localStorage.setItem("x-access-store-expiration",Date.now()+72e5),e.state.ownerId!=e.state.userId){t.next=8;break}return t.next=6,e.setState({isOwner:!0,subModal:!0,subModalBody:"Your subscription is expired. Please make a payment today to avoid suspension of your service."});case 6:t.next=10;break;case 8:return t.next=10,e.setState({isOwner:!1,subModal:!0,subModalBody:"Your subscription is expired. Please make a payment to avoid suspension of your service."});case 10:t.next=20;break;case 12:if(localStorage.getItem("x-access-store-expiration")>Date.now()){t.next=20;break}if(e.state.ownerId!=e.state.userId){t.next=18;break}return t.next=16,e.setState({isOwner:!0,subModal:!0,subModalBody:"Your subscription is expired. Please make a payment to avoid suspension of your service."});case 16:t.next=20;break;case 18:return t.next=20,e.setState({isOwner:!1,subModal:!0,subModalBody:"Your subscription is expired. Please make a payment to avoid suspension of your service."});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"closeModalSub",value:function(){this.setState({subModal:!1,subModalBody:""})}},{key:"fetchData",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,s=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=this.props.name,e.next=4,J.a.get("https://api.intelcalendar.com/api/getStoreByPermalink/"+a,t).then((function(e){var t=e.data.store;s.setState({store:e.data.store}),localStorage.setItem("x-access-store-id",t[0].id),localStorage.setItem("x-access-store-ownerId",t[0].ownerId),s.setState({ownerId:localStorage.getItem("x-access-store-ownerId")});var a=JSON.parse(t[0].hours),n=[];"closed-closed"==a.mon&&n.push("1"),"closed-closed"==a.tue&&n.push("2"),"closed-closed"==a.wed&&n.push("3"),"closed-closed"==a.thu&&n.push("4"),"closed-closed"==a.fri&&n.push("5"),"closed-closed"==a.sat&&n.push("6"),"closed-closed"==a.sun&&n.push("0");var c,r=n.join(",");s.setState({hiddenDays:r,businessHoursMon:a.mon,businessHoursTue:a.tue,businessHoursWed:a.wed,businessHoursThu:a.thu,businessHoursFri:a.fri,businessHoursSat:a.sat,businessHoursSun:a.sun}),1==(c=s.state.goToDate?S()(s.state.goToDate).weekday():S()().weekday())?s.setState({minTime:"closed"!=s.state.businessHoursMon.split("-")[0]?S()(s.state.businessHoursMon.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=s.state.businessHoursMon.split("-")[1]?S()(s.state.businessHoursMon.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):2==c?s.setState({minTime:"closed"!=s.state.businessHoursTue.split("-")[0]?S()(s.state.businessHoursTue.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=s.state.businessHoursTue.split("-")[1]?S()(s.state.businessHoursTue.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):3==c?s.setState({minTime:"closed"!=s.state.businessHoursWed.split("-")[0]?S()(s.state.businessHoursWed.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=s.state.businessHoursWed.split("-")[1]?S()(s.state.businessHoursWed.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):4==c?s.setState({minTime:"closed"!=s.state.businessHoursThu.split("-")[0]?S()(s.state.businessHoursThu.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=s.state.businessHoursThu.split("-")[1]?S()(s.state.businessHoursThu.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):5==c?s.setState({minTime:"closed"!=s.state.businessHoursFri.split("-")[0]?S()(s.state.businessHoursFri.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=s.state.businessHoursFri.split("-")[1]?S()(s.state.businessHoursFri.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):6==c?s.setState({minTime:"closed"!=s.state.businessHoursSat.split("-")[0]?S()(s.state.businessHoursSat.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=s.state.businessHoursSat.split("-")[1]?S()(s.state.businessHoursSat.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"}):0==c&&s.setState({minTime:"closed"!=s.state.businessHoursSun.split("-")[0]?S()(s.state.businessHoursSun.split("-")[0],"HH:mm a").format("HH:mm:ss"):"10:00:00",maxTime:"closed"!=s.state.businessHoursSun.split("-")[1]?S()(s.state.businessHoursSun.split("-")[1],"HH:mm a").format("HH:mm:ss"):"18:00:00"})}));case 4:return e.sent,e.next=7,localStorage.getItem("x-access-store-id");case 7:return n=e.sent,e.next=10,J.a.get("https://api.intelcalendar.com/api/getStaffsByStoreId/"+n,t).then((function(e){var t=[];e.data.employees.forEach((function(e){t.push({userId:e.userId,id:e.id,title:e.fname,order:Number(e.sortIndex)+2,eventColor:e.color,businessHours:[{daysOfWeek:[1],startTime:"closed"!=s.state.businessHoursMon.split("-")[0]?S()(s.state.businessHoursMon.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursMon.split("-")[1]?S()(s.state.businessHoursMon.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[2],startTime:"closed"!=s.state.businessHoursTue.split("-")[0]?S()(s.state.businessHoursTue.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursTue.split("-")[1]?S()(s.state.businessHoursTue.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[3],startTime:"closed"!=s.state.businessHoursWed.split("-")[0]?S()(s.state.businessHoursWed.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursWed.split("-")[1]?S()(s.state.businessHoursWed.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[4],startTime:"closed"!=s.state.businessHoursThu.split("-")[0]?S()(s.state.businessHoursThu.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursThu.split("-")[1]?S()(s.state.businessHoursThu.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[5],startTime:"closed"!=s.state.businessHoursFri.split("-")[0]?S()(s.state.businessHoursFri.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursFri.split("-")[1]?S()(s.state.businessHoursFri.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[6],startTime:"closed"!=s.state.businessHoursSat.split("-")[0]?S()(s.state.businessHoursSat.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursSat.split("-")[1]?S()(s.state.businessHoursSat.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[0],startTime:"closed"!=s.state.businessHoursSun.split("-")[0]?S()(s.state.businessHoursSun.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursSun.split("-")[1]?S()(s.state.businessHoursSun.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"}]})})),t.push({userId:"9999",id:"9999",title:"anyone",order:1,eventColor:"#40d1f9",businessHours:[{daysOfWeek:[1],startTime:"closed"!=s.state.businessHoursMon.split("-")[0]?S()(s.state.businessHoursMon.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursMon.split("-")[1]?S()(s.state.businessHoursMon.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[2],startTime:"closed"!=s.state.businessHoursTue.split("-")[0]?S()(s.state.businessHoursTue.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursTue.split("-")[1]?S()(s.state.businessHoursTue.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[3],startTime:"closed"!=s.state.businessHoursWed.split("-")[0]?S()(s.state.businessHoursWed.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursWed.split("-")[1]?S()(s.state.businessHoursWed.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[4],startTime:"closed"!=s.state.businessHoursThu.split("-")[0]?S()(s.state.businessHoursThu.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursThu.split("-")[1]?S()(s.state.businessHoursThu.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[5],startTime:"closed"!=s.state.businessHoursFri.split("-")[0]?S()(s.state.businessHoursFri.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursFri.split("-")[1]?S()(s.state.businessHoursFri.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[6],startTime:"closed"!=s.state.businessHoursSat.split("-")[0]?S()(s.state.businessHoursSat.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursSat.split("-")[1]?S()(s.state.businessHoursSat.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"},{daysOfWeek:[0],startTime:"closed"!=s.state.businessHoursSun.split("-")[0]?S()(s.state.businessHoursSun.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",endTime:"closed"!=s.state.businessHoursSun.split("-")[1]?S()(s.state.businessHoursSun.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"}]}),"day"==s.state.currentView?s.setState({users:t,globalUsers:t}):s.setState({globalUsers:t})}));case 10:return e.sent,e.next=13,J.a.get("https://api.intelcalendar.com/api/getStaffsByStoreId/"+n,t).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({staffs:t.data.employees});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:e.sent,J.a.get("https://api.intelcalendar.com/api/getStaffsByUserId/".concat(this.state.userId,"/").concat(n),t).then((function(e){e.data.employees.length>0&&localStorage.setItem("x-access-staff-id",e.data.employees[0].id)})),J.a.get("https://api.intelcalendar.com/api/getServicesByStoreId/"+n,t).then((function(e){0==e.data.services.length&&s.setState({NoServices:!0}),s.setState({services:e.data.services})}));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchEvent",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,s,c=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=this.getCurrentDay()}catch(r){window.location.reload()}return a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},"ON"==localStorage.getItem("user-log-in")?J.a.get("https://api.intelcalendar.com/api/user/".concat(localStorage.getItem("x-access-user-id")),a).then((function(e){localStorage.setItem("x-access-user-fname",e.data.user.fname.charAt(0).toUpperCase()+e.data.user.fname.slice(1))})):localStorage.setItem("x-access-user-fname","Store"),e.next=5,localStorage.getItem("x-access-store-id");case 5:if(n=e.sent,"day"!=this.state.currentView){e.next=14;break}return s="",s=null!=this.state.goToDate?this.state.goToDate.toLocaleDateString("fr-ca"):t?S()(t)._d.toLocaleDateString("fr-ca"):S()()._d.toLocaleDateString("fr-ca"),e.next=11,J.a.get("https://api.intelcalendar.com/api/getAppointmentsByStoreIdAndDate/"+n+"/"+s,a).then((function(e){var t=e.data.appointments,a=e.data.appointmentsNull,n=[];null!=t&&t.forEach((function(e){var t=e.createdBy,a=e.staffId,s="";if(e.services.forEach((function(e){null!=e&&(s=s+e.name+", ")})),s=s.slice(0,-1),null!=e.note)var r=e.note;else r="";var o="".concat(e.customerFname," ").concat(e.customerLname?" "+e.customerLname:""),l="".concat(o?o.toUpperCase():"","\n").concat(s.slice(0,-1));void 0==e.customerFname&&(l=e.note,o=e.userFname,e.customerPhone=e.userPhone);t="";for(var i=0;i<c.state.staffs.length;i++){if(e.createdBy==c.state.staffs[i].userId){t=c.state.staffs[i].fname;break}t="store"}for(var m="",u=0;u<c.state.staffs.length;u++){if(e.modifiedBy==c.state.staffs[u].userId){m=c.state.staffs[u].fname;break}m="store"}n.push({id:e.id,title:l,start:"".concat(e.date,"T").concat(S()(e.start,"hh:mm a").format("HH:mm"),":00"),end:"".concat(e.date,"T").concat(S()(e.end,"hh:mm a").format("HH:mm"),":00"),sTime:S()(e.start,"hh:mm a").format("hh:mm A"),eTime:S()(e.end,"hh:mm a").format("hh:mm A"),resourceId:a,eventId:e.id,customerId:e.customerId,customerPhone:e.customerPhone,customerName:o,staffName:e.userFname,services:s.slice(0,-1),dateEvent:S()(e.date,"YYYY-MM-DD").format("MM-DD-YYYY"),createdBy:t,createdAt:e.created_at,modifiedBy:m,modifiedAt:e.updated_at,note:r})})),null!=a&&a.forEach((function(e){var t=e.createdBy,a="";if(e.services.forEach((function(e){null!=e&&(a=a+e.name+", ")})),a=a.slice(0,-1),null!=e.note)var s=e.note;else s="";t="";for(var r=0;r<c.state.staffs.length;r++){if(Number(e.createdBy)==Number(c.state.staffs[r].userId)){t=c.state.staffs[r].fname;break}t="store"}for(var o="",l=0;l<c.state.staffs.length;l++){if(e.modifiedBy==c.state.staffs[l].userId){o=c.state.staffs[l].fname;break}o="store"}n.push({id:e.id,title:"".concat(e.customerFname?e.customerFname.toUpperCase():""," ").concat(e.customerLname?" "+e.customerLname.toUpperCase():"","\n                            ").concat(a.slice(0,-1)),start:"".concat(e.date,"T").concat(S()(e.start,"hh:mm a").format("HH:mm"),":00"),end:"".concat(e.date,"T").concat(S()(e.end,"hh:mm a").format("HH:mm"),":00"),sTime:S()(e.start,"hh:mm a").format("hh:mm A"),eTime:S()(e.end,"hh:mm a").format("hh:mm A"),resourceId:"9999",eventId:e.id,customerId:e.customerId,customerPhone:e.customerPhone,customerName:"".concat(e.customerFname," ").concat(e.customerLname?" "+e.customerLname:""),staffName:"N/A",services:a.slice(0,-1),dateEvent:S()(e.date,"YYYY-MM-DD").format("MM-DD-YYYY"),createdBy:t,createdAt:e.created_at,modifiedBy:o,modifiedAt:e.updated_at,note:s})})),c.setState({events:n})}));case 11:e.sent,e.next=17;break;case 14:return e.next=16,J.a.get("https://api.intelcalendar.com/api/getAppointmentsByStoreId/"+n,a).then((function(e){var t=e.data.appointments,a=e.data.appointmentsNull,n=[];null!=t&&t.forEach((function(e){var t=e.createdBy,a=e.staffId,s="";if(e.services.forEach((function(e){null!=e&&(s=s+e.name+", ")})),s=s.slice(0,-1),null!=e.note)var r=e.note;else r="";var o="".concat(e.customerFname," ").concat(e.customerLname?" "+e.customerLname:""),l="".concat(o?o.toUpperCase():"","\n").concat(s.slice(0,-1));void 0==e.customerFname&&(l=e.note,o=e.userFname,e.customerPhone=e.userPhone);t="";for(var i=0;i<c.state.staffs.length;i++){if(e.createdBy==c.state.staffs[i].userId){t=c.state.staffs[i].fname;break}t="store"}for(var m="",u=0;u<c.state.staffs.length;u++){if(e.modifiedBy==c.state.staffs[u].userId){m=c.state.staffs[u].fname;break}m="store"}n.push({id:e.id,title:l,start:"".concat(e.date,"T").concat(S()(e.start,"hh:mm a").format("HH:mm"),":00"),end:"".concat(e.date,"T").concat(S()(e.end,"hh:mm a").format("HH:mm"),":00"),sTime:S()(e.start,"hh:mm a").format("hh:mm A"),eTime:S()(e.end,"hh:mm a").format("hh:mm A"),resourceId:a,eventId:e.id,customerId:e.customerId,customerPhone:e.customerPhone,customerName:o,staffName:e.userFname,services:s.slice(0,-1),dateEvent:S()(e.date,"YYYY-MM-DD").format("MM-DD-YYYY"),createdBy:t,createdAt:e.created_at,modifiedBy:m,modifiedAt:e.updated_at,note:r})})),null!=a&&a.forEach((function(e){var t=e.createdBy,a="";if(e.services.forEach((function(e){null!=e&&(a=a+e.name+", ")})),a=a.slice(0,-1),null!=e.note)var s=e.note;else s="";t="";for(var r=0;r<c.state.staffs.length;r++){if(Number(e.createdBy)==Number(c.state.staffs[r].userId)){t=c.state.staffs[r].fname;break}t="store account"}for(var o="",l=0;l<c.state.staffs.length;l++){if(e.modifiedBy==c.state.staffs[l].userId){o=c.state.staffs[l].fname;break}o="store account"}n.push({id:e.id,title:"".concat(e.customerFname?e.customerFname.toUpperCase():""," ").concat(e.customerLname?" "+e.customerLname.toUpperCase():"","\n                            ").concat(a.slice(0,-1)),start:"".concat(e.date,"T").concat(S()(e.start,"hh:mm a").format("HH:mm"),":00"),end:"".concat(e.date,"T").concat(S()(e.end,"hh:mm a").format("HH:mm"),":00"),sTime:S()(e.start,"hh:mm a").format("hh:mm A"),eTime:S()(e.end,"hh:mm a").format("hh:mm A"),resourceId:"9999",eventId:e.id,customerId:e.customerId,customerPhone:e.customerPhone,customerName:"".concat(e.customerFname," ").concat(e.customerLname?" "+e.customerLname:""),staffName:"N/A",services:a.slice(0,-1),dateEvent:S()(e.date,"YYYY-MM-DD").format("MM-DD-YYYY"),createdBy:t,createdAt:e.created_at,modifiedBy:o,modifiedAt:e.updated_at,note:s})})),c.setState({events:n})}));case 16:e.sent;case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openModal",value:function(e){localStorage.getItem("x-access-store-id");if("pin"==e){var t;this.setState({pinModal:!0,selectedDay:this.state.goToDate?S()(this.state.goToDate)._d:S()()._d});var a="0:00",n="0:00";1==(t=this.state.goToDate?S()(S()(this.state.goToDate)._d).day():S()(S()()._d).day())?(a="closed"!=this.state.businessHoursMon.split("-")[0]?S()(this.state.businessHoursMon.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",n="closed"!=this.state.businessHoursMon.split("-")[1]?S()(this.state.businessHoursMon.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):2==t?(a="closed"!=this.state.businessHoursTue.split("-")[0]?S()(this.state.businessHoursTue.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",n="closed"!=this.state.businessHoursTue.split("-")[1]?S()(this.state.businessHoursTue.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):3==t?(a="closed"!=this.state.businessHoursWed.split("-")[0]?S()(this.state.businessHoursWed.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",n="closed"!=this.state.businessHoursWed.split("-")[1]?S()(this.state.businessHoursWed.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):4==t?(a="closed"!=this.state.businessHoursThu.split("-")[0]?S()(this.state.businessHoursThu.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",n="closed"!=this.state.businessHoursThu.split("-")[1]?S()(this.state.businessHoursThu.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):5==t?(a="closed"!=this.state.businessHoursFri.split("-")[0]?S()(this.state.businessHoursFri.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",n="closed"!=this.state.businessHoursFri.split("-")[1]?S()(this.state.businessHoursFri.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):6==t?(a="closed"!=this.state.businessHoursSat.split("-")[0]?S()(this.state.businessHoursSat.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",n="closed"!=this.state.businessHoursSat.split("-")[1]?S()(this.state.businessHoursSat.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):0==t&&(a="closed"!=this.state.businessHoursSun.split("-")[0]?S()(this.state.businessHoursSun.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",n="closed"!=this.state.businessHoursSun.split("-")[1]?S()(this.state.businessHoursSun.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"),a=S()(a,"HH:mm"),n=S()(n,"HH:mm");for(var s=[],c=0;a<=n;)s.push({id:c,time:new S.a(a).format("HH:mm")}),a.add(15,"minutes"),c++;this.setState({timeSlot:s})}}},{key:"closeAllModal",value:function(){this.setState({pinModal:!1,mapModal:!1,editModal:!1,NoServices:!1})}},{key:"closeModalAndRefresh",value:function(e){this.closeAllModal(),"pin"==e&&(this.resetForm(),this.fetchEvent()),"map"==e&&(this.setState({eventMapData:null}),this.resetForm()),"edit"==e&&(this.resetForm(),this.fetchEvent())}},{key:"closeModalAlert",value:function(){this.setState({alertModal:!1,alertModalText:""})}},{key:"resetForm",value:function(){this.setState({customers:[],customer:null,staff:null,serviceSelected:[],duration:0,selectedDay:null,start:"00:00",end:"00:00",note:"",page:1,prevPage:0,appointmentsByStaff:null,customerFname:"",customerLname:"",customerPhone:"",appointmentId:null,searchCustomerKey:null,searchCustomerId:null,group:0,groupArray:[],serviceSelectedGroup:[],serviceSelectedGroupBool:!1,durationGroup:[],addNewCustomerView:"OFF",groupBookingView:"OFF",searchView:"ON",loading:!1,updateModalBody:"",appointmentLogs:[],updateNote:!1,updateStaff:!1,updateServices:!1,updateDate:!1,updateTime:!1})}},{key:"log_openAppointmentDetail",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a,n){var s,c=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("eventId_"+a),s={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},e.next=4,J.a.get("https://api.intelcalendar.com/api/getAppointmentsById/"+a,s).then((function(e){var t=e.data.appointments,a=e.data.appointmentsNull;null!=t&&t.forEach((function(e){c.handleGoToDateClick(S()(e.date)._d,{undefined:void 0}),c.onToggle()})),null!=a&&a.forEach((function(e){c.handleGoToDateClick(S()(e.date)._d,{undefined:void 0}),c.onToggle()})),c.setState({activitiesModal:!1})}));case 4:e.sent,"unread"==n&&J.a.post("https://api.intelcalendar.com/api/markRead",{log_id:t,user_id:localStorage.getItem("x-access-user-id")},s).then((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"openModalEdit",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({mapModal:!1,editModal:!0,appointmentId:t}),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},e.next=4,J.a.get("https://api.intelcalendar.com/api/getAppointmentsById/"+t,a).then((function(e){var t,s=e.data.appointments,c=e.data.appointmentsNull,r=[];null!=s&&s.forEach((function(e){e.createdBy;var t=e.staffId,a="",s=e.services,c=[],o=0;if(s.forEach((function(e){null!=e&&(a=a+e.name+", ",c.push(e.id.toString()),o+=Number(e.duration))})),null!=e.note)var l=e.note;else l="";n.setState({staff:t,serviceSelected:c,duration:o,note:l,selectedDay:S()(e.date)._d,customer:e.customerId,start:S()(e.start,"hh:mm a").format("hh:mm a")}),r.push({id:e.id,title:"".concat(e.customerFname," ").concat(e.customerLname?" "+e.customerLname:"","\n                        ").concat(a.slice(0,-1),"\n                        Notes: ").concat(l),start:"".concat(e.date,"T").concat(S()(e.start,"hh:mm a").format("HH:mm"),":00"),end:"".concat(e.date,"T").concat(S()(e.end,"hh:mm a").format("HH:mm"),":00"),sTime:S()(e.start,"hh:mm").format("hh:mm A"),eTime:S()(e.end,"hh:mm").format("hh:mm A"),resourceId:t,eventId:e.id,customerName:"".concat(e.customerFname," ").concat(e.customerLname?" "+e.customerLname:""),staffName:e.userFname+" "+e.userLname,services:a.slice(0,-1),dateEvent:S()(e.date,"YYYY-MM-DD").format("MM-DD-YYYY"),note:l})})),null!=c&&c.forEach((function(e){e.createdBy;var t="",a=e.services,s=[],c=0;if(a.forEach((function(e){null!=e&&(t=t+e.name+", ",s.push(e.id.toString()),c+=Number(e.duration))})),null!=e.note)var o=e.note;else o="";n.setState({staff:0,serviceSelected:s,duration:c,note:o,selectedDay:S()(e.date)._d,customer:e.customerId,start:S()(e.start,"hh:mm a").format("hh:mm a")}),r.push({id:e.id,title:"".concat(e.customerFname," ").concat(e.customerLname?" "+e.customerLname:"","\n                        ").concat(t.slice(0,-1),"\n                        Notes: ").concat(o),start:"".concat(e.date,"T").concat(S()(e.start,"hh:mm a").format("HH:mm"),":00"),end:"".concat(e.date,"T").concat(S()(e.end,"hh:mm a").format("HH:mm"),":00"),sTime:S()(e.start,"hh:mm").format("hh:mm A"),eTime:S()(e.end,"hh:mm").format("hh:mm A"),resourceId:"9999",eventId:e.id,customerName:"".concat(e.customerFname," ").concat(e.customerLname?" "+e.customerLname:""),staffName:"N/A",services:t.slice(0,-1),dateEvent:S()(e.date,"YYYY-MM-DD").format("MM-DD-YYYY"),note:o})})),n.setState({eventEditData:r});var o="0:00",l="0:00";1==(t=n.state.selectedDay?S()(n.state.selectedDay).weekday():S()(S()()._d).day())?(o="closed"!=n.state.businessHoursMon.split("-")[0]?S()(n.state.businessHoursMon.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",l="closed"!=n.state.businessHoursMon.split("-")[1]?S()(n.state.businessHoursMon.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):2==t?(o="closed"!=n.state.businessHoursTue.split("-")[0]?S()(n.state.businessHoursTue.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",l="closed"!=n.state.businessHoursTue.split("-")[1]?S()(n.state.businessHoursTue.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):3==t?(o="closed"!=n.state.businessHoursWed.split("-")[0]?S()(n.state.businessHoursWed.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",l="closed"!=n.state.businessHoursWed.split("-")[1]?S()(n.state.businessHoursWed.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):4==t?(o="closed"!=n.state.businessHoursThu.split("-")[0]?S()(n.state.businessHoursThu.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",l="closed"!=n.state.businessHoursThu.split("-")[1]?S()(n.state.businessHoursThu.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):5==t?(o="closed"!=n.state.businessHoursFri.split("-")[0]?S()(n.state.businessHoursFri.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",l="closed"!=n.state.businessHoursFri.split("-")[1]?S()(n.state.businessHoursFri.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):6==t?(o="closed"!=n.state.businessHoursSat.split("-")[0]?S()(n.state.businessHoursSat.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",l="closed"!=n.state.businessHoursSat.split("-")[1]?S()(n.state.businessHoursSat.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"):0==t&&(o="closed"!=n.state.businessHoursSun.split("-")[0]?S()(n.state.businessHoursSun.split("-")[0],"HH:mm a").format("HH:mm"):"0:00",l="closed"!=n.state.businessHoursSun.split("-")[1]?S()(n.state.businessHoursSun.split("-")[1],"HH:mm a").format("HH:mm"):"0:00"),o=S()(o,"HH:mm"),l=S()(l,"HH:mm");for(var i=[],m=0;o<=l;)i.push({id:m,time:new S.a(o).format("HH:mm")}),o.add(15,"minutes"),m++;n.setState({timeSlot:i});var u=n.state.staff,d=localStorage.getItem("x-access-store-id"),h=n.state.selectedDay.toLocaleDateString("fr-ca");J.a.get("https://api.intelcalendar.com/api/getAppointmentsByStoreIdAndEmployeeId/"+d+"/"+u+"/"+h,a).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=u){e.next=5;break}return e.next=3,n.setState({appointmentsByStaff:t.data.appointmentsNull});case 3:e.next=7;break;case 5:return e.next=7,n.setState({appointmentsByStaff:t.data.appointments});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleAddNewCustomer",value:function(e){this.setState({groupBookingView:"OFF",addNewCustomerView:e,searchView:"OFF"})}},{key:"displayGroup",value:function(e){this.setState({addNewCustomerView:"OFF",groupBookingView:e,searchView:"OFF"})}},{key:"getCurrentDay",value:function(){var e=this.calendarRef.current;return e?e.getApi().getDate():null}},{key:"dateValidation",value:function(e){var t=S()(S()().format("YYYY-MM-DD"));return!!S()(S()(e).format("YYYY-MM-DD")).isSameOrAfter(t)}},{key:"submitForm",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,s=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0});case 2:if(t=localStorage.getItem("x-access-store-id"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},!this.state.createNewCustomer){e.next=8;break}J.a.post("https://api.intelcalendar.com/api/customer",{storeId:t,fname:this.state.customerFname.toLowerCase(),lname:this.state.customerLname?this.state.customerLname.toLowerCase():"",phone:this.state.customerPhone,email:""},a).then((function(e){s.setState({customer:e.data.customer.id})})).then(function(){var e=Object(v.a)(g.a.mark((function e(n){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((c=Number(s.state.group))>1)){e.next=11;break}r=0;case 3:if(!(r<c)){e.next=9;break}return e.next=6,J.a.post("https://api.intelcalendar.com/api/appointment",{storeId:t,staffId:s.state.staff,customerId:s.state.customer,serviceIds:s.state.serviceSelectedGroup[r].join(),appointmentId:"",date:s.state.selectedDay.toLocaleDateString("fr-ca"),start:S()(s.state.start,"hh:mm").format("hh:mm a"),end:S()(s.state.start,"hh:mm").add(s.state.durationGroup[r],"minutes").format("hh:mm a"),note:s.state.note,createdBy:"ON"==localStorage.getItem("user-log-in")?s.state.userId:0,modifiedBy:"ON"==localStorage.getItem("user-log-in")?s.state.userId:0},a).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!=c-1){e.next=5;break}return e.next=3,s.createLogSingle("group","add",t.data.appointment.id);case 3:return e.next=5,s.closeModalAndRefresh("pin");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:r++,e.next=3;break;case 9:e.next=12;break;case 11:J.a.post("https://api.intelcalendar.com/api/appointment",{storeId:t,staffId:s.state.staff,customerId:s.state.customer,serviceIds:s.state.serviceSelected.join(),appointmentId:"",date:s.state.selectedDay.toLocaleDateString("fr-ca"),start:S()(s.state.start,"hh:mm").format("hh:mm a"),end:S()(s.state.start,"hh:mm").add(s.state.duration,"minutes").format("hh:mm a"),note:s.state.note,createdBy:"ON"==localStorage.getItem("user-log-in")?s.state.userId:0,modifiedBy:"ON"==localStorage.getItem("user-log-in")?s.state.userId:0},a).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.createLogSingle("single","add",t.data.appointment.id);case 2:return e.next=4,s.closeModalAndRefresh("pin");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9;break;case 8:return e.delegateYield(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((c=Number(s.state.group))>1)){e.next=11;break}n=0;case 3:if(!(n<c)){e.next=9;break}return e.next=6,J.a.post("https://api.intelcalendar.com/api/appointment",{storeId:t,staffId:s.state.staff,customerId:s.state.customer,serviceIds:s.state.serviceSelectedGroup[n].join(),appointmentId:"",date:s.state.selectedDay.toLocaleDateString("fr-ca"),start:S()(s.state.start,"hh:mm").format("hh:mm a"),end:S()(s.state.start,"hh:mm").add(s.state.durationGroup[n],"minutes").format("hh:mm a"),note:s.state.note,createdBy:"ON"==localStorage.getItem("user-log-in")?s.state.userId:0,modifiedBy:"ON"==localStorage.getItem("user-log-in")?s.state.userId:0},a).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!=c-1){e.next=5;break}return e.next=3,s.createLogSingle("group","add",t.data.appointment.id);case 3:return e.next=5,s.closeModalAndRefresh("pin");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:n++,e.next=3;break;case 9:e.next=12;break;case 11:J.a.post("https://api.intelcalendar.com/api/appointment",{storeId:t,staffId:s.state.staff,customerId:s.state.customer,serviceIds:s.state.serviceSelected.join(),appointmentId:"",date:s.state.selectedDay.toLocaleDateString("fr-ca"),start:S()(s.state.start,"HH:mm a").format("HH:mm a"),end:S()(s.state.start,"HH:mm a").add(s.state.duration,"minutes").format("HH:mm a"),note:s.state.note,createdBy:"ON"==localStorage.getItem("user-log-in")?s.state.userId:0,modifiedBy:"ON"==localStorage.getItem("user-log-in")?s.state.userId:0},a).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.createLogSingle("single","add",t.data.appointment.id);case 2:return e.next=4,s.closeModalAndRefresh("pin");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}}),e)}))(),"t0",9);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createLogSingle",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a,n){var s,c,r,o,l,i,m,u,d,h,p,f,E,b=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},c=localStorage.getItem("x-access-store-id"),r=n,o="",l="",i="",m="",u="","add"!=a){e.next=21;break}return e.next=11,J.a.get("https://api.intelcalendar.com/api/customer/"+this.state.customer,s).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data.customer.fname.charAt(0).toUpperCase();case 2:if(e.t0=e.sent,e.t1=t.data.customer.fname.slice(1),o=e.t0+e.t1,!t.data.customer.lname){e.next=11;break}return e.next=8,t.data.customer.lname.charAt(0).toUpperCase();case 8:e.t2=e.sent,e.t3=t.data.customer.lname.slice(1),l=e.t2+e.t3;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:if(0==this.state.staff){e.next=16;break}return e.next=14,J.a.get("https://api.intelcalendar.com/api/getStaffsByEmployeeId/ "+this.state.staff,s).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data.employees[0].fname.charAt(0).toUpperCase();case 2:e.t0=e.sent,e.t1=t.data.employees[0].fname.slice(1),i=e.t0+e.t1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:e.next=17;break;case 16:i="Anyone";case 17:u="<strong>".concat(localStorage.getItem("x-access-user-fname"),"</strong> created the appointment"),m="<strong>".concat(localStorage.getItem("x-access-user-fname"),"</strong> booked ").concat("group"!=t?"an appointment for <strong>"+o+" "+l+"</strong>":"<strong>a group of "+this.state.group.toString()+"</strong>"," with <strong>").concat(i,"</strong> on ").concat(S()(this.state.selectedDay.toLocaleDateString("fr-ca"),"YYYY-MM-DD").format("M/D"),", ").concat(S()(this.state.start,"HH:mm a").format("hh:mm a")),e.next=31;break;case 21:if("delete"!=a){e.next=28;break}return e.next=24,J.a.get("https://api.intelcalendar.com/api/getAppointmentsById/"+n,s).then((function(e){var t=[];e.data.appointments.length>0?t=e.data.appointments:e.data.appointmentsNull.length>0&&(t=e.data.appointmentsNull),t.forEach((function(e){d="".concat(e.customerFname.charAt(0).toUpperCase()+e.customerFname.slice(1)," ").concat(e.customerLname?" "+e.customerLname.charAt(0).toUpperCase()+e.customerLname.slice(1):""),h=S()(e.start,"hh:mm a").format("hh:mm a"),p=S()(e.date,"YYYY-MM-DD").format("M/D")}))}));case 24:u="<strong>".concat(localStorage.getItem("x-access-user-fname"),"</strong> deleted the appointment"),m="<strong>".concat(localStorage.getItem("x-access-user-fname"),"</strong> deleted <strong>").concat(d,"</strong>'s appointment on ").concat(p,", ").concat(h),e.next=31;break;case 28:if("update"!=a){e.next=31;break}return e.next=31,J.a.get("https://api.intelcalendar.com/api/getAppointmentsById/"+n,s).then(function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],t.data.appointments.length>0?a=t.data.appointments:t.data.appointmentsNull.length>0&&(a=t.data.appointmentsNull),a.forEach((function(e){d="".concat(e.customerFname.charAt(0).toUpperCase()+e.customerFname.slice(1)).concat(e.customerLname?" "+e.customerLname.charAt(0).toUpperCase()+e.customerLname.slice(1):""),h=S()(e.start,"hh:mm a").format("hh:mm a"),p=S()(e.date,"YYYY-MM-DD").format("M/D"),f=void 0!=e.userFname?e.userFname.charAt(0).toUpperCase()+e.userFname.slice(1):"Anyone"}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u="<strong>".concat(localStorage.getItem("x-access-user-fname"),"</strong>"),b.state.updateNote&&(u+=" updated note.",m="<strong>".concat(localStorage.getItem("x-access-user-fname"),"</strong> updated <strong>").concat(d,"</strong>'s appointment note on ").concat(p,", ").concat(h)),!b.state.updateStaff){e.next=11;break}if(0==b.state.staff){e.next=8;break}return e.next=6,J.a.get("https://api.intelcalendar.com/api/getStaffsByEmployeeId/ "+b.state.staff,s).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data.employees[0].fname.charAt(0).toUpperCase();case 2:e.t0=e.sent,e.t1=t.data.employees[0].fname.slice(1),E=e.t0+e.t1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:e.next=9;break;case 8:E="Anyone";case 9:u+=" updated staff from ".concat(void 0!=f?f:"Anyone"," to ").concat(E,"."),m="<strong>".concat(localStorage.getItem("x-access-user-fname"),"</strong> updated <strong>").concat(d,"</strong>'s appointment staff from <strong>").concat(void 0!=f?f:"Anyone","</strong> to <strong>").concat(E,"</strong> on ").concat(p,", ").concat(h);case 11:b.state.updateServices&&(u+=" updated services.",m="<strong>".concat(localStorage.getItem("x-access-user-fname"),"</strong> updated <strong>").concat(d,"</strong>'s appointment services on ").concat(p,", ").concat(h)),(b.state.updateTime||b.state.updateDate)&&(a=b.state.selectedDay.toLocaleDateString("fr-ca"),n=S()(b.state.start,"HH:mm a").format("HH:mm a"),n=S()(n,"hh:mm a").format("hh:mm a"),a=S()(a,"YYYY-MM-DD").format("M/D"),u+=" updated appointment time from ".concat(p,"&nbsp;").concat(h," to ").concat(a,"&nbsp;").concat(n,"."),m="<strong>".concat(localStorage.getItem("x-access-user-fname"),"</strong> updated <strong>").concat(d,"</strong>'s appointment  time from ").concat(p,"&nbsp;").concat(h," to ").concat(a,"&nbsp;").concat(n));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 31:return e.next=33,J.a.post("https://api.intelcalendar.com/api/create-log",{app_type:"appointments",storeId:c,appointmentId:r,text:m,appointment_log:u},s).then((function(e){}));case 33:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"updateForm",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0});case 2:return t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},e.next=5,this.createLogSingle("single","update",this.state.appointmentId);case 5:return e.next=7,J.a.patch("https://api.intelcalendar.com/api/appointment/"+this.state.appointmentId,{staffId:this.state.staff,customerId:this.state.customer,serviceIds:this.state.serviceSelected.join(),date:this.state.selectedDay.toLocaleDateString("fr-ca"),start:S()(this.state.start,"HH:mm a").format("HH:mm a"),end:S()(this.state.start,"HH:mm a").add(this.state.duration,"minutes").format("HH:mm a"),note:this.state.note,modifiedBy:"ON"==localStorage.getItem("user-log-in")?this.state.userId:0},t).then((function(e){a.resetForm(),a.closeAllModal()}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showDeleteModal",value:function(e){this.setState({deleteModal:!0,deleteId:e})}},{key:"closeModalDelete",value:function(){this.setState({deleteModal:!1})}},{key:"deleteAppointment",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0,deleteModal:!1});case 2:a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},J.a.get("https://api.intelcalendar.com/api/removeAppointment/"+t,a).then((function(e){n.createLogSingle("single","delete",t),n.resetForm(),n.closeAllModal(),n.fetchEvent()}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleActivitiesModal",value:function(e){"open"==e?(this.setState({activitiesModal:!0}),this.log_Count()):this.setState({activitiesModal:!1})}},{key:"log_Count",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=localStorage.getItem("x-access-store-id");J.a.get("https://api.intelcalendar.com/api/getStoreLogs/"+a,t).then((function(t){var a=0;t.data.logs.forEach((function(e){e.read=!0;null!=e.userIds&&e.userIds.split(",").includes(localStorage.getItem("x-access-user-id"))||(a++,e.read=!1)})),e.setState({logs:t.data.logs,logs_count:a})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.calendarMap," calendarMap")},s.a.createElement("style",null,"                    .bottom_nav a{                        width: 25%;                    }                    .calendarMap .btn_activities{                        position: fixed;                        z-index: 100;                        bottom: 0;                        right: 25%;                        cursor: pointer;                        width: 25%;                        text-align: center;                        height: 56px;                        display: flex;                        justify-content: center;                        align-items: center;                    }                "),s.a.createElement("a",{onClick:function(){return e.toggleActivitiesModal("open")},className:"btn_activities"},s.a.createElement("i",{className:"fas fa-bell fa-2x ".concat(this.state.logs_count>0?f.a.has_notifications:"")},s.a.createElement("span",null,this.state.logs_count.toString()))),s.a.createElement("div",{className:f.a.row},s.a.createElement("a",{className:"".concat(f.a.btn_add_job),onClick:function(){return e.openModal("pin")}},s.a.createElement("i",{className:"fas fa-plus"}))),this.state.staffs.length>4?s.a.createElement("style",null,"                    .fc-view.fc-resourceTimeGridDay-view  > table{                        min-width: 0;                        width: auto;                    }                "):"","week"==this.state.currentView?s.a.createElement("style",null,"                        .fc-head .fc-widget-header table thead>tr:first-child{                            display: none;                        }                    "):"",s.a.createElement("select",{name:"userSelected",onChange:this.setResource,className:"".concat(f.a.userSelected," ").concat(f.a.btn_back)},"day"==this.state.currentView?s.a.createElement("option",{value:"all"},"All"):"",this.state.globalUsers.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.title)}))),s.a.createElement(Pe.a,{duration:250,collapsed:!0,noDisplayStyle:!0,easeCollapse:Ae.a.quartOut,easeExpand:Ae.a.bounceOut,toggleEvent:this.state.toggleEvent},(function(t){var a=t.setCollapsibleElement;return s.a.createElement("div",{className:"my-collapsible calendar_Map"},s.a.createElement("div",{className:"my-collapsible__content",ref:a},s.a.createElement("div",{className:"my-collapsible__content-inner"},s.a.createElement(De.a,{selectedDays:e.state.goToDate,onDayClick:e.handleGoToDateClick}))))})),s.a.createElement(Be.a,{id:"calendar",schedulerLicenseKey:"0831997645-fcs-1564716791",defaultView:"resourceTimeGridDay",plugins:[Re.a,Le.g,We.e,ze.a,Ue.a],customButtons:{datepickerButton:{text:" ",click:function(){return e.onToggle()}},prevButton:{text:" ",click:function(){return e.prevButton()}},nextButton:{text:" ",click:function(){return e.nextButton()}},todayButton:{text:"Today",click:function(){return e.todayButton()}},resourceTimeGridWeekButton:{text:"Week",click:function(){return e.resourceTimeGridWeek()}},resourceTimeGridDayButton:{text:"Day",click:function(){return e.resourceTimeGridDay()}}},header:{left:"prevButton,".concat("ON"==localStorage.getItem("user-log-in")?"resourceTimeGridWeekButton,resourceTimeGridDayButton,":"","todayButton"),center:"title, datepickerButton",right:"nextButton"},titleFormat:{month:"numeric",day:"numeric",weekday:"short"},columnHeaderFormat:{day:"numeric",weekday:"short"},ref:this.calendarRef,timezone:"UTC",allDaySlot:!1,firstDay:"1",hiddenDays:this.state.hiddenDays,nowIndicator:!0,minTime:this.state.minTime,maxTime:this.state.maxTime,slotDuration:"00:15",slotLabelInterval:"00:30",slotEventOverlap:!0,selectable:!0,contentHeight:"auto",resources:this.state.users,resourceOrder:"order",events:this.state.events,eventTimeFormat:{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"},eventClick:this.handleEventClick}),s.a.createElement("br",null),s.a.createElement("br",null),function(){if(e.state.pinModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.normal)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("a",{onClick:function(){return e.closeModalAndRefresh("pin")}},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.active," ").concat(f.a.btn_close)})),1==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"New Appointment")),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.row__2cols)},s.a.createElement("div",{className:"".concat(f.a.radio),onClick:function(){return e.goToPageSetPrev(5,1)}},s.a.createElement("h1",null,"Individual Booking")),s.a.createElement("div",{className:"".concat(f.a.radio),onClick:function(){return e.goToPageSetPrev(6,1)}},s.a.createElement("h1",null,"Group Booking"))))):"",2==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"New Appointment"),s.a.createElement("h1",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Individual")),s.a.createElement("a",{onClick:function(){return e.goToPage(1)}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("p",null,"If this is our existing customer.")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.row__2cols)},s.a.createElement("div",{className:"".concat(f.a.radio),onClick:function(){return e.goToPageSetPrev(4,2)}},s.a.createElement("h1",null,"Search Customer")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("p",null,"Otherwise")),s.a.createElement("div",{className:"".concat(f.a.radio),onClick:function(){return e.goToPageSetPrev(5,2)}},s.a.createElement("h1",null,"Add New Customer"))))):"",4==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Search Customer ")),s.a.createElement("a",{onClick:function(){return e.goToPage(2)}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h4",null,"Search by Customer Number"),s.a.createElement("input",{type:"text",name:"searchCustomerId",placeholder:"\uf002",className:"fas fa-search ".concat(f.a.placeholder),value:e.state.searchCustomerId,onChange:e.searchCustomerById}),s.a.createElement("h4",null,"Search by Name/Phone/Email"),s.a.createElement("input",{type:"text",name:"searchCustomerKey",placeholder:"\uf002",className:"fas fa-search ".concat(f.a.placeholder),value:e.state.searchCustomerKey,onChange:e.searchCustomer,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("div",{className:"".concat(f.a.row)},0==e.state.customers.length?"":s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Select a customer"),e.state.customers.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"customer",value:t.id,checked:e.state.customer==t.id,onChange:e.handleCustomerChange,onClick:e.unCheckCustomer}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.customer==t.id?f.a.selected:"")},t.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("b",null,t.fname," ",t.lname),t.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email)):"",t.phone?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.phone))):"",t.fav_staffId&&"0"!=t.fav_staffId?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("i",{className:"fas fa-heart",style:{color:t.color,fontSize:"14px"}}),"\xa0",s.a.createElement("span",{style:{textTransform:"lowercase"}},t.userFname)):"")))})))),s.a.createElement("div",{className:"".concat(f.a.row)},e.state.customer&&e.state.customers.length>0?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.floating_action),onClick:function(){return e.goToPageSetPrev(10,4)}},"Next"):""))):"",5==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"customer information")),s.a.createElement("a",{onClick:function(){return e.goToPage(1)}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("div",{className:f.a.row__2cols__nowrap},s.a.createElement("div",null,s.a.createElement("label",{htmlFor:""},"First name"),s.a.createElement("input",{type:"text",name:"customerFname",value:e.state.customerFname,onChange:e.handleInputChangeNewCustomer})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:""},"Last name"),s.a.createElement("input",{type:"text",name:"customerLname",value:e.state.customerLname,onChange:e.handleInputChangeNewCustomer}))),s.a.createElement("div",{className:f.a.row__2cols__nowrap},s.a.createElement("div",null,s.a.createElement("label",{htmlFor:""},"Phone number"),s.a.createElement("input",{type:"number",name:"customerPhone",value:e.state.customerPhone,onChange:e.handleInputChangeNewCustomer})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:""},"Search by ID"),s.a.createElement("input",{type:"text",name:"searchCustomerId",value:e.state.searchCustomerId,onChange:e.searchCustomerById}))),s.a.createElement("div",{className:"".concat(f.a.row)},""!=e.state.customerFname||""!=e.state.customerLname||""!=e.state.customerPhone||""!=e.state.searchCustomerId?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.floating_action),onClick:function(){return e.goToPageSetPrev(10,5)}},"Next"):s.a.createElement(s.a.Fragment,null)),s.a.createElement("div",{className:"".concat(f.a.row)},0==e.state.customers.length?"":s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"".concat(f.a.text_center," ").concat(f.a.mt__10)},"Select a customer"),e.state.customers.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"customer",value:t.id,checked:e.state.customer==t.id,onChange:e.handleCustomerChange,onClick:e.unCheckCustomer}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.customer==t.id?f.a.selected:"")},t.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("b",null,t.fname," ",t.lname),t.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email)):"",t.phone?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.phone))):"",t.fav_staffId&&"0"!=t.fav_staffId?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("i",{className:"fas fa-heart",style:{color:t.color,fontSize:"14px"}}),"\xa0",s.a.createElement("span",{style:{textTransform:"lowercase"}},t.userFname)):"")))})),s.a.createElement("h3",{className:"".concat(f.a.text_center," ").concat(f.a.mt__10)},"Or"),s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"checkbox",name:"createNewCustomer",value:e.state.createNewCustomer,checked:1==e.state.createNewCustomer,onChange:e.handleCreateNewCustomer}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(1==e.state.createNewCustomer?f.a.selected:"")},1==e.state.createNewCustomer?s.a.createElement("i",{className:"fas fa-check"}):"")),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("span",{style:{textTransform:"initial"}},"Check here if you still want to create new customer")))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null))))):"",6==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Enter Group Size")),s.a.createElement("a",{onClick:function(){return e.goToPage(1)}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Group Size"),s.a.createElement("input",{type:"number",name:"group",value:e.state.group,onChange:e.handleGroupChange,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("div",{className:"".concat(f.a.row)},e.state.group>1?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.floating_action),onClick:function(){return e.goToPageSetPrev(9,6)}},"Next"):s.a.createElement("p",null,"(need to greater than 1)")))):"",7==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Group of ",e.state.group),s.a.createElement("h1",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Add main contact person")),s.a.createElement("a",{onClick:function(){return e.goToPage(6)}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("p",null,"If the main contact is our existing customer.")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.row__2cols)},s.a.createElement("div",{className:"".concat(f.a.radio),onClick:function(){return e.goToPageSetPrev(8,7)}},s.a.createElement("h1",null,"Search Customer")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("p",null,"Otherwise")),s.a.createElement("div",{className:"".concat(f.a.radio),onClick:function(){return e.goToPageSetPrev(9,7)}},s.a.createElement("h1",null,"Add New Customer"))))):"",8==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Search Customer by name, phone or email")),s.a.createElement("a",{onClick:function(){return e.goToPage(7)}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h4",null,"Search by Customer Number"),s.a.createElement("input",{type:"text",name:"searchCustomerId",placeholder:"\uf002",className:"fas fa-search ".concat(f.a.placeholder),value:e.state.searchCustomerId,onChange:e.searchCustomerById}),s.a.createElement("h4",null,"Search by Name/Phone/Email"),s.a.createElement("input",{type:"text",name:"searchCustomerKey",placeholder:"\uf002",className:"fas fa-search ".concat(f.a.placeholder),value:e.state.searchCustomerKey,onChange:e.searchCustomer,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("div",{className:"".concat(f.a.row)},0==e.state.customers.length?"":s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Select a customer"),e.state.customers.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"customer",value:t.id,checked:e.state.customer==t.id,onChange:e.handleCustomerChange,onClick:e.unCheckCustomer}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.customer==t.id?f.a.selected:"")},t.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("b",null,t.fname," ",t.lname),t.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email)):"",t.phone?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.phone))):"",t.fav_staffId&&"0"!=t.fav_staffId?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("i",{className:"fas fa-heart",style:{color:t.color,fontSize:"14px"}}),"\xa0",s.a.createElement("span",{style:{textTransform:"lowercase"}},t.userFname)):"")))})))),s.a.createElement("div",{className:"".concat(f.a.row)},e.state.customer&&e.state.customers.length>0?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.floating_action),onClick:function(){return e.goToPageSetPrev(10,8)}},"Next"):s.a.createElement("p",{className:"".concat(f.a.text_center)},"Please select a customer")))):"",9==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Main contact (Group of ",e.state.group,")")),s.a.createElement("a",{onClick:function(){return e.goToPage(6)}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("div",{className:f.a.row__2cols__nowrap},s.a.createElement("div",null,s.a.createElement("label",{htmlFor:""},"First name"),s.a.createElement("input",{type:"text",name:"customerFname",value:e.state.customerFname,onChange:e.handleInputChangeNewCustomer})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:""},"Last name"),s.a.createElement("input",{type:"text",name:"customerLname",value:e.state.customerLname,onChange:e.handleInputChangeNewCustomer}))),s.a.createElement("div",{className:f.a.row__2cols__nowrap},s.a.createElement("div",null,s.a.createElement("label",{htmlFor:""},"Phone number"),s.a.createElement("input",{type:"number",name:"customerPhone",value:e.state.customerPhone,onChange:e.handleInputChangeNewCustomer})),s.a.createElement("div",null,s.a.createElement("label",{htmlFor:""},"Search by ID"),s.a.createElement("input",{type:"text",name:"searchCustomerId",value:e.state.searchCustomerId,onChange:e.searchCustomerById}))),s.a.createElement("div",{className:"".concat(f.a.row)},""!=e.state.customerFname||""!=e.state.customerLname||""!=e.state.customerPhone||""!=e.state.searchCustomerId?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.floating_action),onClick:function(){return e.goToPageSetPrev(10,9)}},"Next"):s.a.createElement(s.a.Fragment,null)),s.a.createElement("div",{className:"".concat(f.a.row)},0==e.state.customers.length?"":s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"".concat(f.a.text_center," ").concat(f.a.mt__10)},"Select a customer"),e.state.customers.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"customer",value:t.id,checked:e.state.customer==t.id,onChange:e.handleCustomerChange,onClick:e.unCheckCustomer}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.customer==t.id?f.a.selected:"")},t.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("b",null,t.fname," ",t.lname),t.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email)):"",t.phone?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.phone))):"",t.fav_staffId&&"0"!=t.fav_staffId?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("i",{className:"fas fa-heart",style:{color:t.color,fontSize:"14px"}}),"\xa0",s.a.createElement("span",{style:{textTransform:"lowercase"}},t.userFname)):"")))})),s.a.createElement("h3",{className:"".concat(f.a.text_center," ").concat(f.a.mt__10)},"Or"),s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"checkbox",name:"createNewCustomer",value:e.state.createNewCustomer,checked:1==e.state.createNewCustomer,onChange:e.handleCreateNewCustomer}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(1==e.state.createNewCustomer?f.a.selected:"")},1==e.state.createNewCustomer?s.a.createElement("i",{className:"fas fa-check"}):"")),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("span",{style:{textTransform:"initial"}},"Check here if you still want to create new customer")))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null))))):"",10==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Choose staff")),s.a.createElement("a",{onClick:function(){return e.goToPrevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"staff",value:0,checked:0==e.state.staff,onChange:e.handleStaffChange,onClick:e.unCheckStaff}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(0==e.state.staff?f.a.selected:"")},"N/A")),s.a.createElement("div",{className:"".concat(f.a.col_2)},"anyone"))),e.state.staffs.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"staff",value:t.id,checked:e.state.staff==t.id,onChange:e.handleStaffChange,onClick:e.unCheckStaff}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.staff==t.id?f.a.selected:"")},t.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.url)})):s.a.createElement("div",null,t.fname.charAt(0),t.lname.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.fname)))}))),s.a.createElement("div",{className:"".concat(f.a.row)},e.state.staff?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.floating_action),onClick:function(){return e.goToPage(11)}},"Next"):s.a.createElement("p",{className:"".concat(f.a.text_center)},"Please choose a staff")))):"",11==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{onClick:function(){return e.goToPage(10)}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},e.state.group>1?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.mb_10," ").concat(f.a.text_center)},"Please select services for everyone")),s.a.createElement("div",{className:"".concat(f.a.row)},e.state.groupArray.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group),key:t.id},s.a.createElement("h4",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Customer: ",Number(t.id)+1," of ",e.state.group),e.state.services.map((function(a){return s.a.createElement("div",{className:"".concat(f.a.card),key:a.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"checkbox",name:"serviceSelectedGroup","data-duration":a.duration,value:a.id,"data-customId":t.id,onChange:e.handleServiceGroupChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.serviceSelectedGroup[Number(t.id)]&&e.state.serviceSelectedGroup[Number(t.id)].includes(a.id.toString())?f.a.selected:"")},a.icon?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(a.icon)})):s.a.createElement("div",null,a.name.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},a.name,s.a.createElement("br",null),"Duration: ",a.duration)))})))}))),s.a.createElement("div",{className:"".concat(f.a.row)},e.state.serviceSelectedGroupBool?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.floating_action),onClick:function(){return e.goToPage(12)}},"Next"):s.a.createElement(s.a.Fragment,null))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.mb_10," ").concat(f.a.text_center)},"Choose services")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},e.state.services.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"checkbox",name:"serviceSelected","data-duration":t.duration,value:t.id,onChange:e.handleServiceChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.serviceSelected.includes(t.id.toString())?f.a.selected:"")},t.icon?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.icon)})):s.a.createElement("div",null,t.name.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.name,s.a.createElement("br",null),"Duration: ",t.duration)))}))),s.a.createElement("div",{className:"".concat(f.a.row)},e.state.serviceSelected.length>0?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.floating_action),onClick:function(){return e.goToPage(12)}},"Next"):s.a.createElement("p",{className:"".concat(f.a.text_center)},"Please add at least one service"))))):"",12==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{onClick:function(){return e.goToPage(11)}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center)},s.a.createElement("h4",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Choose Appointment date")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center)},s.a.createElement(De.a,{selectedDays:e.state.selectedDay,onDayClick:e.handleDayClick})),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center)},s.a.createElement("h4",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Choose Appointment Time")),s.a.createElement("div",{className:"".concat(f.a.radio_group)},e.state.timeSlot.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.radio_component," ").concat(f.a.timeSlot),key:t.id},s.a.createElement("label",{className:"".concat(f.a.rectangle)},s.a.createElement("input",{type:"radio",name:"start",value:t.time,onChange:e.handleInputChange,checked:S()(e.state.start,"hh:mm a").format("hh:mm a")==S()(t.time,"HH:mm").format("hh:mm a")}),s.a.createElement("div",null,s.a.createElement("div",{style:{position:"relative"}},null==e.state.appointmentsByStaff?"":e.state.appointmentsByStaff.map((function(a){return s.a.createElement("span",{key:a.id,className:"".concat(S()(a.date).isSame(e.state.selectedDay.toLocaleDateString("fr-ca"))&&S()(t.time,"HH:mm").isBetween(S()(a.start,"hh:mm a"),S()(a.end,"hh:mm a"),void 0,"[]")?f.a.conflicted:""),style:{position:"absolute",left:0,top:0,height:"100%",width:"100%"}})})),s.a.createElement("h3",null,S()(t.time,"HH:mm").format("hh:mm a"))))))}))),s.a.createElement("div",{className:"".concat(f.a.row)},"00:00"!=e.state.start?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.floating_action),onClick:function(){return e.goToPage(13)}},"Next"):""))):"",13==e.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Add notes")),s.a.createElement("a",{onClick:function(){return e.goToPage(12)}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("textarea",{name:"note",placeholder:"Note",value:e.state.note,onChange:e.handleInputChange,rows:"8"})),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.floating_action),onClick:function(){return e.submitForm()}},"Finish")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(e.state.loading?"":f.a.hidden)},s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.disabled," ").concat(f.a.floating_action)},s.a.createElement("i",{className:"fas fa-spinner fa-spin"}))))):"")))}(),function(){if(e.state.mapModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.normal)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Appointment details")),s.a.createElement("a",{onClick:function(){return e.closeModalAndRefresh("map")}},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.active," ").concat(f.a.btn_close)})),null==e.state.eventMapData?"":e.state.eventMapData.map((function(t){return s.a.createElement("div",{key:t.eventId},s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.top)},s.a.createElement("a",{onClick:function(){return e.showDeleteModal(t.eventId)}},s.a.createElement("i",{className:"fas fa-trash-alt ".concat(f.a.active)}))),t.customerId?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.floating_action),onClick:function(){return e.openModalEdit(t.eventId)}},"Edit"):s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.floating_action),href:"/staff-edit-pto/".concat(t.eventId)},"Edit"),s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.account)},s.a.createElement("div",{className:"".concat(f.a.profile_picture)},s.a.createElement("div",null,t.customerId?t.customerId:"OFF")),s.a.createElement("h3",{className:"".concat(f.a.name," ").concat(f.a.font__style," ").concat(f.a.title," ")},t.customerName,s.a.createElement("br",null),s.a.createElement("i",{className:"fas fa-phone ".concat(f.a.active)})," ",s.a.createElement("span",null,t.customerPhone?e.formatPhoneNumber(t.customerPhone):"No phone number"))),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-calendar-check ".concat(f.a.text_blue)})," ",s.a.createElement("p",null,s.a.createElement("b",null,"Appointment date:")," ",S()(t.dateEvent,"MM-DD-YYYY").format("M/D/Y"))),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"far fa-clock ".concat(f.a.text_blue)})," ",s.a.createElement("p",null,s.a.createElement("b",null,"Start time:")," ",t.sTime)),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-clock ".concat(f.a.text_blue)}),"  ",s.a.createElement("p",null,s.a.createElement("b",null,"End time:")," ",t.eTime)),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-shopping-cart ".concat(f.a.text_blue)}),s.a.createElement("p",{style:{textTransform:"capitalize"}},s.a.createElement("b",null,"Services:")," ",t.services)),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-user ".concat(f.a.text_blue)})," ",s.a.createElement("p",{style:{textTransform:"capitalize"}},s.a.createElement("b",null,"Staff:")," ",t.staffName)),""!=t.note?s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-comments ".concat(f.a.text_blue)}),"  ",s.a.createElement("p",null,s.a.createElement("b",null,"Note:")," ",t.note)):s.a.createElement(s.a.Fragment,null),s.a.createElement("div",{className:"".concat(f.a.activity)},s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("p",{style:{textDecoration:"underline"}},s.a.createElement("b",null,"Activities"))),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("span",null,S.a.utc(t.createdAt).local().format("hh:mm a M/D")),s.a.createElement("span",null,s.a.createElement("b",{style:{textTransform:"capitalize"}},t.createdBy)," created the appointment.")),0==e.state.appointmentLogs.length?s.a.createElement(s.a.Fragment,null,S()(S.a.utc(t.modifiedAt).local().format("M-D-Y hh:mm a"),"M-D-Y hh:mm: a").isAfter(S()("08-22-2020 09:20 pm","M-D-Y hh:mm: a"))&&t.createdAt!=t.modifiedAt?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("span",null,S.a.utc(t.modifiedAt).local().format("hh:mm a M/D")),s.a.createElement("span",null,s.a.createElement("b",{style:{textTransform:"capitalize"}},t.modifiedBy)," updated the appointment."))):""):e.state.appointmentLogs.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.row),key:e.id},s.a.createElement("span",null,S.a.utc(e.created_at).local().format("hh:mm a, M/D")),s.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.appointment_log}}),"\xa0")}))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null)))})))))}(),function(){if(e.state.editModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.normal)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetailEdit)},s.a.createElement("a",{onClick:function(){return e.closeModalAndRefresh("edit")}},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.active," ").concat(f.a.btn_close)})),s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.floating_action),onClick:function(){return e.updateForm()}},"Save"),s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(e.state.loading?"":f.a.hidden," ").concat(f.a.floating_action," ").concat(f.a.disabled)},s.a.createElement("i",{className:"fas fa-spinner fa-spin"})),null==e.state.eventEditData?"":e.state.eventEditData.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.details),key:t.id},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Update Appointment Details"),s.a.createElement("h1",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center),style:{textTransform:"capitalize"}},"-",t.customerName,"-")),s.a.createElement("div",{className:"".concat(f.a.page)},s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("h3",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Notes"),s.a.createElement("textarea",{name:"note",placeholder:"Note",value:e.state.note,onChange:e.handleInputChange,rows:"5"}))),s.a.createElement("div",{className:"".concat(f.a.page)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},s.a.createElement("h3",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Staff"),s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"staff",value:0,checked:0==e.state.staff,onChange:e.handleStaffChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(0==e.state.staff?f.a.selected:"")},"N/A")),s.a.createElement("div",{className:"".concat(f.a.col_2)},"Anyone"))),e.state.staffs.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"staff",value:t.id,checked:e.state.staff==t.id,onChange:e.handleStaffChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.staff==t.id?f.a.selected:"")},t.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.url)})):s.a.createElement("div",null,t.fname.charAt(0),t.lname.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.fname)))})))),s.a.createElement("div",{className:"".concat(f.a.page)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},s.a.createElement("h3",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Services"),e.state.services.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"checkbox",name:"serviceSelected","data-duration":t.duration,value:t.id,checked:e.state.serviceSelected.includes(t.id.toString()),onChange:e.handleServiceChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.serviceSelected.includes(t.id.toString())?f.a.selected:"")},t.icon?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.icon)})):s.a.createElement("div",null,t.name.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.name,s.a.createElement("br",null),"Duration: ",t.duration)))})))),s.a.createElement("div",{className:"".concat(f.a.page)},s.a.createElement("br",null),s.a.createElement("h3",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Appointment Date"),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center)},s.a.createElement(De.a,{selectedDays:e.state.selectedDay,onDayClick:e.handleDayClick})),s.a.createElement("h3",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Appointment time"),s.a.createElement("div",{className:"".concat(f.a.radio_group)},e.state.timeSlot.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.radio_component," ").concat(f.a.timeSlot),key:t.id},s.a.createElement("label",{className:"".concat(f.a.rectangle)},s.a.createElement("input",{type:"radio",name:"start",value:t.time,onChange:e.handleInputChange,checked:S()(e.state.start,"hh:mm a").format("hh:mm a")==S()(t.time,"HH:mm").format("hh:mm a")}),s.a.createElement("div",null,s.a.createElement("div",{style:{position:"relative"}},null==e.state.appointmentsByStaff?"":e.state.appointmentsByStaff.map((function(a){return s.a.createElement("span",{key:a.id,className:"".concat(S()(a.date).isSame(e.state.selectedDay.toLocaleDateString("fr-ca"))&&S()(t.time,"HH:mm").isBetween(S()(a.start,"hh:mm a"),S()(a.end,"hh:mm a"),void 0,"[]")?f.a.conflicted:""),style:{position:"absolute",left:0,top:0,height:"100%",width:"100%"}})})),s.a.createElement("h3",null,S()(t.time,"HH:mm").format("hh:mm a"))))))})))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null))})))))}(),function(){if(e.state.NoServices)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.normal)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("a",{onClick:function(){return e.closeModalAndRefresh("NoService")}},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.active," ").concat(f.a.btn_close)})),s.a.createElement("br",null),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Your store doesn't have a service")),s.a.createElement("br",null),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center)},s.a.createElement("p",{className:"".concat(f.a.text_center)},"In order to make an appointment",s.a.createElement("br",null),"Please use your owner/administrator account to create a service")),s.a.createElement("br",null),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement(u.b,{exact:!0,to:"/services/create",className:"".concat(f.a.btn," ").concat(f.a.margin_auto)},"Create services")))))}(),function(){if(e.state.alertModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},e.state.alertModalText,s.a.createElement("a",{onClick:function(){return e.closeModalAlert()},className:"".concat(f.a.btn," ").concat(f.a.btn_sm," ").concat(f.a.margin_auto)},"Close"))))}(),function(){if(e.state.updateModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},e.state.updateModalBody,s.a.createElement("p",null),s.a.createElement("h2",null,"Thank you!"),s.a.createElement("a",{onClick:function(){return e.refreshPage()},className:"".concat(f.a.btn," ").concat(f.a.btn_sm," ").concat(f.a.margin_auto)},"Update Now"))))}(),function(){if(e.state.loading)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert," ").concat(f.a.loading)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("div",{class:"fa-3x"},s.a.createElement("i",{className:"fas fa-spinner fa-spin ".concat(f.a.loading_icon)})))))}(),function(){if(e.state.deleteModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("p",null,"Do you want to delete this appointment?"),s.a.createElement("div",{className:"".concat(f.a.button_group)},s.a.createElement("a",{onClick:function(){return e.deleteAppointment(e.state.deleteId)},className:"".concat(f.a.btn," ").concat(f.a.btn_sm," ").concat(f.a.btn__warning," ").concat(f.a.margin_auto)},"Yes"),s.a.createElement("a",{onClick:function(){return e.closeModalDelete()},className:"".concat(f.a.btn," ").concat(f.a.btn_sm," ").concat(f.a.margin_auto)},"Cancel")))))}(),function(){if(e.state.activitiesModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.normal)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.store_map," ").concat(f.a.activities_logs)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"store activities")),s.a.createElement("a",{onClick:function(){return e.toggleActivitiesModal("close")}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.card_appointment)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_2)},e.state.logs.map((function(t){return s.a.createElement("a",{onClick:function(){return e.log_openAppointmentDetail(t.id,t.appointmentId,t.read?"read":"unread")},className:"".concat(f.a.row," ").concat(t.read?"":f.a.not_read),key:t.id},s.a.createElement("p",null,S.a.utc(t.created_at).local().format("hh:mm a, M/D")),s.a.createElement("p",{dangerouslySetInnerHTML:{__html:t.text}}))})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null)))))))}(),function(){if(e.state.subModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},e.state.subModalBody,s.a.createElement("p",null),s.a.createElement("div",{className:"".concat(f.a.button_group)},e.state.isOwner?s.a.createElement(u.b,{exact:!0,to:"/subscription",className:"".concat(f.a.btn," ").concat(f.a.btn_sm," ").concat(f.a.margin_auto)},"Make a payment"):"",s.a.createElement("a",{onClick:function(){return e.closeModalSub()},className:"".concat(f.a.btn," ").concat(f.a.btn_sm," ").concat(f.a.margin_auto)},"Close")))))}())}}]),a}(n.Component)),Ve=Object(d.g)(qe),Ge=function(e){var t=e.match.params.permalink;return s.a.createElement(Ve,{name:t})},Ke=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={stores:[],userId:localStorage.getItem("x-access-user-id"),owner:localStorage.getItem("x-access-owner-id"),userView:localStorage.getItem("user-log-in")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("x-access-token"),t=localStorage.getItem("store-permalink");e?"OFF"===this.state.userView?(localStorage.setItem("active-page","stores"),this.props.history.push("/calendar/"+t)):(localStorage.setItem("active-page","stores"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getStoreByUserId/"+this.state.userId,t).then((function(t){e.setState({stores:t.data.store})}))}},{key:"storeClick",value:function(e){alert(e)}},{key:"render",value:function(){var e=this,t=this.state.userView;return s.a.createElement("div",{className:"".concat(f.a.stores," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"My Stores")),"OFF"===t?"":s.a.createElement("div",{className:"".concat(f.a.tools)},s.a.createElement(u.b,{exact:!0,to:"/stores/create"},s.a.createElement("i",{className:"fas fa-plus","aria-hidden":"true"})," Create New Store")),s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:f.a.directory},this.state.stores.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.account),key:t.id},s.a.createElement("div",{className:"".concat(f.a.profile_picture)}),s.a.createElement(u.b,{exact:!0,to:"/calendar/"+t.permalink},s.a.createElement("h3",{className:"".concat(f.a.name," ").concat(f.a.font__style," ").concat(f.a.title," ")},t.name,s.a.createElement("br",null),s.a.createElement("span",null,e.state.userId==t.ownerId?"(Your store)":"(You work here)")),s.a.createElement("p",null),s.a.createElement("i",{className:"fas fa-sign-in-alt"})))})))))}}]),a}(n.Component),Je=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).formatPhoneNumber=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e},n.state={storeId:null,isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),store:[],users:[],calendarWeekends:!0,calendarEvents:[{title:"Event Now",start:new Date}]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.state.ownerId==this.state.userId&&this.setState({isOwner:!0}),localStorage.setItem("x-access-store-permalink",this.props.name),localStorage.setItem("active-page","store-map"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=this.props.name,e.next=4,J.a.get("https://api.intelcalendar.com/api/getStoreByPermalink/"+a,t).then((function(e){var t=e.data.store,a=JSON.parse(t[0].hours);t[0].hours=a,n.setState({store:t,storeId:e.data.store[0].id})}));case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.store_map," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Store Details")),this.state.store.map((function(t){return s.a.createElement("div",{key:t.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.account)},s.a.createElement("div",{className:"".concat(f.a.profile_picture)}),s.a.createElement("h3",{className:"".concat(f.a.name," ").concat(f.a.font__style," ").concat(f.a.title," ")},t.name))),s.a.createElement("div",{className:"".concat(f.a.card_appointment)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-map-marker-alt ".concat(f.a.text_blue)})," ",t.street," ",t.address2,", ",t.city,", ",t.state," ",t.zip),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-phone-alt ".concat(f.a.text_blue)})," ",e.formatPhoneNumber(t.phone)),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-envelope ".concat(f.a.text_blue)})," ",t.email),!0===e.state.isOwner?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("i",{className:"fas fa-key  ".concat(f.a.text_blue)}),"Username: ",t.username)):""))),s.a.createElement("div",{className:"".concat(f.a.card_appointment)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("h3",null,s.a.createElement("i",{className:"fas fa-clock ".concat(f.a.text_blue)}),"Business Hours")),s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},"Mon"),s.a.createElement("div",{className:"".concat(f.a.col_2)},"closed"==t.hours.mon.split("-")[0]?"CLOSED":t.hours.mon.split("-")[0]+" - "+t.hours.mon.split("-")[1]))),s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},"Tue"),s.a.createElement("div",{className:"".concat(f.a.col_2)},"closed"==t.hours.tue.split("-")[0]?"CLOSED":t.hours.tue.split("-")[0]+" - "+t.hours.tue.split("-")[1]))),s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},"Wed"),s.a.createElement("div",{className:"".concat(f.a.col_2)},"closed"==t.hours.wed.split("-")[0]?"CLOSED":t.hours.wed.split("-")[0]+" - "+t.hours.wed.split("-")[1]))),s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},"Thu"),s.a.createElement("div",{className:"".concat(f.a.col_2)},"closed"==t.hours.thu.split("-")[0]?"CLOSED":t.hours.thu.split("-")[0]+" - "+t.hours.thu.split("-")[1]))),s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},"Fri"),s.a.createElement("div",{className:"".concat(f.a.col_2)},"closed"==t.hours.fri.split("-")[0]?"CLOSED":t.hours.fri.split("-")[0]+" - "+t.hours.fri.split("-")[1]))),s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},"Sat"),s.a.createElement("div",{className:"".concat(f.a.col_2)},"closed"==t.hours.sat.split("-")[0]?"CLOSED":t.hours.sat.split("-")[0]+" - "+t.hours.sat.split("-")[1]))),s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},"Sun"),s.a.createElement("div",{className:"".concat(f.a.col_2)},"closed"==t.hours.sun.split("-")[0]?"CLOSED":t.hours.sun.split("-")[0]+" - "+t.hours.sun.split("-")[1])))))))})),s.a.createElement("br",null),!0===this.state.isOwner?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.tools)},s.a.createElement(u.b,{exact:!0,to:"/stores/edit/".concat(this.props.name)},s.a.createElement("i",{className:"fas fa-cog fa-2x ".concat(f.a.active)}))),s.a.createElement(u.b,{exact:!0,to:"/stores/security/".concat(this.state.storeId),className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.align_items_center," ").concat(f.a.justify_content_center," ")},s.a.createElement("i",{className:"fas fa-key ".concat(f.a.text_white)}),"\xa0Change password")):"")}}]),a}(n.Component),Xe=Object(d.g)(Je),Qe=function(e){var t=e.match.params.permalink;return s.a.createElement(Xe,{name:t})},Ze=a(21),$e=a(261),et=a.n($e),tt=a(536);a(479);S.a.locale("en"),et()();var at=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.handleCloseToggle=function(e,t){var a,s;(n.setState(Object(G.a)({},t.name,t.checked)),t.checked)?n.setState((a={},Object(G.a)(a,t.nameOpen,"closed"),Object(G.a)(a,t.nameClose,"closed"),a)):n.setState((s={},Object(G.a)(s,t.nameOpen,"00:00"),Object(G.a)(s,t.nameClose,"00:00"),s))},n.state={page:1,message:"",id:"",name:"",street:"",address2:"",city:"",thisState:"",zip:"",email:"",permalink:"",phone:"",username:"",monOpen:"00:00",monClose:"00:00",monChecked:!1,tueOpen:"00:00",tueClose:"00:00",tueChecked:!1,wedOpen:"00:00",wedClose:"00:00",wedChecked:!1,thuOpen:"00:00",thuClose:"00:00",thuChecked:!1,friOpen:"00:00",friClose:"00:00",friChecked:!1,satOpen:"00:00",satClose:"00:00",satChecked:!1,sunOpen:"00:00",sunClose:"00:00",sunChecked:!1,isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.state.ownerId==this.state.userId&&this.setState({isOwner:!0}),localStorage.setItem("active-page","store-edit-map"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=this.props.name,e.next=4,J.a.get("https://api.intelcalendar.com/api/getStoreByPermalink/"+a,t).then((function(e){var t=e.data.store,a=JSON.parse(t[0].hours);n.setState({id:t[0].id,name:t[0].name,street:t[0].street,address2:t[0].address2,city:t[0].city,thisState:t[0].state,zip:t[0].zip,email:t[0].email,phone:t[0].phone,username:t[0].username,monOpen:a.mon.split("-")[0],monClose:a.mon.split("-")[1],monChecked:"closed"==a.mon.split("-")[0]&&"closed"==a.mon.split("-")[1],tueOpen:a.tue.split("-")[0],tueClose:a.tue.split("-")[1],tueChecked:"closed"==a.tue.split("-")[0]&&"closed"==a.tue.split("-")[1],wedOpen:a.wed.split("-")[0],wedClose:a.wed.split("-")[1],wedChecked:"closed"==a.wed.split("-")[0]&&"closed"==a.wed.split("-")[1],thuOpen:a.thu.split("-")[0],thuClose:a.thu.split("-")[1],thuChecked:"closed"==a.thu.split("-")[0]&&"closed"==a.thu.split("-")[1],friOpen:a.fri.split("-")[0],friClose:a.fri.split("-")[1],friChecked:"closed"==a.fri.split("-")[0]&&"closed"==a.fri.split("-")[1],satOpen:a.sat.split("-")[0],satClose:a.sat.split("-")[1],satChecked:"closed"==a.sat.split("-")[0]&&"closed"==a.sat.split("-")[1],sunOpen:a.sun.split("-")[0],sunClose:a.sun.split("-")[1],sunChecked:"closed"==a.sun.split("-")[0]&&"closed"==a.sun.split("-")[1],test:""})}));case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleTimeChange",value:function(e,t){this.setState(Object(G.a)({},e,S()(t,"h:mm A").format("h:mm A")))}},{key:"update",value:function(){var e=this;if(window.confirm("Do you want to update this store?")){var t=this.state.name;t=(t=t.toLowerCase()).split(" ").join("-");var a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.patch("https://api.intelcalendar.com/api/store/"+this.state.id,{name:this.state.name?this.state.name.toLowerCase():"",street:this.state.street?this.state.street.toLowerCase():"",address2:this.state.address2?this.state.address2.toLowerCase():"",city:this.state.city?this.state.city.toLowerCase():"",state:this.state.thisState,zip:this.state.zip,email:this.state.email?this.state.email.toLowerCase():"",permalink:t,phone:this.state.phone,hours:'{"mon":"'+this.state.monOpen+"-"+this.state.monClose+'", "tue":"'+this.state.tueOpen+"-"+this.state.tueClose+'", "wed":"'+this.state.wedOpen+"-"+this.state.wedClose+'", "thu":"'+this.state.thuOpen+"-"+this.state.thuClose+'", "fri":"'+this.state.friOpen+"-"+this.state.friClose+'", "sat":"'+this.state.satOpen+"-"+this.state.satClose+'", "sun":"'+this.state.sunOpen+"-"+this.state.sunClose+'" }'},a).then((function(a){e.setState({permalink:"/store/"+t,page:2,message:"Updated!"})}))}}},{key:"delete",value:function(){var e=this,t=window.confirm("Do you want to delete this store?"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};t&&J.a.get("https://api.intelcalendar.com/api/removeStore/"+this.state.id,a).then((function(t){e.setState({permalink:"/stores",page:2,message:"Deleted!"})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Store settings")),s.a.createElement(u.b,{exact:!0,to:"/store/".concat(this.props.name)},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(1==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},"Business name"),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},"Address 1"),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"street",value:this.state.street,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},"Address 2"),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"address2",value:this.state.address2,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},"City"),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},"State"),s.a.createElement("div",{className:f.a.row},s.a.createElement("select",{name:"thisState",onChange:this.handleInputChange},s.a.createElement("option",{value:""},"State"),s.a.createElement("option",{value:"AL",selected:"AL"==this.state.thisState?"selected":""},"Alabama"),s.a.createElement("option",{value:"AK",selected:"AK"==this.state.thisState?"selected":""},"Alaska"),s.a.createElement("option",{value:"AZ",selected:"AZ"==this.state.thisState?"selected":""},"Arizona"),s.a.createElement("option",{value:"AR",selected:"AR"==this.state.thisState?"selected":""},"Arkansas"),s.a.createElement("option",{value:"CA",selected:"CA"==this.state.thisState?"selected":""},"California"),s.a.createElement("option",{value:"CO",selected:"CO"==this.state.thisState?"selected":""},"Colorado"),s.a.createElement("option",{value:"CT",selected:"CT"==this.state.thisState?"selected":""},"Connecticut"),s.a.createElement("option",{value:"DE",selected:"DE"==this.state.thisState?"selected":""},"Delaware"),s.a.createElement("option",{value:"DC",selected:"DC"==this.state.thisState?"selected":""},"District Of Columbia"),s.a.createElement("option",{value:"FL",selected:"FL"==this.state.thisState?"selected":""},"Florida"),s.a.createElement("option",{value:"GA",selected:"GA"==this.state.thisState?"selected":""},"Georgia"),s.a.createElement("option",{value:"HI",selected:"HI"==this.state.thisState?"selected":""},"Hawaii"),s.a.createElement("option",{value:"ID",selected:"ID"==this.state.thisState?"selected":""},"Idaho"),s.a.createElement("option",{value:"IL",selected:"IL"==this.state.thisState?"selected":""},"Illinois"),s.a.createElement("option",{value:"IN",selected:"IN"==this.state.thisState?"selected":""},"Indiana"),s.a.createElement("option",{value:"IA",selected:"IA"==this.state.thisState?"selected":""},"Iowa"),s.a.createElement("option",{value:"KS",selected:"KS"==this.state.thisState?"selected":""},"Kansas"),s.a.createElement("option",{value:"KY",selected:"KY"==this.state.thisState?"selected":""},"Kentucky"),s.a.createElement("option",{value:"LA",selected:"LA"==this.state.thisState?"selected":""},"Louisiana"),s.a.createElement("option",{value:"ME",selected:"ME"==this.state.thisState?"selected":""},"Maine"),s.a.createElement("option",{value:"MD",selected:"MD"==this.state.thisState?"selected":""},"Maryland"),s.a.createElement("option",{value:"MA",selected:"MA"==this.state.thisState?"selected":""},"Massachusetts"),s.a.createElement("option",{value:"MI",selected:"MI"==this.state.thisState?"selected":""},"Michigan"),s.a.createElement("option",{value:"MN",selected:"MN"==this.state.thisState?"selected":""},"Minnesota"),s.a.createElement("option",{value:"MS",selected:"MS"==this.state.thisState?"selected":""},"Mississippi"),s.a.createElement("option",{value:"MO",selected:"MO"==this.state.thisState?"selected":""},"Missouri"),s.a.createElement("option",{value:"MT",selected:"MT"==this.state.thisState?"selected":""},"Montana"),s.a.createElement("option",{value:"NE",selected:"NE"==this.state.thisState?"selected":""},"Nebraska"),s.a.createElement("option",{value:"NV",selected:"NV"==this.state.thisState?"selected":""},"Nevada"),s.a.createElement("option",{value:"NH",selected:"NH"==this.state.thisState?"selected":""},"New Hampshire"),s.a.createElement("option",{value:"NJ",selected:"NJ"==this.state.thisState?"selected":""},"New Jersey"),s.a.createElement("option",{value:"NM",selected:"NM"==this.state.thisState?"selected":""},"New Mexico"),s.a.createElement("option",{value:"NY",selected:"NY"==this.state.thisState?"selected":""},"New York"),s.a.createElement("option",{value:"NC",selected:"NC"==this.state.thisState?"selected":""},"North Carolina"),s.a.createElement("option",{value:"ND",selected:"ND"==this.state.thisState?"selected":""},"North Dakota"),s.a.createElement("option",{value:"OH",selected:"OH"==this.state.thisState?"selected":""},"Ohio"),s.a.createElement("option",{value:"OK",selected:"OK"==this.state.thisState?"selected":""},"Oklahoma"),s.a.createElement("option",{value:"OR",selected:"OR"==this.state.thisState?"selected":""},"Oregon"),s.a.createElement("option",{value:"PA",selected:"PA"==this.state.thisState?"selected":""},"Pennsylvania"),s.a.createElement("option",{value:"RI",selected:"RI"==this.state.thisState?"selected":""},"Rhode Island"),s.a.createElement("option",{value:"SC",selected:"SC"==this.state.thisState?"selected":""},"South Carolina"),s.a.createElement("option",{value:"SD",selected:"SD"==this.state.thisState?"selected":""},"South Dakota"),s.a.createElement("option",{value:"TN",selected:"TN"==this.state.thisState?"selected":""},"Tennessee"),s.a.createElement("option",{value:"TX",selected:"TX"==this.state.thisState?"selected":""},"Texas"),s.a.createElement("option",{value:"UT",selected:"UT"==this.state.thisState?"selected":""},"Utah"),s.a.createElement("option",{value:"VT",selected:"VT"==this.state.thisState?"selected":""},"Vermont"),s.a.createElement("option",{value:"VA",selected:"VA"==this.state.thisState?"selected":""},"Virginia"),s.a.createElement("option",{value:"WA",selected:"WA"==this.state.thisState?"selected":""},"Washington"),s.a.createElement("option",{value:"WV",selected:"WV"==this.state.thisState?"selected":""},"West Virginia"),s.a.createElement("option",{value:"WI",selected:"WI"==this.state.thisState?"selected":""},"Wisconsin"),s.a.createElement("option",{value:"WY",selected:"WY"==this.state.thisState?"selected":""},"Wyoming"))),s.a.createElement("div",{className:f.a.row},"Zip"),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"zip",value:this.state.zip,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},"Email"),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},"Phone number"),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"phone",value:this.state.phone,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},"Username"),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChange,required:!0})),s.a.createElement("br",null),s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Business hours")),s.a.createElement("br",null),s.a.createElement("div",{className:f.a.row},s.a.createElement("h2",{className:"".concat(f.a.text_center)},"Monday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.monChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.monOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("monOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.monChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.monClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("monClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"monChecked",nameOpen:"monOpen",nameClose:"monClose",checked:this.state.monChecked,onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h2",{className:"".concat(f.a.text_center)},"Tuesday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.tueChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.tueOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("tueOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.tueChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.tueClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("tueClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"tueChecked",nameOpen:"tueOpen",nameClose:"tueClose",checked:this.state.tueChecked,onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h2",{className:"".concat(f.a.text_center)},"Wednesday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.wedChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.wedOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("wedOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.wedChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.wedClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("wedClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"wedChecked",nameOpen:"wedOpen",nameClose:"wedClose",checked:this.state.wedChecked,onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h2",{className:"".concat(f.a.text_center)},"Thursday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.thuChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.thuOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("thuOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.thuChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.thuClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("thuClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"thuChecked",nameOpen:"thuOpen",nameClose:"thuClose",checked:this.state.thuChecked,onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h2",{className:"".concat(f.a.text_center)},"Friday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.friChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.friOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("friOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.friChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.friClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("friClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"friChecked",nameOpen:"friOpen",nameClose:"friClose",checked:this.state.friChecked,onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h2",{className:"".concat(f.a.text_center)},"Saturday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.satChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.satOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("satOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.satChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.satClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("satClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"satChecked",nameOpen:"satOpen",nameClose:"satClose",checked:this.state.satChecked,onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h2",{className:"".concat(f.a.text_center)},"Sunday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.sunChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.sunOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("sunOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.sunChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.sunClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("sunClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"sunChecked",nameOpen:"sunOpen",nameClose:"sunClose",checked:this.state.sunChecked,onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("br",null),s.a.createElement("div",{className:f.a.row},s.a.createElement("a",{onClick:function(){return e.delete()},className:"".concat(f.a.btn," ").concat(f.a.btn__warning)},"Delete store"),!0===this.state.isOwner?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.update()}},"Save")):"")),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(2==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_center)},this.state.message),s.a.createElement(u.b,{exact:!0,to:this.state.permalink,className:"".concat(f.a.btn)},"Done"))))}}]),a}(n.Component),nt=Object(d.g)(at),st=function(e){var t=e.match.params.permalink;return s.a.createElement(nt,{name:t})},ct=(a(164),a(269)),rt=a.n(ct),ot=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.handleChangeComplete=function(e){n.setState({color:e.hex})},n.handleCloseToggle=function(e,t){var a,s;(n.setState(Object(G.a)({},t.name,t.checked)),t.checked)?n.setState((a={},Object(G.a)(a,t.nameOpen,"closed"),Object(G.a)(a,t.nameClose,"closed"),a)):n.setState((s={},Object(G.a)(s,t.nameOpen,"00:00"),Object(G.a)(s,t.nameClose,"00:00"),s))},n.nextPage=function(){if(6==n.state.page){if(n.state.password!==n.state.passwordConfirm)return n.setState({authError:!0}),!1;var e=n.state.page+1;n.setState({page:e,authError:!1})}else{var t=n.state.page+1;n.setState({page:t,authError:!1})}},n.prevPage=function(){var e=n.state.page-1;n.setState({page:e})},n.setOwner=function(e){n.setState({owner:e,ownerState:e})},n.onSubmit=function(e){e.preventDefault();var t=n.state.name;t=(t=t.toLowerCase()).split(" ").join("-");var a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};if(6==n.state.page){if(n.state.password!==n.state.passwordConfirm)return n.setState({authError:!0}),!1;J.a.post("https://api.intelcalendar.com/api/store",{storeId:"",userId:n.state.ownerID,ownerId:n.state.ownerID,name:n.state.name?n.state.name.toLowerCase():"",username:n.state.storeID?n.state.storeID.toLowerCase():"",password:n.state.password,password_confirmation:n.state.passwordConfirm,street:n.state.street?n.state.street.toLowerCase():"",address2:n.state.address2?n.state.address2.toLowerCase():"",city:n.state.city?n.state.city.toLowerCase():"",state:n.state.thisState?n.state.thisState.toLowerCase():"",zip:n.state.zip,email:n.state.email.toLowerCase(),phone:n.state.phone,PIN:n.state.Pin,permalink:t?t.toLowerCase():"",status:"ON",hours:'{"mon":"'+n.state.monOpen+"-"+n.state.monClose+'", "tue":"'+n.state.tueOpen+"-"+n.state.tueClose+'", "wed":"'+n.state.wedOpen+"-"+n.state.wedClose+'", "thu":"'+n.state.thuOpen+"-"+n.state.thuClose+'", "fri":"'+n.state.friOpen+"-"+n.state.friClose+'", "sat":"'+n.state.satOpen+"-"+n.state.satClose+'", "sun":"'+n.state.sunOpen+"-"+n.state.sunClose+'" }',grant_type:"password",theNewProvider:"store",client_id:1,client_secret:"pass"},a).then((function(e){n.props.history.push("/stores")}))}},n.onFocus=function(e){e.target.autocomplete&&(e.target.autocomplete="whatever")},n.state={authError:!1,page:1,name:"",storeID:"",password:"",passwordConfirm:"",ownerID:localStorage.getItem("x-access-user-id"),street:"",address2:"",city:"",thisState:"",zip:"",email:"",phone:"",Pin:"",monOpen:"00:00",monClose:"00:00",monChecked:!1,tueOpen:"00:00",tueClose:"00:00",tueChecked:!1,wedOpen:"00:00",wedClose:"00:00",wedChecked:!1,thuOpen:"00:00",thuClose:"00:00",thuChecked:!1,friOpen:"00:00",friClose:"00:00",friChecked:!1,satOpen:"00:00",satClose:"00:00",satChecked:!1,sunOpen:"00:00",sunClose:"00:00",sunChecked:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")||this.props.history.push("/login")}},{key:"handleTimeChange",value:function(e,t){this.setState(Object(G.a)({},e,S()(t,"h:mm A").format("h:mm A")))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.storeCreate)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Create Store")))),s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("form",{className:f.a.form,onSubmit:this.onSubmit},1==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("div",{className:"".concat(f.a.illustration)},s.a.createElement("img",{src:rt.a,alt:""})),s.a.createElement(u.b,{exact:!0,to:"/stores"},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:f.a.row},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"What is the business name?")),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange,required:!0,autoComplete:"off",onFocus:this.onFocus})),""!=this.state.name?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.nextPage()}},"Next")):"")):"",2==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:f.a.row},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"What is the business address?")),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("label",{htmlFor:""},"Address 1"),s.a.createElement("input",{type:"text",name:"street",placeholder:"",value:this.state.street,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Address 2"),s.a.createElement("input",{type:"text",name:"address2",placeholder:"",value:this.state.address2,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"City"),s.a.createElement("input",{type:"text",name:"city",placeholder:"",value:this.state.city,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"State"),s.a.createElement("select",{name:"thisState",onChange:this.handleInputChange},s.a.createElement("option",{value:"",selected:"selected"},"select ..."),s.a.createElement("option",{value:"AL"},"Alabama"),s.a.createElement("option",{value:"AK"},"Alaska"),s.a.createElement("option",{value:"AZ"},"Arizona"),s.a.createElement("option",{value:"AR"},"Arkansas"),s.a.createElement("option",{value:"CA"},"California"),s.a.createElement("option",{value:"CO"},"Colorado"),s.a.createElement("option",{value:"CT"},"Connecticut"),s.a.createElement("option",{value:"DE"},"Delaware"),s.a.createElement("option",{value:"DC"},"District Of Columbia"),s.a.createElement("option",{value:"FL"},"Florida"),s.a.createElement("option",{value:"GA"},"Georgia"),s.a.createElement("option",{value:"HI"},"Hawaii"),s.a.createElement("option",{value:"ID"},"Idaho"),s.a.createElement("option",{value:"IL"},"Illinois"),s.a.createElement("option",{value:"IN"},"Indiana"),s.a.createElement("option",{value:"IA"},"Iowa"),s.a.createElement("option",{value:"KS"},"Kansas"),s.a.createElement("option",{value:"KY"},"Kentucky"),s.a.createElement("option",{value:"LA"},"Louisiana"),s.a.createElement("option",{value:"ME"},"Maine"),s.a.createElement("option",{value:"MD"},"Maryland"),s.a.createElement("option",{value:"MA"},"Massachusetts"),s.a.createElement("option",{value:"MI"},"Michigan"),s.a.createElement("option",{value:"MN"},"Minnesota"),s.a.createElement("option",{value:"MS"},"Mississippi"),s.a.createElement("option",{value:"MO"},"Missouri"),s.a.createElement("option",{value:"MT"},"Montana"),s.a.createElement("option",{value:"NE"},"Nebraska"),s.a.createElement("option",{value:"NV"},"Nevada"),s.a.createElement("option",{value:"NH"},"New Hampshire"),s.a.createElement("option",{value:"NJ"},"New Jersey"),s.a.createElement("option",{value:"NM"},"New Mexico"),s.a.createElement("option",{value:"NY"},"New York"),s.a.createElement("option",{value:"NC"},"North Carolina"),s.a.createElement("option",{value:"ND"},"North Dakota"),s.a.createElement("option",{value:"OH"},"Ohio"),s.a.createElement("option",{value:"OK"},"Oklahoma"),s.a.createElement("option",{value:"OR"},"Oregon"),s.a.createElement("option",{value:"PA"},"Pennsylvania"),s.a.createElement("option",{value:"RI"},"Rhode Island"),s.a.createElement("option",{value:"SC"},"South Carolina"),s.a.createElement("option",{value:"SD"},"South Dakota"),s.a.createElement("option",{value:"TN"},"Tennessee"),s.a.createElement("option",{value:"TX"},"Texas"),s.a.createElement("option",{value:"UT"},"Utah"),s.a.createElement("option",{value:"VT"},"Vermont"),s.a.createElement("option",{value:"VA"},"Virginia"),s.a.createElement("option",{value:"WA"},"Washington"),s.a.createElement("option",{value:"WV"},"West Virginia"),s.a.createElement("option",{value:"WI"},"Wisconsin"),s.a.createElement("option",{value:"WY"},"Wyoming"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Zip"),s.a.createElement("input",{type:"text",name:"zip",placeholder:"",value:this.state.zip,onChange:this.handleInputChange,required:!0})),""!=this.state.street&&""!=this.state.city&&""!=this.state.thisState&&""!=this.state.zip?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.nextPage()}},"Next")):"")):"",3==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page,"  ").concat(f.a.mt_20)},s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:f.a.row},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Let's give a little more information")),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("label",{htmlFor:""},"Business email"),s.a.createElement("input",{type:"email",name:"email",placeholder:"",value:this.state.email,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Business phone number"),s.a.createElement("input",{type:"tel",name:"phone",placeholder:"",value:this.state.phone,onChange:this.handleInputChange,required:!0})),""!=this.state.email&&""!=this.state.phone?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.nextPage()}},"Next")):"")):"",4==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Now, let's enter the business hours.")),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Monday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.monChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.monOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("monOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.monChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.monClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("monClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"monChecked",nameOpen:"monOpen",nameClose:"monClose",onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Tuesday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.tueChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.tueOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("tueOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.tueChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.tueClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("tueClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"tueChecked",nameOpen:"tueOpen",nameClose:"tueClose",onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Wednesday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.wedChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.wedOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("wedOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.wedChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.wedClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("wedClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"wedChecked",nameOpen:"wedOpen",nameClose:"wedClose",onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Thursday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.thuChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.thuOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("thuOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.thuChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.thuClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("thuClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"thuChecked",nameOpen:"thuOpen",nameClose:"thuClose",onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Friday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.friChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.friOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("friOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.friChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.friClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("friClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"friChecked",nameOpen:"friOpen",nameClose:"friClose",onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Saturday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.satChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.satOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("satOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.satChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.satClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("satClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"satChecked",nameOpen:"satOpen",nameClose:"satClose",onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Sunday")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.sunChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Open:\xa0"),this.state.sunOpen,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("sunOpen",t)}}))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(this.state.sunChecked?f.a.hidden:"")},s.a.createElement("span",{className:"timeInput"},s.a.createElement("strong",null,"Close:\xa0"),this.state.sunClose,s.a.createElement(Ze.DateTimePicker,{date:!1,onChange:function(t){return e.handleTimeChange("sunClose",t)}}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("div",{className:"checkbox_component"},s.a.createElement("label",null,s.a.createElement(tt.a,{toggle:!0,name:"sunChecked",nameOpen:"sunOpen",nameClose:"sunClose",onChange:this.handleCloseToggle}),"\xa0Close"))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.nextPage()}},"Next")))):"",5==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Good Jobs!"),s.a.createElement("p",{className:"".concat(f.a.text_center)},"You are almost done. "),s.a.createElement("p",{className:"".concat(f.a.text_center)},"Lastly, let's setup a sign in account for your store. This account will be shared and used to sign in by every staffs in your store. So, please DO NOT use the same username and password as your own account.")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.nextPage()}},"Next")))):"",6==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.mt_20)},s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:f.a.row},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"This username and password will be shared and used to sign in by every staffs in your store. So, please DO NOT use the same username and password as your own account."),s.a.createElement("br",null),s.a.createElement("label",{htmlFor:""},"Username"),s.a.createElement("input",{type:"text",name:"storeID",placeholder:"example: nailpocket",value:this.state.storeID,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Password"),s.a.createElement("input",{type:"password",name:"password",placeholder:"Enter your store password",value:this.state.password,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Confirm password"),s.a.createElement("input",{type:"password",name:"passwordConfirm",placeholder:"Confirm Password",value:this.state.passwordConfirm,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{className:"".concat(f.a.text_center),style:{display:this.state.authError?"block":"none"}},"Password didn't match")),""!=this.state.storeID&&""!=this.state.password&&""!=this.state.passwordConfirm?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("input",{type:"submit",value:"Create"})):"")):"")))}}]),a}(n.Component),lt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.onSubmit=function(e){if(e.preventDefault(),window.confirm("Do you want to update your password?")){if(n.state.newPassword!==n.state.passwordConfirm)return n.setState({authError:!0}),!1;var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.post("https://api.intelcalendar.com/api/storeResetPassword",{userId:n.state.userId,userPassword:n.state.currentPassword,storeId:n.state.id,newPassword:n.state.newPassword},t).then((function(e){n.setState({success:!0})})).catch((function(e){n.setState({success:!1})}))}},n.state={id:n.props.name,currentPassword:"",newPassword:"",passwordConfirm:"",authError:!1,isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.state.ownerId==this.state.userId&&this.setState({isOwner:!0}),localStorage.setItem("active-page","store-security-map")):this.props.history.push("/login")}},{key:"render",value:function(){return s.a.createElement("div",{className:"".concat(f.a.userEditMap," ").concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Update Store Password"),s.a.createElement(u.b,{exact:!0,to:"/store/".concat(localStorage.getItem("x-access-store-permalink"))},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)}))),!0===this.state.isOwner?s.a.createElement(s.a.Fragment,null,this.state.success?s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Success."),s.a.createElement(u.b,{exact:!0,to:"/store/".concat(localStorage.getItem("x-access-store-permalink")),className:"".concat(f.a.btn)},"Done")):s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{className:f.a.form,onSubmit:this.onSubmit},s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Owner's Password"),s.a.createElement("input",{type:"password",name:"currentPassword",value:this.state.currentPassword,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"New Store Password"),s.a.createElement("input",{type:"password",name:"newPassword",value:this.state.newPassword,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Confirm New Store Password"),s.a.createElement("input",{type:"password",name:"passwordConfirm",value:this.state.passwordConfirm,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{style:{display:this.state.authError?"block":"none"}},"Password didn't match")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("input",{type:"submit",value:"Save",className:"".concat(f.a.btn)}))))):"")}}]),a}(n.Component),it=Object(d.g)(lt),mt=function(e){var t=e.match.params.id;return s.a.createElement(it,{name:t})},ut=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={services:[],isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),total:0},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.state.ownerId==this.state.userId&&this.setState({isOwner:!0}),localStorage.setItem("active-page","services"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=localStorage.getItem("x-access-store-id"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getServicesByStoreId/"+t,a).then((function(t){e.setState({total:t.data.services.length,services:t.data.services})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.services," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Services")),!0===this.state.isOwner?s.a.createElement("div",{className:"".concat(f.a.tools)},s.a.createElement(u.b,{exact:!0,to:"/services/create"},s.a.createElement("i",{className:"far fa-plus ".concat(f.a.active)}))):"",this.state.services.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("img",{src:t.icon,alt:""})),s.a.createElement("div",{className:"".concat(f.a.col_2)},!0===e.state.isOwner?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.b,{exact:!0,to:"/services/edit/".concat(t.id)},s.a.createElement("i",{className:"fas fa-ellipsis-h"})),s.a.createElement("br",null)):"",t.name,s.a.createElement("br",null),t.duration," minutes")))})))}}]),a}(n.Component),dt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),service:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.state.ownerId==this.state.userId?this.setState({isOwner:!0}):this.props.history.push("/services"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=this.props.name,a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/service/"+t,a).then((function(t){var a=[];a.push(t.data.service),e.setState({service:a})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.offTop," ").concat(f.a.container)},s.a.createElement(u.b,{exact:!0,to:"/services"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),this.state.service.map((function(t){return s.a.createElement("div",{className:f.a.row,key:t.id},!0===e.state.isOwner?s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement(u.b,{exact:!0,to:"/services/edit/".concat(t.id),className:"".concat(f.a.btn," ").concat(f.a.btn__navi)},"Edit")):"",s.a.createElement("p",null,t.name),s.a.createElement("p",null,t.duration),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},s.a.createElement("div",{className:"".concat(f.a.radio_component)},s.a.createElement("label",{className:"".concat(f.a.circle)},s.a.createElement("input",{type:"radio",name:"icon",readOnly:!0}),s.a.createElement("div",null,s.a.createElement("div",{style:{backgroundImage:"url(".concat(t.icon,"?rand=").concat(Math.floor(1e3*Math.random()),")")}}))))))})))}}]),a}(n.Component),ht=Object(d.g)(dt),pt=function(e){var t=e.match.params.id;return s.a.createElement(ht,{name:t})},ft=(a(81),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.state={page:1,message:"",permalink:"",id:n.props.name,name:"",duration:"",icon:"",serviceIcon:[],isOwner:!1,isStaff:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.getItem("x-access-token")){this.state.ownerId==this.state.userId?this.setState({isOwner:!0}):this.props.history.push("/services"),this.fetchData();for(var e=[],t=1;t<68;t++)e.push({id:t,url:"https://res.cloudinary.com/nailpocket-com/image/upload/v1594434001/services/v1/"+t.toString()+".svg"});this.setState({serviceIcon:e})}else this.props.history.push("/login");localStorage.setItem("active-page","service-edit-map")}},{key:"fetchData",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/service/"+this.state.id,t).then((function(t){if(e.state.ownerId==e.state.userId&&localStorage.getItem("x-access-store-id")==t.data.service.storeId){e.setState({isStaff:!0});var a=t.data.service;e.setState({name:a.name,duration:a.duration,icon:a.icon})}e.state.isStaff||e.props.history.push("/services")}))}},{key:"update",value:function(){var e=this;if(window.confirm("Do you want to update this service?")){var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.patch("https://api.intelcalendar.com/api/service/"+this.state.id,{name:this.state.name.toLowerCase(),duration:this.state.duration,icon:this.state.icon},t).then((function(t){e.setState({permalink:"/services",page:2,message:"Updated!"})}))}}},{key:"delete",value:function(){var e=this;if(window.confirm("Do you want to delete this service?")){var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.delete("https://api.intelcalendar.com/api/service/"+this.state.id,t).then((function(t){e.setState({permalink:"/services",page:2,message:"Deleted!"})}))}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Service settings")),s.a.createElement(u.b,{exact:!0,to:"/services"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),!0===this.state.isOwner?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.update()}},"Save")):"",s.a.createElement("div",{className:"".concat(f.a.page," ").concat(1==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},s.a.createElement("b",null,"Service name")),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("b",null,"Service duration")),s.a.createElement("div",{className:f.a.row},s.a.createElement("select",{name:"duration",onChange:this.handleInputChange},s.a.createElement("option",{value:""},"0"),s.a.createElement("option",{value:"15",selected:"15"==this.state.duration?"selected":""},"15 minutes"),s.a.createElement("option",{value:"30",selected:"30"==this.state.duration?"selected":""},"30 minutes"),s.a.createElement("option",{value:"45",selected:"45"==this.state.duration?"selected":""},"45 minutes"),s.a.createElement("option",{value:"60",selected:"60"==this.state.duration?"selected":""},"1 hour"),s.a.createElement("option",{value:"75",selected:"75"==this.state.duration?"selected":""},"1:15 minutes"),s.a.createElement("option",{value:"90",selected:"90"==this.state.duration?"selected":""},"1:30 minutes"),s.a.createElement("option",{value:"105",selected:"105"==this.state.duration?"selected":""},"1:45 minutes"),s.a.createElement("option",{value:"120",selected:"120"==this.state.duration?"selected":""},"2 hours"),s.a.createElement("option",{value:"135",selected:"135"==this.state.duration?"selected":""},"2:15 minutes"),s.a.createElement("option",{value:"150",selected:"150"==this.state.duration?"selected":""},"2:30 minutes"),s.a.createElement("option",{value:"165",selected:"165"==this.state.duration?"selected":""},"2:45 minutes"),s.a.createElement("option",{value:"180",selected:"180"==this.state.duration?"selected":""},"3 hours"),s.a.createElement("option",{value:"195",selected:"195"==this.state.duration?"selected":""},"3:15 minutes"),s.a.createElement("option",{value:"210",selected:"210"==this.state.duration?"selected":""},"3:30 minutes"),s.a.createElement("option",{value:"225",selected:"225"==this.state.duration?"selected":""},"3:45 minutes"),s.a.createElement("option",{value:"240",selected:"240"==this.state.duration?"selected":""},"4 hours"),s.a.createElement("option",{value:"255",selected:"255"==this.state.duration?"selected":""},"4:15 minutes"),s.a.createElement("option",{value:"270",selected:"270"==this.state.duration?"selected":""},"4:30 minutes"),s.a.createElement("option",{value:"285",selected:"285"==this.state.duration?"selected":""},"4:45 minutes"),s.a.createElement("option",{value:"300",selected:"300"==this.state.duration?"selected":""},"5 hours"))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},this.state.serviceIcon.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.radio_component),key:t.id},s.a.createElement("label",{className:"".concat(f.a.circle)},s.a.createElement("input",{type:"radio",name:"icon",value:t.url,checked:e.state.icon===t.url,onChange:e.handleInputChange}),s.a.createElement("div",null,s.a.createElement("div",{style:{backgroundImage:"url(".concat(t.url,")")}}))))}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("a",{onClick:function(){return e.delete()},className:"".concat(f.a.btn," ").concat(f.a.btn__warning)},"Delete service"))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(2==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_center)},this.state.message),s.a.createElement(u.b,{exact:!0,to:this.state.permalink,className:"".concat(f.a.btn)},"Done"))))}}]),a}(n.Component)),Et=Object(d.g)(ft),gt=function(e){var t=e.match.params.id;return s.a.createElement(Et,{name:t})},vt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.onFocus=function(e){e.target.autocomplete&&(e.target.autocomplete="whatever")},n.nextPage=function(){if(1==n.state.page){if(""==n.state.name)return n.setState({authError:!0}),!1;var e=n.state.page+1;n.setState({page:e,authError:!1})}else if(2==n.state.page){if(""==n.state.duration)return n.setState({authError:!0}),!1;var t=n.state.page+1;n.setState({page:t,authError:!1})}else{var a=n.state.page+1;n.setState({page:a,authError:!1})}},n.prevPage=function(){var e=n.state.page-1;n.setState({page:e})},n.state={authError:!1,page:1,storeId:localStorage.getItem("x-access-store-id"),name:"",duration:"",icon:"",serviceIcon:[],isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.getItem("x-access-token")){this.state.ownerId==this.state.userId&&this.setState({isOwner:!0});for(var e=[],t=1;t<68;t++)e.push({id:t,url:"https://res.cloudinary.com/nailpocket-com/image/upload/v1594434001/services/v1/"+t.toString()+".svg"});this.setState({serviceIcon:e})}else this.props.history.push("/login");localStorage.setItem("active-page","service-create")}},{key:"submitForm",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.post("https://api.intelcalendar.com/api/service",{storeId:this.state.storeId,name:this.state.name.toLowerCase(),duration:this.state.duration,icon:this.state.icon},t).then((function(t){e.setState({page:4})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Add Service")),s.a.createElement("form",{className:f.a.form,onSubmit:this.onSubmit},1==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ")},s.a.createElement("a",{href:"/services",className:"".concat(1==this.state.page&&4!=this.state.page?"":f.a.hidden),onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:f.a.row},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"What is the service name?"),s.a.createElement("br",null)),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"name",placeholder:"Enter service name",value:this.state.name,onChange:this.handleInputChange,required:!0,autoComplete:"off",onFocus:this.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{className:"".concat(f.a.text_center),style:{display:this.state.authError?"block":"none"}},"Please give your service a name")),s.a.createElement("br",null),""!=this.state.name?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.nextPage()}},"Next")):"")):"",2==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page)},s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:f.a.row},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"How long is for one session?"),s.a.createElement("br",null)),s.a.createElement("div",{className:f.a.row},s.a.createElement("select",{name:"duration",onChange:this.handleInputChange},s.a.createElement("option",{value:"",selected:"selected"},"0"),s.a.createElement("option",{value:"15"},"15 minutes"),s.a.createElement("option",{value:"30"},"30 minutes"),s.a.createElement("option",{value:"45"},"45 minutes"),s.a.createElement("option",{value:"60"},"1 hour"),s.a.createElement("option",{value:"75"},"1:15 minutes"),s.a.createElement("option",{value:"90"},"1:30 minutes"),s.a.createElement("option",{value:"105"},"1:45 minutes"),s.a.createElement("option",{value:"120"},"2 hours"),s.a.createElement("option",{value:"135"},"2:15 minutes"),s.a.createElement("option",{value:"150"},"2:30 minutes"),s.a.createElement("option",{value:"165"},"2:45 minutes"),s.a.createElement("option",{value:"180"},"3 hours"),s.a.createElement("option",{value:"195"},"3:15 minutes"),s.a.createElement("option",{value:"210"},"3:30 minutes"),s.a.createElement("option",{value:"225"},"3:45 minutes"),s.a.createElement("option",{value:"240"},"4 hours"),s.a.createElement("option",{value:"255"},"4:15 minutes"),s.a.createElement("option",{value:"270"},"4:30 minutes"),s.a.createElement("option",{value:"285"},"4:45 minutes"),s.a.createElement("option",{value:"300"},"5 hours"))),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{className:"".concat(f.a.text_center),style:{display:this.state.authError?"block":"none"}},"Please enter a duration ")),s.a.createElement("br",null),""!=this.state.duration?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.nextPage()}},"Next")):"")):"",3==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page)},s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:f.a.row},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Let choose a icon for your service")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},this.state.serviceIcon.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.radio_component),key:t.id},s.a.createElement("label",{className:"".concat(f.a.circle)},s.a.createElement("input",{type:"radio",name:"icon",value:t.url,checked:e.state.icon==t.url,onChange:e.handleInputChange}),s.a.createElement("div",null,s.a.createElement("div",{style:{backgroundImage:"url(".concat(t.url,")")}}))))}))),s.a.createElement("br",null),!0===this.state.isOwner&&""!=this.state.icon?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.submitForm()}},"Create")):"")):"",4==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page)},s.a.createElement("br",null),s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Congrats!"),s.a.createElement("p",{className:"".concat(f.a.text_center)},this.state.name?this.state.name:"A new service"," has been added!"),""!=this.state.icon?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement(u.b,{exact:!0,to:"/services"},"Done")):"")):""))}}]),a}(n.Component),bt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.onFocus=function(e){e.target.autocomplete&&(e.target.autocomplete="whatever")},n.setCustomerState=function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({customerState:t});case 2:1==n.state.page&&(a="yes"==n.state.customerState?2:4,n.setState({page:a}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setHasReservation=function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({hasReservation:t});case 2:4==n.state.page&&(a="yes"==n.state.hasReservation?6:5,n.setState({page:a}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setSearchBy=function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"lastName"==t?a=7:"phone"==t?a=8:"email"==t&&(a=9),n.setState({page:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleServiceChange=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,s=a.value,c=a.checked,r=[],r=n.state.serviceSelected,!0===c?r.push(s):-1!==(o=r.indexOf(s))&&r.splice(o,1),e.next=6,n.setState({serviceSelected:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.nextPage=function(){var e;1==n.state.page?(e="yes"==n.state.customerState?2:4,n.setState({page:e,authError:!1})):4==n.state.page?(e="yes"==n.state.hasReservation?6:5,n.setState({page:e,authError:!1})):(e=n.state.page+1,n.setState({page:e,authError:!1}))},n.prevPage=function(){var e;e=4==n.state.page?1:5==n.state.page||6==n.state.page?4:7==n.state.page||8==n.state.page||9==n.state.page?6:n.state.page-1,n.setState({page:e})},n.searchAppointment=function(){var e={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};if(""!=n.state.search_lname){n.setState({search_phone:"",search_email:""});var t=n.state.search_lname.toLowerCase(),a=localStorage.getItem("x-access-store-id"),s=S()()._d.toLocaleDateString("fr-ca");J.a.get("https://api.intelcalendar.com/api/getAppointmentsByStoreIdAndType/lname/"+a+"/"+t+"/"+s,e).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.appointments){e.next=5;break}return e.next=3,n.setState({searchResult:t.data.appointments});case 3:e.next=8;break;case 5:if(!t.data.appointmentsNull){e.next=8;break}return e.next=8,n.setState({searchResult:t.data.appointmentsNull});case 8:n.setState({page:10});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}else if(""!=n.state.search_phone){n.setState({search_lname:"",search_email:""});var c=n.state.search_phone,r=localStorage.getItem("x-access-store-id"),o=S()()._d.toLocaleDateString("fr-ca");J.a.get("https://api.intelcalendar.com/api/getAppointmentsByStoreIdAndType/phone/"+r+"/"+c+"/"+o,e).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.appointments){e.next=5;break}return e.next=3,n.setState({searchResult:t.data.appointments});case 3:e.next=8;break;case 5:if(!t.data.appointmentsNull){e.next=8;break}return e.next=8,n.setState({searchResult:t.data.appointmentsNull});case 8:n.setState({page:10});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}else if(""!=n.state.search_email){n.setState({search_phone:"",search_lname:""});var l=n.state.search_email.toLowerCase(),i=localStorage.getItem("x-access-store-id"),m=S()()._d.toLocaleDateString("fr-ca");J.a.get("https://api.intelcalendar.com/api/getAppointmentsByStoreIdAndType/email/"+i+"/"+l+"/"+m,e).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.appointments){e.next=5;break}return e.next=3,n.setState({searchResult:t.data.appointments});case 3:e.next=8;break;case 5:if(!t.data.appointmentsNull){e.next=8;break}return e.next=8,n.setState({searchResult:t.data.appointmentsNull});case 8:n.setState({page:10});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},n.state={sheets:[],services:[],staffs:[],staffFname:"",serviceSelected:[],customer_name:"",appointment_time:"",open:!0,close:!1,animated:!1,signInModal:!1,page:1,customerState:null,hasReservation:null,fname:"",lname:"",email:"",customer_phone:"",service:"",search_phone:"",search_email:"",search_lname:"",searchResult:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.fetchData(),localStorage.setItem("customerSignInView","ON")):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=localStorage.getItem("x-access-store-id"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getStaffsByStoreId/"+t,a).then((function(t){e.setState({staffs:t.data.employees})})),J.a.get("https://api.intelcalendar.com/api/getServicesByStoreId/"+t,a).then((function(t){e.setState({services:t.data.services})}))}},{key:"resetForm",value:function(){this.setState({sheets:[],serviceSelected:[],customer_name:"",signInModal:!1,page:1,customerState:null,hasReservation:null,fname:"",lname:"",email:"",customer_phone:"",service:"",search_phone:"",search_email:"",search_lname:"",searchResult:[],staffFname:""})}},{key:"openModal",value:function(){this.setState({signInModal:!0})}},{key:"closeModal",value:function(){this.resetForm(),this.fetchData()}},{key:"submitForm",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("x-access-store-id"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},"yes"==this.state.customerState?J.a.post("https://api.intelcalendar.com/api/customer",{storeId:t,fname:this.state.fname.toLowerCase(),lname:this.state.lname.toLowerCase(),phone:this.state.customer_phone,email:this.state.email.toLowerCase(),visited:1},a).then((function(e){J.a.post("https://api.intelcalendar.com/api/sheet",{storeId:t,customer_name:n.state.fname.toLowerCase()+" "+n.state.lname.toLowerCase(),customer_phone:n.state.customer_phone,service_by_customer:n.state.serviceSelected.join(", "),staff_by_customer:"walk-in",date:S()().format("YYYY-MM-DD"),arrived_time:S()().format("hh:mm a")},a).then((function(e){n.setState({page:11}),setTimeout(function(){this.resetForm(),this.fetchData()}.bind(n),3e3)}))})):"yes"==this.state.hasReservation?J.a.post("https://api.intelcalendar.com/api/sheet",{storeId:t,customer_name:this.state.customer_name.toLowerCase(),customer_phone:this.state.customer_phone,service_by_customer:this.state.serviceSelected.join(", "),staff_by_customer:this.state.staffFname,date:S()().format("YYYY-MM-DD"),arrived_time:S()().format("hh:mm a")},a).then((function(e){n.setState({page:11}),setTimeout(function(){this.resetForm(),this.fetchData()}.bind(n),3e3)})):J.a.post("https://api.intelcalendar.com/api/sheet",{storeId:t,customer_name:this.state.customer_name.toLowerCase(),customer_phone:this.state.customer_phone,service_by_customer:this.state.serviceSelected.join(", "),staff_by_customer:"walk-in",date:S()().format("YYYY-MM-DD"),arrived_time:S()().format("hh:mm a")},a).then((function(e){n.setState({page:11}),setTimeout(function(){this.resetForm(),this.fetchData()}.bind(n),3e3)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:" ".concat(f.a.container," ").concat(f.a.sign_in_sheets_customer)},s.a.createElement("div",{className:"".concat(f.a.btn_full_screen)},s.a.createElement("a",{className:"".concat(f.a.btn),onClick:function(){return e.openModal()}},"tap to sign in")),function(){if(e.state.signInModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.modal_absolute)},s.a.createElement("div",{className:"modal__content"},s.a.createElement("div",{className:"".concat(f.a.tools)},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.text_white),onClick:function(){return e.closeModal()}})),s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.text_white," ").concat(f.a.btn_back," ").concat(1!=e.state.page&&11!=e.state.page?"":f.a.hidden),onClick:function(){return e.prevPage()}}),s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("form",{className:f.a.form,onSubmit:e.onSubmit},s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center," ").concat(1==e.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_white," ").concat(f.a.text_center)},"Are you a new customer?")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center," ").concat(f.a.row__2cols)},s.a.createElement("div",{className:"".concat(f.a.radio," ").concat("yes"==e.state.customerState?f.a.selected:""),onClick:function(){return e.setCustomerState("yes")}},s.a.createElement("h1",{className:"".concat(f.a.text_white)},"Yes")),s.a.createElement("div",{className:"".concat(f.a.radio," ").concat("no"==e.state.customerState?f.a.selected:""),onClick:function(){return e.setCustomerState("no")}},s.a.createElement("h1",{className:"".concat(f.a.text_white)},"No")))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center," ").concat(2==e.state.page?"":f.a.hidden)},s.a.createElement("h1",{className:"".concat(f.a.text_white," ").concat(f.a.text_center)},"Please enter your information below"),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"fname",placeholder:"First Name",value:e.state.fname,onChange:e.handleInputChange,required:!0,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"lname",placeholder:"Last Name",value:e.state.lname,onChange:e.handleInputChange,required:!0,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"email",name:"email",placeholder:"Your Email (Optional)",value:e.state.email,onChange:e.handleInputChange,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"text",name:"customer_phone",placeholder:"Your Phone Number (Optional)",value:e.state.customer_phone,onChange:e.handleInputChange,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__primary),onClick:function(){return e.nextPage()}},"Next"))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.colorPage," ").concat(3==e.state.page?"":f.a.hidden)},s.a.createElement("h1",{className:"".concat(f.a.text_white," ").concat(f.a.text_center)},"What services are you getting done today?"),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},e.state.services.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"checkbox",name:"serviceSelected",value:t.name,onChange:e.handleServiceChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.serviceSelected.includes(t.name)?f.a.selected:"")},t.icon?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.icon)})):s.a.createElement("div",null,t.name.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.name)))}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__primary),onClick:function(){return e.submitForm()}},"Sign In"))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center,"  ").concat(4==e.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_white," ").concat(f.a.text_center)},"Do you have a reservation?")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center," ").concat(f.a.row__2cols)},s.a.createElement("div",{className:"".concat(f.a.radio," ").concat("yes"==e.state.hasReservation?f.a.selected:""),onClick:function(){return e.setHasReservation("yes")}},s.a.createElement("h1",{className:"".concat(f.a.text_white)},"Yes")),s.a.createElement("div",{className:"".concat(f.a.radio," ").concat("no"==e.state.hasReservation?f.a.selected:""),onClick:function(){return e.setHasReservation("no")}},s.a.createElement("h1",{className:"".concat(f.a.text_white)},"No")))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(5==e.state.page?"":f.a.hidden)},s.a.createElement("h1",{className:"".concat(f.a.text_white," ").concat(f.a.text_center)},"Please fill out your information below"),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.padding_20," ").concat(f.a.max_width)},s.a.createElement("input",{type:"text",name:"customer_name",placeholder:"Your name",value:e.state.customer_name,onChange:e.handleInputChange,required:!0,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.padding_20," ").concat(f.a.max_width)},s.a.createElement("input",{type:"text",name:"customer_phone",placeholder:"Your Phone Number",value:e.state.customer_phone,onChange:e.handleInputChange,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("br",null),s.a.createElement("h1",{className:"".concat(f.a.text_white," ").concat(f.a.text_center)},"Select services"),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},e.state.services.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"checkbox",name:"serviceSelected",value:t.name,onChange:e.handleServiceChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.serviceSelected.includes(t.name)?f.a.selected:"")},t.icon?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.icon)})):s.a.createElement("div",null,t.name.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.name)))}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__primary),onClick:function(){return e.submitForm()}},"Sign In"))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(6==e.state.page?"":f.a.hidden)},s.a.createElement("h1",{className:"".concat(f.a.text_white," ").concat(f.a.text_center)},"Please fill out your information below"),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.padding_20," ").concat(f.a.max_width)},s.a.createElement("input",{type:"text",name:"customer_name",placeholder:"Your name",value:e.state.customer_name,onChange:e.handleInputChange,required:!0,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.padding_20,"  ").concat(f.a.max_width)},s.a.createElement("input",{type:"text",name:"customer_phone",placeholder:"Your Phone",value:e.state.customer_phone,onChange:e.handleInputChange,autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("h1",{className:"".concat(f.a.text_white," ").concat(f.a.text_center)},"Select services"),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},e.state.services.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"checkbox",name:"serviceSelected",value:t.name,onChange:e.handleServiceChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.serviceSelected.includes(t.name)?f.a.selected:"")},t.icon?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.icon)})):s.a.createElement("div",null,t.name.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.name)))}))),s.a.createElement("h1",{className:"".concat(f.a.text_white," ").concat(f.a.text_center)},"Select staff"),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group)},s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"staffFname",value:"N/A",checked:"N/A"==e.state.staffFname,onChange:e.handleInputChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat("N/A"==e.state.staffFname?f.a.selected:"")},s.a.createElement("img",{src:"https://res.cloudinary.com/nailpocket-com/image/upload/v1595564180/users/profiles/lbprnu2ybvjppnlwabog.png"}))),s.a.createElement("div",{className:"".concat(f.a.col_2)},"Anyone"))),e.state.staffs.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"staffFname",value:t.fname,checked:e.state.staffFname==t.fname,onChange:e.handleInputChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.staffFname==t.fname?f.a.selected:"")},t.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.url)})):s.a.createElement("div",null,t.fname.charAt(0),t.lname.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.fname)))}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__primary),onClick:function(){return e.submitForm()}},"Sign In"))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center," ").concat(11==e.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_white," ").concat(f.a.text_center)},"Success.")))))))}())}}]),a}(n.Component),yt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.handleStaffChange=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c,r,o,l,i,m,u,d,h,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target,c=s.value,r=s.name,o=s.checked,l=c.split("--"),i=l[0],m=l[1],u=[],u=n.state.selectedStaffs,d=[],d=n.state.selectedStaffsName,!0===o?(d.push(m),u.push(i)):(-1!==(h=u.indexOf(i))&&u.splice(h,1),-1!==(p=d.indexOf(m))&&d.splice(p,1)),e.next=11,n.setState((a={},Object(G.a)(a,r,i),Object(G.a)(a,"staff_fname",m),a));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDayClick=function(e,t){t.selected;var a=localStorage.getItem("x-access-store-id"),s=S()(e).format("YYYY-MM-DD"),c={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getSheetsByStoreId/"+a+"/"+s,c).then((function(t){n.setState({sheets:t.data.sheets,date:S()(e).format("MM/DD/YYYY")})})),n.toggleCalendar("close")},n.onFocus=function(e){e.target.autocomplete&&(e.target.autocomplete="whatever")},n.formatPhoneNumber=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e},n.state={sheets:[],sheet:[],staffs:[],staffId:null,selectedStaffs:[],selectedStaffsName:[],staff_fname:null,staffModal:!1,noteModal:!1,selectedDay:null,isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),open:!0,close:!1,animated:!1,note:"",checkedIn:!1,date:S()().format("M-D-Y")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.state.ownerId==this.state.userId&&this.setState({isOwner:!0}),localStorage.setItem("active-page","sign-in-store"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=localStorage.getItem("x-access-store-id"),a=S()().format("YYYY-MM-DD"),n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getSheetsByStoreId/"+t+"/"+a,n).then((function(t){e.setState({sheets:t.data.sheets})})),J.a.get("https://api.intelcalendar.com/api/getStaffsByStoreId/"+t,n).then((function(t){e.setState({staffs:t.data.employees})}))}},{key:"resetForm",value:function(){this.setState({sheets:[],staffId:null,staff_fname:null,staffModal:!1,noteModal:!1,note:"",checkedIn:!1,selectedStaffsName:[],selectedStaffs:[]})}},{key:"openModal",value:function(e){var t=this,a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/sheet/"+e,a).then(function(){var e=Object(v.a)(g.a.mark((function e(a){var n,s,c,r,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push(a.data.sheet),s="",null!=a.data.sheet.note&&(s=a.data.sheet.note),c=[],(r=a.data.sheet.staffId)&&(c=r.split(", ")),o=[],(l=a.data.sheet.staff_fname)&&(o=l.split(", ")),e.next=12,t.setState({sheet:n,note:s,selectedStaffs:c,selectedStaffsName:o});case 12:if(null==a.data.sheet.checked){e.next=15;break}return e.next=15,t.setState({checkedIn:!0});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.setState({staffModal:!0,sheetId:e})}},{key:"openNoteModal",value:function(e){var t=this;this.setState({noteModal:!0,sheetId:e});var a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/sheet/"+e,a).then((function(e){var a=[];a.push(e.data.sheet),t.setState({sheet:a,note:e.data.sheet.note})}))}},{key:"closeModal",value:function(){this.resetForm(),this.fetchData()}},{key:"toggleCalendar",value:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"open"===t?this.setState({open:!1,close:!0,animated:!0}):"close"===t&&this.setState({open:!0,close:!1,animated:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submitForm",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n,s,c,r,o,l=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("x-access-store-id"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},n=this.state.selectedStaffs,s="",n.forEach((function(e){null!=e&&(s=s+e+", ")})),s=s.slice(0,-2),c=this.state.selectedStaffsName,r="",c.forEach((function(e){null!=e&&(r=r+e+", ")})),r=r.slice(0,-2),"submit"==t&&J.a.patch("https://api.intelcalendar.com/api/sheet/"+this.state.sheetId,(o={staffId:s,staff_fname:r},Object(G.a)(o,"staff_fname",r),Object(G.a)(o,"checked",S()().format("hh:mm a")),o),a).then((function(e){})),J.a.patch("https://api.intelcalendar.com/api/sheet/"+this.state.sheetId,{staffId:s,staff_fname:r,note:this.state.note},a).then((function(e){l.resetForm(),l.fetchData()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateNote",value:function(e){var t=this,a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.patch("https://api.intelcalendar.com/api/sheet/"+e,{note:this.state.note},a).then((function(e){t.resetForm(),t.fetchData()}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.sign_in_sheets_store)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Sign-in Sheets"),s.a.createElement("h3",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"(",this.state.date,")")),s.a.createElement("div",{className:"".concat(f.a.tools)},s.a.createElement("i",{className:"fas fa-file-alt fa-2x ".concat(this.state.open?"":f.a.hidden),"aria-hidden":"true",onClick:function(){return e.toggleCalendar("open")}}),s.a.createElement("i",{className:"fas fa-file-excel fa-2x ".concat(this.state.close?"":f.a.hidden),"aria-hidden":"true",onClick:function(){return e.toggleCalendar("close")}})),this.state.open?"":s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.sign_in_datepicker)},s.a.createElement(De.a,{selectedDays:this.state.selectedDay,onDayClick:this.handleDayClick})),s.a.createElement("div",{className:"".concat(f.a.row,"  ").concat(f.a.content)},0==this.state.sheets.length?s.a.createElement("h4",{className:"".concat(f.a.text_center)},"No customer"):s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},"Customer"),s.a.createElement("div",{className:"".concat(f.a.col_2)},"Arrival"))),this.state.sheets.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("div",{className:"".concat(f.a.content," ").concat(null!=t.checked?f.a.checked:""),onClick:function(){return e.openModal(t.id)}},s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("b",null,t.customer_name),t.customer_phone?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.customer_phone))):"",s.a.createElement("br",null),"walk-in"!=t.staff_by_customer?"Has appointment with: ".concat(t.staff_by_customer):"Walk in",s.a.createElement("br",null),"Services: ",t.service_by_customer,s.a.createElement("br",null),null==t.checked?"":s.a.createElement("span",{className:"".concat(f.a.text_green)},"Served by: ",t.staff_fname," ",s.a.createElement("i",{className:"fas fa-check ".concat(f.a.text_green)}))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.arrived_time,s.a.createElement("br",null),s.a.createElement("br",null),t.note?s.a.createElement("i",{className:"fas fa-comment ".concat(f.a.text_primary)}):s.a.createElement("i",{className:"fas fa-pencil-alt ".concat(f.a.text_center),onClick:function(){return e.openModal(t.id)}}))))}))),function(){if(e.state.staffModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.light)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},e.state.sheet.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.hero),key:e.id},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},e.customer_name))})),s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back),onClick:function(){return e.closeModal()}}),s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("h4",{className:"".concat(f.a.text_center)},"Select a staff")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.radio_group," ").concat(f.a.staffsView)},e.state.staffs.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"checkbox",name:"staffId",value:"".concat(t.id,"--").concat(t.fname),checked:e.state.selectedStaffs.includes(t.id.toString())&&e.state.selectedStaffsName.includes(t.fname.toString()),onChange:e.handleStaffChange}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.selectedStaffs.includes(t.id.toString())&&e.state.selectedStaffsName.includes(t.fname.toString())?f.a.selected:"")},t.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.url)})):s.a.createElement("div",null,t.fname.charAt(0),t.lname.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.fname)))}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("textarea",{name:"note",value:e.state.note,placeholder:"Enter notes here",onChange:e.handleInputChange,rows:"5",autoComplete:"off",onFocus:e.onFocus})),s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.floating_action),onClick:function(){return e.submitForm(e.state.checkedIn?"updateOnly":"submit")}},e.state.checkedIn?"Update":"Check In"))))}(),function(){if(e.state.noteModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ")},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back),onClick:function(){return e.closeModal()}}),s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Add Note")))))}())}}]),a}(n.Component),_t=a(178),Nt=a(270),wt=a.n(Nt),St=Object(_t.b)((function(e){var t=e.user;e.sortIndex;return s.a.createElement("li",{style:{zIndex:1e5}},s.a.createElement("div",{className:"".concat(f.a.card),key:t.id,style:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginLeft:"15px"}},s.a.createElement("div",{className:"".concat(f.a.content),style:Object(G.a)({background:"rgb(63 61 86 / 3%)",textAlign:"right",border:"2px solid rgb(63, 61, 86, .11)",textTransform:"capitalize",borderRadius:"10px",padding:"12px",width:"100%",zIndex:"100000",opacity:"1",position:"relative",display:"flex",alignItems:"center"},"width","calc(100% - 50px)")},s.a.createElement("div",{className:"".concat(f.a.col_1),style:{width:"70px",marginRight:"5px",fontSize:"16px",display:"flex",alignItems:"center",position:"absolute",left:"-25px"}},t.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.url),style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e5e5e5",background:"#e5e5e5",objectFit:"cover"}})):s.a.createElement("div",{style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e5e5e5",background:"#e5e5e5",objectFit:"cover",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",fontWeight:"800",textTransform:"uppercase"}},t.fname.charAt(0),t.lname.charAt(0))),s.a.createElement("div",{className:"".concat(f.a.col_2),style:{width:"100%",fontSize:"16px",lineHeight:"1.5"}},!0===t.isOwner?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.b,{exact:!0,to:"/staffs/edit/".concat(t.id)},s.a.createElement("i",{className:"fas fa-ellipsis-h"})),s.a.createElement("br",null)):"",s.a.createElement("b",null,t.fname," ",t.lname),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.phone),s.a.createElement("br",null),s.a.createElement(u.b,{exact:!0,to:"/staff-pto/".concat(t.id),className:"".concat(f.a.btn," ").concat(f.a.btn_inline)},"days off")),s.a.createElement("i",{className:"fas fa-bars",style:{position:"absolute",right:"-40px",top:"50%",transform:"translateY(-50%)",cursor:"pointer",fontSize:"32px"}}))))})),kt=Object(_t.a)((function(e){var t=e.items;return s.a.createElement("ul",null,t.map((function(e,t){return s.a.createElement(St,{key:"".concat(e.id),index:t,sortIndex:t,value:e.id,user:e})})))})),xt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;n.setState((function(e){var n=e.users;return{users:wt()(n,t,a)}}))},n.formatPhoneNumber=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e},n.state={users:[],ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),isOwner:!1,modalReorder:!1,noUser:"https://res.cloudinary.com/nailpocket-com/image/upload/v1595530884/users/profiles/lsd9kkm5t9simrawvgna.png"},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.state.ownerId==this.state.userId&&this.setState({isOwner:!0}),localStorage.setItem("active-page","staffs"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=localStorage.getItem("x-access-store-id"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getStaffsByStoreId/"+t,a).then((function(t){for(var a=t.data.employees,n=0;n<a.length;n++)a[n].isOwner=e.state.isOwner;e.setState({users:a})}))}},{key:"saveOrder",value:function(){var e={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};this.state.users.forEach((function(t,a){var n=t.id;J.a.post("https://api.intelcalendar.com/api/updateEmployeeSortIndex/"+n,{sortIndex:a},e).then((function(e){})).catch((function(e){}))})),this.setState({modalReorder:!1}),this.fetchData()}},{key:"cancelOrder",value:function(){this.setState({modalReorder:!1}),this.fetchData()}},{key:"openModalReorder",value:function(){this.setState({modalReorder:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.staffs," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Staffs")),!0===this.state.isOwner?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.tools)},s.a.createElement(u.b,{exact:!0,to:"/staffs/create"},s.a.createElement("i",{className:"far fa-plus ".concat(f.a.active)}))),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.top)},s.a.createElement(u.b,{exact:!0,to:"/staffs-archive"},s.a.createElement("i",{className:"fas fa-archive ".concat(f.a.active)}))),!1===this.state.modalReorder?s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn_inline),style:{float:"right"},onClick:function(){return e.openModalReorder()}},"reorder"):s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn_inline),style:{float:"right"},onClick:function(){return e.cancelOrder()}},"Cancel"),s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn_inline),style:{float:"right",marginRight:"10px"},onClick:function(){return e.saveOrder()}},"Save"))):"",0==this.state.users.length?s.a.createElement("h4",{className:"".concat(f.a.text_center)},"Let's add a staff"):s.a.createElement(s.a.Fragment,null,!1===this.state.modalReorder?s.a.createElement(s.a.Fragment,null,this.state.users.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},t.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.url)})):s.a.createElement("div",null,t.fname.charAt(0),t.lname.charAt(0))),s.a.createElement("div",{className:"".concat(f.a.col_2)},!0===e.state.isOwner?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.b,{exact:!0,to:"/staffs/edit/".concat(t.id)},s.a.createElement("i",{className:"fas fa-ellipsis-h"})),s.a.createElement("br",null)):"",s.a.createElement("b",null,t.fname," ",t.lname),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.phone)),s.a.createElement("br",null),s.a.createElement(u.b,{exact:!0,to:"/staff-pto/".concat(t.id),className:"".concat(f.a.btn," ").concat(f.a.btn_inline)},"days off"))))}))):s.a.createElement(kt,{items:this.state.users,onSortEnd:this.onSortEnd})))}}]),a}(n.Component),Ct=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={users:[],userId:localStorage.getItem("x-access-user-id"),owner:localStorage.getItem("x-access-owner-id"),ownerId:localStorage.getItem("x-access-store-ownerId"),isOwner:!1,noUser:"https://res.cloudinary.com/nailpocket-com/image/upload/v1595530884/users/profiles/lsd9kkm5t9simrawvgna.png"},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.state.ownerId==this.state.userId?this.setState({isOwner:!0}):this.props.history.push("/staffs"),localStorage.setItem("active-page","staffs-archive"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=localStorage.getItem("x-access-store-id"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getStaffsArchiveByStoreId/"+t,a).then((function(t){e.setState({users:t.data.employees})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"".concat(f.a.staffs," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Staffs Archived")),s.a.createElement(u.b,{exact:!0,to:"/staffs"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),0==this.state.users.length?s.a.createElement("h2",{className:"".concat(f.a.text_center)},"No data found"):s.a.createElement(s.a.Fragment,null,this.state.users.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.card),key:e.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},e.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(e.url)})):s.a.createElement("div",null,e.fname.charAt(0),e.lname.charAt(0))),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement(u.b,{exact:!0,to:"/staff-archive/".concat(e.id)},s.a.createElement("i",{className:"fas fa-ellipsis-h"})),s.a.createElement("br",null),s.a.createElement("b",null,e.fname," ",e.lname),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.email),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.phone))))}))))}}]),a}(n.Component),It=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isOwner:!1,isStaff:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),session_staffId:localStorage.getItem("x-access-staff-id"),staffs:[],staff:[],userInfo:[],PTOs:[],past_PTOs:[],userUrl:"",noUser:"https://res.cloudinary.com/nailpocket-com/image/upload/v1595530884/users/profiles/lsd9kkm5t9simrawvgna.png",deleteId:null,deleteModal:!1,loading:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.fetchData(),localStorage.setItem("active-page","staffs-map"),this.setState({storeId:localStorage.getItem("x-access-store-id")})):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=this.props.name,a=localStorage.getItem("x-access-store-id"),n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},s=!1;J.a.get("https://api.intelcalendar.com/api/getStaffsByStoreId/"+a,n).then((function(t){t.data.employees.forEach((function(t){t.userId==e.state.userId&&(s=!0)}))})).then((function(c){J.a.get("https://api.intelcalendar.com/api/getStaffsByEmployeeId/"+t,n).then((function(t){a==t.data.employees[0].storeId&&(s=!0),s||e.props.history.push("/staffs"),e.setState({staff:t.data.employees})}))})),J.a.get("https://api.intelcalendar.com/api/getPTOByEmployeeId/"+t,n).then((function(t){var a=[],n=[];t.data.pto.forEach((function(e){var t=S()().format("YYYY-MM-DD"),s=S()("2020-01-01","YYYY-MM-DD").format("YYYY-MM-DD"),c=S()(t,"YYYY-MM-DD"),r=S()(s,"YYYY-MM-DD"),o=S()(e.date,"YYYY-MM-DD");o.isSameOrAfter(r)&&(o.isSameOrAfter(c)?a.push(e):n.push(e))})),e.setState({PTOs:a,past_PTOs:n})}))}},{key:"deleteAppointment",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,deleteModal:!1}),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},J.a.delete("https://api.intelcalendar.com/api/appointment/"+t,a).then((function(e){n.setState({loading:!1}),n.fetchData()}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showDeleteModal",value:function(e){this.setState({deleteModal:!0,deleteId:e})}},{key:"closeModalDelete",value:function(){this.setState({deleteModal:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.user_map," ").concat(f.a.customers," ").concat(f.a.staff_map," ").concat(f.a.container)},s.a.createElement("a",{href:"/staffs"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Days Off")),this.state.staff.map((function(t){return s.a.createElement("div",{key:t.id},s.a.createElement("div",{className:"".concat(f.a.account)},s.a.createElement("div",{className:"".concat(f.a.profile_picture),style:{backgroundImage:"url(".concat(t.url?t.url:e.state.noUser,")")}}),s.a.createElement("h3",{className:"".concat(f.a.name," ").concat(f.a.font__style," ").concat(f.a.title," ")},t.fname," ",t.lname)),localStorage.getItem("x-access-staff-id")==e.props.name||e.state.ownerId==e.state.userId?s.a.createElement("div",{className:"".concat(f.a.tools)},s.a.createElement(u.b,{exact:!0,to:"/staff-add-pto/".concat(t.id)},s.a.createElement("i",{className:"far fa-plus ".concat(f.a.active)}),"\xa0Day off")):"")})),0==this.state.PTOs.length?s.a.createElement("div",{className:f.a.row},s.a.createElement("h4",null,"0 upcoming day off")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:f.a.row},s.a.createElement("h4",null,this.state.PTOs.length," upcoming day(s) off")),this.state.PTOs.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card_appointment),key:t.id},s.a.createElement("div",{className:"".concat(f.a.content)},localStorage.getItem("x-access-staff-id")==e.props.name||e.state.ownerId==e.state.userId?s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{className:"".concat(f.a.btn_inline," ").concat(f.a.btn_absolute," ").concat(f.a.order_1),onClick:function(){return e.showDeleteModal(t.id)}},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.active)})),s.a.createElement("a",{href:"/staff-edit-pto/".concat(t.id),className:"".concat(f.a.btn," ").concat(f.a.btn_inline," ").concat(f.a.btn_absolute," ").concat(f.a.order_2)},"Edit")):"",s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("p",null,s.a.createElement("b",null,"Date:")," ",S()(t.date,"YYYY-MM-DD").format("M/D/Y")),s.a.createElement("p",null,s.a.createElement("b",null,"From:")," ",S()(t.start,"hh:mm a").format("hh:mm A")),s.a.createElement("p",null,s.a.createElement("b",null,"To:")," ",S()(t.end,"hh:mm a").format("hh:mm A")))))}))),s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("br",null),0==this.state.past_PTOs.length?s.a.createElement("div",{className:f.a.row},s.a.createElement("h4",null,"History")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:f.a.row},s.a.createElement("h4",null,"History")),this.state.past_PTOs.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card_appointment),key:t.id},s.a.createElement("div",{className:"".concat(f.a.content)},localStorage.getItem("x-access-staff-id")==e.props.name&&e.state.ownerId==e.state.userId?s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{className:"".concat(f.a.btn_inline," ").concat(f.a.btn_absolute," ").concat(f.a.order_1),onClick:function(){return e.showDeleteModal(t.id)}},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.active)})),s.a.createElement("a",{href:"/staff-edit-pto/".concat(t.id),className:"".concat(f.a.btn," ").concat(f.a.btn_inline," ").concat(f.a.btn_absolute," ").concat(f.a.order_2)},"Edit")):"",s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("p",null,s.a.createElement("b",null,"Date:")," ",S()(t.date,"YYYY-MM-DD").format("M/D/Y")),s.a.createElement("p",null,s.a.createElement("b",null,"From:")," ",S()(t.start,"hh:mm a").format("hh:mm A")),s.a.createElement("p",null,s.a.createElement("b",null,"To:")," ",S()(t.end,"hh:mm a").format("hh:mm A")))))}))),function(){if(e.state.loading)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert," ").concat(f.a.loading)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("div",{class:"fa-3x"},s.a.createElement("i",{className:"fas fa-spinner fa-spin ".concat(f.a.loading_icon)})))))}(),function(){if(e.state.deleteModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("p",null,"Do you want to delete this day?"),s.a.createElement("div",{className:"".concat(f.a.button_group)},s.a.createElement("a",{onClick:function(){return e.deleteAppointment(e.state.deleteId)},className:"".concat(f.a.btn," ").concat(f.a.btn__warning," ").concat(f.a.margin_auto)},"Yes"),s.a.createElement("a",{onClick:function(){return e.closeModalDelete()},className:"".concat(f.a.btn," ").concat(f.a.margin_auto)},"Cancel")))))}())}}]),a}(n.Component),Ht=Object(d.g)(It),Ot=function(e){var t=e.match.params.userId;return s.a.createElement(Ht,{name:t})},Tt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={owner:localStorage.getItem("x-access-owner-id"),isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),staff:[],userInfo:[],isStaff:!1,noUser:"https://res.cloudinary.com/nailpocket-com/image/upload/v1595530884/users/profiles/lsd9kkm5t9simrawvgna.png"},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.state.ownerId==this.state.userId?this.setState({isOwner:!0}):this.props.history.push("/staffs"),localStorage.setItem("active-page","staff-archive-map"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=this.props.name,a=localStorage.getItem("x-access-store-id"),n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getStaffsByEmployeeId/"+t,n).then((function(t){e.state.ownerId==e.state.userId&&a==t.data.employees[0].storeId&&e.setState({isStaff:!0}),e.state.isStaff||e.props.history.push("/staffs"),e.setState({staff:t.data.employees,userUrl:"http://localhost/IntelLaravelApi/"+t.data.employees[0].profile_image})}))}},{key:"restore",value:function(){var e=this;if(window.confirm("Do you want to restore this staff?")){var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=this.props.name;J.a.get("https://api.intelcalendar.com/api/restoreEmployee/"+a,t).then((function(t){e.props.history.push("/staffs")})).catch((function(e){}))}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.staffs," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Restore Staff")),s.a.createElement(u.b,{exact:!0,to:"/staffs"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),this.state.staff.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.card),key:e.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},e.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(e.url)})):s.a.createElement("div",null,e.fname.charAt(0),e.lname.charAt(0))),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("b",null,e.fname," ",e.lname),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.email),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.phone))))})),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__navi),onClick:function(){return e.restore()}},s.a.createElement("i",{className:"fas fa-trash-restore ".concat(f.a.text_white)}),"\xa0\xa0\xa0Restore this staff")))}}]),a}(n.Component),Mt=Object(d.g)(Tt),Dt=function(e){var t=e.match.params.userId;return s.a.createElement(Mt,{name:t})},Pt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.state={page:1,message:"",permalink:"",id:n.props.name,fname:"",lname:"",email:"",phone:"",oldPin:"",newPin:"",newPinConfirm:"",color:"",authError:!1,mismatchPIN:!1,storeId:"",isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),staff:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(this.state.ownerId==this.state.userId?this.setState({isOwner:!0}):this.props.history.push("/staffs"),localStorage.setItem("active-page","staff-edit-map"),this.fetchData(),this.setState({storeId:localStorage.getItem("x-access-store-id")})):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=this.props.name,a=localStorage.getItem("x-access-store-id"),n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getStaffsByEmployeeId/"+t,n).then((function(t){e.state.ownerId==e.state.userId&&a==t.data.employees[0].storeId&&(e.setState({isStaff:!0}),e.setState({staff:t.data.employees})),e.state.isStaff||e.props.history.push("/staffs")}))}},{key:"update",value:function(){var e=this;if(this.state.newPin==this.state.newPinConfirm){if(this.setState({mismatchPIN:!1}),window.confirm("Do you want to update this Staff?")){var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=this.props.name;J.a.post("https://api.intelcalendar.com/api/updateEmployeePIN/"+a,{oldPIN:this.state.oldPin,newPIN:this.state.newPin,storeId:this.state.storeId},t).then((function(t){e.setState({permalink:"/staff/"+a,page:2,message:"Updated!"})})).catch((function(t){e.setState({authError:!0})}))}}else this.setState({mismatchPIN:!0})}},{key:"delete",value:function(){var e=this;if(window.confirm("Do you want to delete this staff?")){var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=this.props.name;J.a.get("https://api.intelcalendar.com/api/removeEmployee/"+a,t).then((function(t){e.setState({permalink:"/staffs",page:2,message:"Removed!"})})).catch((function(t){e.setState({authError:!0})}))}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.staffs," ").concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Staff settings")),s.a.createElement(u.b,{exact:!0,to:"/staffs"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(1==this.state.page?"":f.a.hidden)},this.state.staff.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.card),key:e.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},e.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(e.url)})):s.a.createElement("div",null,e.fname.charAt(0),e.lname.charAt(0))),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("b",null,e.fname," ",e.lname),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.email),s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.phone))))})),s.a.createElement("div",{className:f.a.row},s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__warning),onClick:function(){return e.delete()}},s.a.createElement("i",{className:"fas fa-trash-alt ".concat(f.a.text_white)}),"\xa0\xa0\xa0Archive this staff"))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(2==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_center)},this.state.message),s.a.createElement(u.b,{exact:!0,to:"/staffs",className:"".concat(f.a.btn)},"Done"))))}}]),a}(n.Component),Ft=Object(d.g)(Pt),At=function(e){var t=e.match.params.userId;return s.a.createElement(Ft,{name:t})},jt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.handleDayClick=function(){var e=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.selected,e.next=3,n.setState({selectedDay:t});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={page:1,fname:"",lname:"",isOwner:!1,isStaff:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),staff:[],selectedDay:null,startSelected:"",endSelected:"",timeSlot:[],note:"OFF",loading:!1,alertModal:!1,alertModalText:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(localStorage.setItem("active-page","staff-pto-map"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,s,c,r,o,l=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.props.name,a=localStorage.getItem("x-access-store-id"),n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},J.a.get("https://api.intelcalendar.com/api/getStaffsByEmployeeId/"+t,n).then((function(e){l.state.ownerId==l.state.userId&&a==e.data.employees[0].storeId&&l.setState({isStaff:!0}),e.data.employees[0].userId==l.state.userId&&l.setState({isStaff:!0}),l.state.isStaff||l.props.history.push("/staffs"),l.setState({staff:e.data.employees})})),s=S()("00:00","HH:mm"),c=S()("23:59","HH:mm"),r=[],o=0;s<=c;)r.push({id:o,value:new S.a(s).format("hh:mm a")}),s.add(60,"minutes"),o++;return e.next=11,this.setState({timeSlot:r});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"closeModalAlert",value:function(){this.setState({alertModal:!1,alertModalText:""})}},{key:"submitForm",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,c=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.state.selectedDay){e.next=3;break}return this.setState({alertModal:!0,alertModalText:s.a.createElement("p",null,"Please select a date")}),e.abrupt("return");case 3:if(""!=this.state.startSelected){e.next=6;break}return this.setState({alertModal:!0,alertModalText:s.a.createElement("p",null,"Please select a start time")}),e.abrupt("return");case 6:if(""!=this.state.endSelected){e.next=9;break}return this.setState({alertModal:!0,alertModalText:s.a.createElement("p",null,"Please select a end time")}),e.abrupt("return");case 9:return e.next=11,this.setState({loading:!0});case 11:t=localStorage.getItem("x-access-store-id"),a=this.props.name,n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},J.a.post("https://api.intelcalendar.com/api/appointment",{storeId:t,staffId:a,customerId:0,serviceIds:0,appointmentId:"",date:S()(this.state.selectedDay).format("YYYY-MM-DD"),start:S()(this.state.startSelected,"hh:mm a").format("HH:mm a"),end:S()(this.state.endSelected,"hh:mm a").format("HH:mm a"),note:this.state.note,createdBy:localStorage.getItem("x-access-user-id"),modifiedBy:localStorage.getItem("x-access-user-id")},n).then((function(e){c.props.history.push("/staff-pto/".concat(c.props.name))}));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.staffs," ").concat(f.a.staff_map," ").concat(f.a.user_map," ").concat(f.a.add_PTO," ").concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Submit day off")),s.a.createElement(u.b,{exact:!0,to:"/staffs"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(1==this.state.page?"":f.a.hidden)},this.state.staff.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.account),key:t.id},s.a.createElement("div",{className:"".concat(f.a.profile_picture),style:{backgroundImage:"url(".concat(t.url?t.url:e.state.noUser,")")}}),s.a.createElement("h3",{className:"".concat(f.a.name," ").concat(f.a.font__style," ").concat(f.a.title," ")},t.fname," ",t.lname))})),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center)},s.a.createElement(De.a,{selectedDays:this.state.selectedDay,onDayClick:this.handleDayClick})),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.time_picker_container," ").concat(f.a.max_width)},s.a.createElement("select",{name:"startSelected",onChange:this.handleInputChange,className:"".concat(f.a.startSelected)},s.a.createElement("option",{value:""},"From"),this.state.timeSlot.map((function(t){return s.a.createElement("option",{key:t.id,value:t.value,selected:e.state.startSelected==t.value?"selected":""},t.value)}))),s.a.createElement("select",{name:"endSelected",onChange:this.handleInputChange,className:"".concat(f.a.endSelected)},s.a.createElement("option",{value:""},"To"),this.state.timeSlot.map((function(t){return s.a.createElement("option",{key:t.id,value:t.value,selected:e.state.endSelected==t.value?"selected":""},t.value)})))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.max_width)},s.a.createElement("br",null),s.a.createElement("h4",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Notes"),s.a.createElement("textarea",{name:"note",placeholder:"Note",value:this.state.note,onChange:this.handleInputChange,rows:"5"})),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.submitForm()}},"Submit")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save," ").concat(f.a.disabled," ").concat(this.state.loading?"":f.a.hidden)},s.a.createElement("a",null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(2==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h4",{className:"".concat(f.a.text_center)},"You have submitted one day off.")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement(u.b,{exact:!0,to:"/staff-pto/".concat(this.props.name),className:"".concat(f.a.btn)},"Done"))),function(){if(e.state.loading)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert," ").concat(f.a.loading)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("div",{class:"fa-3x"},s.a.createElement("i",{className:"fas fa-spinner fa-spin ".concat(f.a.loading_icon)})))))}(),function(){if(e.state.alertModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},e.state.alertModalText,s.a.createElement("a",{onClick:function(){return e.closeModalAlert()},className:"".concat(f.a.btn," ").concat(f.a.margin_auto)},"Close"))))}())}}]),a}(n.Component),Yt=Object(d.g)(jt),Bt=function(e){var t=e.match.params.userId;return s.a.createElement(Yt,{name:t})},Lt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.handleDayClick=function(){var e=Object(v.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.selected,e.next=3,n.setState({selectedDay:t});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={page:1,fname:"",lname:"",isOwner:!1,isStaff:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),staff:[],staffId:null,selectedDay:null,startSelected:"",endSelected:"",note:"OFF",timeSlot:[],loading:!1,updateModal:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(localStorage.setItem("active-page","staff-edit-pto"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,s,c,r,o,l=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.props.name,a=localStorage.getItem("x-access-store-id"),n=S()("00:00","HH:mm"),s=S()("23:59","HH:mm"),c=[],r=0;n<=s;)c.push({id:r,value:new S.a(n).format("hh:mm a")}),n.add(60,"minutes"),r++;return e.next=9,this.setState({timeSlot:c});case 9:return console.log(this.state.startSelected),o={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},e.next=13,J.a.get("https://api.intelcalendar.com/api/getAppointmentsById/"+t,o).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.state.ownerId==l.state.userId&&a==t.data.appointments[0].storeId&&l.setState({isStaff:!0}),t.data.appointments[0].staffId==localStorage.getItem("x-access-staff-id")&&l.setState({isStaff:!0}),l.state.isStaff||l.props.history.push("/staffs"),e.next=5,l.setState({startSelected:S()(t.data.appointments[0].start,"HH:mm a").format("hh:mm a"),endSelected:S()(t.data.appointments[0].end,"HH:mm a").format("hh:mm a"),selectedDay:S()(t.data.appointments[0].date)._d,note:t.data.appointments[0].note,staffId:t.data.appointments[0].staffId});case 5:J.a.get("https://api.intelcalendar.com/api/getStaffsByEmployeeId/"+t.data.appointments[0].staffId,o).then((function(e){l.setState({staff:e.data.employees})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateForm",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0});case 2:localStorage.getItem("x-access-store-id"),t=this.props.name,a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},J.a.patch("https://api.intelcalendar.com/api/appointment/"+t,{date:this.state.selectedDay.toLocaleDateString("fr-ca"),start:S()(this.state.startSelected,"hh:mm a").format("HH:mm a"),end:S()(this.state.endSelected,"hh:mm a").format("HH:mm a"),note:this.state.note,modifiedBy:this.state.userId},a).then((function(e){n.props.history.push("/staff-pto/".concat(n.state.staffId))}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openModal",value:function(){this.setState({updateModal:!0})}},{key:"closeModal",value:function(){this.setState({updateModal:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.staffs," ").concat(f.a.staff_map," ").concat(f.a.user_map," ").concat(f.a.add_PTO," ").concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Edit day off")),s.a.createElement(u.b,{exact:!0,to:"/staff-pto/".concat(this.state.staffId)},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(1==this.state.page?"":f.a.hidden)},this.state.staff.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.account),key:t.id},s.a.createElement("div",{className:"".concat(f.a.profile_picture),style:{backgroundImage:"url(".concat(t.url?t.url:e.state.noUser,")")}}),s.a.createElement("h3",{className:"".concat(f.a.name," ").concat(f.a.font__style," ").concat(f.a.title," ")},t.fname," ",t.lname))})),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center)},s.a.createElement(De.a,{selectedDays:this.state.selectedDay,onDayClick:this.handleDayClick})),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.time_picker_container," ").concat(f.a.max_width)},s.a.createElement("select",{name:"startSelected",onChange:this.handleInputChange,className:"".concat(f.a.startSelected)},s.a.createElement("option",{value:""},"From"),this.state.timeSlot.map((function(t){return s.a.createElement("option",{key:t.id,value:t.value,selected:e.state.startSelected==t.value?"selected":""},t.value)}))),s.a.createElement("select",{name:"endSelected",onChange:this.handleInputChange,className:"".concat(f.a.endSelected)},s.a.createElement("option",{value:""},"To"),this.state.timeSlot.map((function(t){return s.a.createElement("option",{key:t.id,value:t.value,selected:e.state.endSelected==t.value?"selected":""},t.value)})))),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.max_width)},s.a.createElement("br",null),s.a.createElement("h4",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Notes"),s.a.createElement("textarea",{name:"note",placeholder:"Note",value:this.state.note,onChange:this.handleInputChange,rows:"5"})),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.updateForm()}},"Save")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save," ").concat(f.a.disabled," ").concat(this.state.loading?"":f.a.hidden)},s.a.createElement("a",null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(2==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h4",{className:"".concat(f.a.text_center)},"Your day off has been updated.")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement(u.b,{exact:!0,to:"/staff-pto/".concat(this.state.staffId),className:"".concat(f.a.btn)},"Done"))),function(){if(e.state.updateModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("p",null,"Do you want to update this customer?"),s.a.createElement("div",{className:"".concat(f.a.button_group)},s.a.createElement("a",{onClick:function(){return e.updateForm()},className:"".concat(f.a.btn," ").concat(f.a.btn__warning," ").concat(f.a.margin_auto)},"Yes"),s.a.createElement("a",{onClick:function(){return e.closeModal()},className:"".concat(f.a.btn," ").concat(f.a.margin_auto)},"Cancel")))))}(),function(){if(e.state.loading)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert," ").concat(f.a.loading)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("div",{class:"fa-3x"},s.a.createElement("i",{className:"fas fa-spinner fa-spin ".concat(f.a.loading_icon)})))))}())}}]),a}(n.Component),Wt=Object(d.g)(Lt),Rt=function(e){var t=e.match.params.id;return s.a.createElement(Wt,{name:t})},Ut=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.handleChangeComplete=function(e){n.setState({color:e.hex})},n.nextPage=function(){if(1==n.state.page)if("yes"==n.state.staffExisted)n.setState({page:7,authError:!1});else{var e=n.state.page+1;n.setState({page:e,authError:!1})}else if(3==n.state.page){if(""==n.state.password)return n.setState({authError:!0}),!1;if(n.state.password!==n.state.passwordConfirm)return n.setState({authError:!0}),!1;var t=n.state.page+1;n.setState({page:t,authError:!1})}else if(4==n.state.page){if(""==n.state.fname||""==n.state.lname||""==n.state.phone)return n.setState({authError:!0}),!1;var a=n.state.page+1;n.setState({page:a,authError:!1})}else{var s=n.state.page+1;n.setState({page:s,authError:!1})}},n.goToPage=function(){n.setState({page:1})},n.prevPage=function(){if("yes"==n.state.staffExisted)n.setState({page:1,authError:!1});else{var e=n.state.page-1;n.setState({page:e,authError:!1})}},n.setStaffExisted=function(e){n.setState({staffExisted:e}),"yes"==e?n.setState({page:7}):n.setState({page:2})},n.onFocus=function(e){e.target.autocomplete&&(e.target.autocomplete="whatever")},n.state={email:"",emailExisted:"",password:"",passwordConfirm:"",pin:"",pinExisted:"",fname:"",lname:"",phone:"",owner:"",color:"#fff",authError:!1,staffExisted:"",page:1,storeId:localStorage.getItem("x-access-store-id"),isOwner:!1,ownerId:localStorage.getItem("x-access-store-ownerId"),userId:localStorage.getItem("x-access-user-id"),loading:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")||this.props.history.push("/login"),this.state.ownerId==this.state.userId&&this.setState({isOwner:!0}),localStorage.setItem("active-page","staff-create")}},{key:"submitForm",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0});case 2:a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},"add"==t?J.a.post("https://api.intelcalendar.com/api/staff",{hasAccount:"hasAccount",email:this.state.emailExisted.toLowerCase(),userId:"",storeId:this.state.storeId,PIN:this.state.pinExisted},a).then((function(e){n.setState({page:9,authError:!1,loading:!1})})).catch((function(e){"employee existed"==e.response.data&&alert("This email has already added to the store.")})):J.a.post("https://api.intelcalendar.com/api/staff",{hasAccount:"noAccount",email:this.state.email.toLowerCase(),password:this.state.password,password_confirmation:this.state.passwordConfirm,fname:this.state.fname.toLowerCase(),lname:this.state.lname.toLowerCase(),phone:this.state.phone,color:this.state.color,username:"",userId:"",storeId:this.state.storeId},a).then((function(e){n.setState({page:9,authError:!1,loading:!1})})).catch((function(e){console.log(e.response.data),"has account"==e.response.data&&n.setState({page:10})}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Add Staff")),s.a.createElement("form",{className:f.a.form,onSubmit:this.onSubmit},1==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{href:"/staffs"},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page,"  ").concat(f.a.absolute_center)},s.a.createElement("input",{type:"hidden",value:"yes"==this.state.staffExisted?"yes":"no",name:"staffExisted"}),s.a.createElement("div",{className:f.a.row},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Does your staff already has an account?")),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.row__2cols)},s.a.createElement("div",{className:"".concat(f.a.radio," ").concat("yes"==this.state.staffExisted?f.a.selected:""),onClick:function(){return e.setStaffExisted("yes")}},s.a.createElement("h1",null,"Yes")),s.a.createElement("div",{className:"".concat(f.a.radio," ").concat("no"==this.state.staffExisted?f.a.selected:""),onClick:function(){return e.setStaffExisted("no")}},s.a.createElement("h1",null,"No"))))):"",2==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("h1",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Okay!"),s.a.createElement("h3",null,"Look like your staff doesn't have an account. Let's go to next step to create one"))),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.nextPage()}},"Next"))):"",3==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page)},s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Please fill out the information below"),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("label",{htmlFor:""},"Staff's email"),s.a.createElement("input",{type:"email",name:"email",placeholder:"Enter staff's email",value:this.state.email,onChange:this.handleInputChange,required:!0,autoComplete:"off",onFocus:this.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Password"),s.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleInputChange,required:!0,autoComplete:"off",onFocus:this.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Confirm password"),s.a.createElement("input",{type:"password",name:"passwordConfirm",placeholder:"Confirm Password",value:this.state.passwordConfirm,onChange:this.handleInputChange,required:!0,autoComplete:"off",onFocus:this.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{className:"".concat(f.a.text_center),style:{display:this.state.authError?"block":"none"}},"Password didn't match")),""!=this.state.email&&""!=this.state.password&&""!=this.state.passwordConfirm?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.nextPage()}},"Next")):"")):"",4==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page)},s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Please enter the information below"),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("label",{htmlFor:""},"First Name"),s.a.createElement("input",{type:"text",name:"fname",placeholder:"First name",value:this.state.fname,onChange:this.handleInputChange,required:!0,autoComplete:"off",onFocus:this.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Last Name"),s.a.createElement("input",{type:"text",name:"lname",placeholder:"Last name",value:this.state.lname,onChange:this.handleInputChange,required:!0,autoComplete:"off",onFocus:this.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Phone number"),s.a.createElement("input",{type:"text",name:"phone",placeholder:"Phone number",value:this.state.phone,onChange:this.handleInputChange,required:!0,autoComplete:"off",onFocus:this.onFocus})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{className:"".concat(f.a.text_center),style:{display:this.state.authError?"block":"none"}},"Please fill out your info")),""!=this.state.fname&&""!=this.state.lname&&""!=this.state.phone?s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.nextPage()}},"Next")):"")):"",5==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center)},s.a.createElement("input",{type:"hidden",value:"yes"==this.state.owner?"yes":"no",name:"owner"}),s.a.createElement("div",{className:f.a.row},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"What is your staff favorite color?")),s.a.createElement("br",null),s.a.createElement($.a,{className:"".concat(f.a.circle_picker),color:this.state.color,onChangeComplete:this.handleChangeComplete})),"#fff"!=this.state.color?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.submitForm("create")}},"Create Staff")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save," ").concat(f.a.disabled," ").concat(this.state.loading?"":f.a.hidden)},s.a.createElement("a",null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})))):""):"",6==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center," ")},s.a.createElement("input",{type:"hidden",value:"yes"==this.state.owner?"yes":"no",name:"owner"}),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("h1",null,"Lastly!"),s.a.createElement("p",null,"Your staff will need a PIN number in order to use the scheduling feature. This PIN number should be entered by your staff and keep it secured.")),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"password",name:"pin",placeholder:"PIN",value:this.state.pin,onChange:this.handleInputChange,required:!0})),s.a.createElement("p",null,"add agreement"))):"",7==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page)},s.a.createElement("a",{onClick:function(){return e.prevPage()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:f.a.row},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Enter the email that is associated with the account")),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"email",name:"emailExisted",placeholder:"Your staff's email",value:this.state.emailExisted,onChange:this.handleInputChange,required:!0,autoComplete:"off",onFocus:this.onFocus})),""!=this.state.emailExisted?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.submitForm("add")}},"Create")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save," ").concat(f.a.disabled," ").concat(this.state.loading?"":f.a.hidden)},s.a.createElement("a",null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})))):"")):"",8==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center," ").concat(8==this.state.page?"":f.a.hidden)},s.a.createElement("p",null,"add agreement"),s.a.createElement("input",{type:"hidden",value:"yes"==this.state.owner?"yes":"no",name:"owner"}),s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",null,"Lastly!"),s.a.createElement("p",null,"Your staff will need a PIN number in order to use the scheduling feature. This PIN number should be entered by your staff and keep it secured.")),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"password",name:"pinExisted",placeholder:"PIN",value:this.state.pinExisted,onChange:this.handleInputChange,required:!0})))):"",9==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center," ").concat(9==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("h1",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Congrats!!!"),s.a.createElement("p",{className:"".concat(f.a.text_center)},this.state.fname?this.state.fname:"A new staff"," has been added to your store!"))),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement(u.b,{exact:!0,to:"/staffs"},"Done"))):"",10==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center)},s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.text_center)},s.a.createElement("h3",{className:"".concat(f.a.text_center)},'This email already has an account. Go back to step 1 then choose "Yes" to continue'),s.a.createElement("a",{onClick:function(){return e.goToPage(1)},className:"".concat(f.a.btn," ").concat(f.a.text_center)},"Go Back")))):""))}}]),a}(n.Component),zt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).searchCustomer=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(n.state.typingTimeout),a=t.target,s=a.value,c=a.name,e.next=4,n.setState(Object(G.a)({},c,s));case 4:n.setState({typingTimeout:setTimeout(Object(v.a)(g.a.mark((function e(){var t,a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=n.state.searchCustomerKey,s=localStorage.getItem("x-access-store-id"),""!=a?J.a.get("https://api.intelcalendar.com/api/searchCustomer/"+s+"/"+a,t).then((function(e){n.setState({customers:e.data.customers})})):n.fetchData();case 4:case"end":return e.stop()}}),e)}))),500)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.formatPhoneNumber=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e},n.state={customers:[],searchCustomerKey:"",mapModal:!1,editModal:!1,map_customer:[],appointments:[],past_appointments:[],typingTimeout:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(localStorage.setItem("active-page","customers"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=localStorage.getItem("x-access-store-id"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/getCustomersByStoreId/"+t,a).then((function(t){var a=t.data.customers;e.setState({customers:a})}))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.typingTimeout)}},{key:"openModalMap",value:function(e){var t=this;this.setState({mapModal:!0});var a=e,n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},s=localStorage.getItem("x-access-store-id");J.a.get("https://api.intelcalendar.com/api/searchCustomerById/"+s+"/"+a,n).then((function(e){t.setState({map_customer:e.data.customers})})),J.a.get("https://api.intelcalendar.com/api/getAppointmentsByStoreIdAndCustomerId/"+s+"/"+a,n).then((function(e){var a=e.data.appointments,n=[],s=[];a.forEach((function(e){var t=S()().format("YYYY-MM-DD"),a=S()().subtract(30,"days").format("YYYY-MM-DD"),c=S()(t,"YYYY-MM-DD"),r=S()(a,"YYYY-MM-DD"),o=S()(e.date,"YYYY-MM-DD");if(o.isSameOrAfter(r)){var l=e.services,i=[],m="";l.forEach((function(e){null!=e&&(m=m+e.name+", ")})),m=m.slice(0,-2),i.push(m),e.services=i,o.isSameOrAfter(c)?n.push(e):s.push(e)}})),t.setState({appointments:n,past_appointments:s})}))}},{key:"closeAllModal",value:function(){this.setState({mapModal:!1,editModal:!1,map_customer:[],appointments:[]})}},{key:"clearSearch",value:function(){this.setState({searchCustomerKey:""}),this.fetchData()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.customers," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Customers")),s.a.createElement("div",{className:"".concat(f.a.tools)},s.a.createElement(u.b,{exact:!0,to:"/customers/create"},s.a.createElement("i",{className:"far fa-plus ".concat(f.a.active)}))),s.a.createElement("div",{className:"".concat(f.a.row)},s.a.createElement("input",{type:"text",name:"searchCustomerKey",placeholder:"\uf002",className:"fas fa-search ".concat(f.a.placeholder," ").concat(f.a.width__minus_28," ").concat(f.a.mb_10),value:this.state.searchCustomerKey,onChange:this.searchCustomer}),s.a.createElement("i",{className:"far fa-times ".concat(f.a.active," ").concat(f.a.clear_search),onClick:function(){return e.clearSearch()}})),0==this.state.customers.length?s.a.createElement("h4",{className:"".concat(f.a.text_center)},"There is no customer"):s.a.createElement(s.a.Fragment,null,this.state.customers.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",null,t.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("a",{onClick:function(){return e.openModalMap(t.id)}},s.a.createElement("i",{className:"fas fa-ellipsis-h"})),s.a.createElement("br",null),s.a.createElement("b",null,t.fname," ",t.lname),t.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email)):"",t.phone?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.phone))):"",t.fav_staffId&&"0"!=t.fav_staffId?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("i",{className:"fas fa-heart",style:{color:t.color,fontSize:"14px"}}),"\xa0",s.a.createElement("span",{style:{textTransform:"lowercase"}},t.userFname)):"")))}))),function(){if(e.state.mapModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.normal," ").concat(f.a.zIndex," ").concat(f.a.customers)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Customer Details")),s.a.createElement("a",{onClick:function(){return e.closeAllModal()}},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),e.state.map_customer.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",null,t.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("b",null,t.fname," ",t.lname),t.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email)):"",t.phone?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.phone))):"",t.fav_staffId&&"0"!=t.fav_staffId?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("i",{className:"fas fa-heart",style:{color:t.color,fontSize:"14px"}}),"\xa0",s.a.createElement("span",{style:{textTransform:"lowercase"}},t.userFname)):"",s.a.createElement("br",null),s.a.createElement(u.b,{exact:!0,to:"/customers/edit/".concat(t.id),className:"".concat(f.a.btn," ").concat(f.a.btn_inline)},"Edit"))))})),0==e.state.appointments.length?s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("h4",null,"0 upcoming appointment")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("h4",null,e.state.appointments.length," upcoming appointment(s)")),e.state.appointments.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.card_appointment),key:e.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("p",null,s.a.createElement("b",null,"Appointment date:")," ",S()(e.date,"YYYY-MM-DD").format("MM-DD-YYYY")),s.a.createElement("p",null,s.a.createElement("b",null,"Start time:")," ",S()(e.start,"hh:mm a").format("hh:mm A")),s.a.createElement("p",null,s.a.createElement("b",null,"End time:")," ",S()(e.end,"hh:mm a").format("hh:mm A")),s.a.createElement("p",null,s.a.createElement("b",null,"Services:")," ",e.services),s.a.createElement("p",null,s.a.createElement("b",null,"Appointment with:")," ",e.userFname?e.userFname:"Anyone"))))}))),0==e.state.past_appointments.length?"":s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("h4",null,e.state.past_appointments.length," past appointment(s) (last 30 days)")),e.state.past_appointments.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.card_appointment),key:e.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("p",null,s.a.createElement("b",null,"Appointment date:")," ",S()(e.date,"YYYY-MM-DD").format("MM-DD-YYYY")),s.a.createElement("p",null,s.a.createElement("b",null,"Start time:")," ",S()(e.start,"hh:mm a").format("hh:mm A")),s.a.createElement("p",null,s.a.createElement("b",null,"End time:")," ",S()(e.end,"hh:mm a").format("hh:mm A")),s.a.createElement("p",null,s.a.createElement("b",null,"Services:")," ",e.services),s.a.createElement("p",null,s.a.createElement("b",null,"Appointment with:")," ",e.userFname?e.userFname:"Anyone"))))})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null)))))}())}}]),a}(n.Component),qt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).formatPhoneNumber=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e},n.state={customer:[],appointments:[],past_appointments:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(localStorage.setItem("active-page","customer-map"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=this.props.name,a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},n=localStorage.getItem("x-access-store-id");J.a.get("https://api.intelcalendar.com/api/searchCustomerById/"+n+"/"+t,a).then((function(t){e.setState({customer:t.data.customers})})),J.a.get("https://api.intelcalendar.com/api/getAppointmentsByStoreIdAndCustomerId/"+n+"/"+t,a).then((function(t){var a=t.data.appointments,n=[],s=[];a.forEach((function(e){var t=S()().format("YYYY-MM-DD"),a=S()().subtract(30,"days").format("YYYY-MM-DD"),c=S()(t,"YYYY-MM-DD"),r=S()(a,"YYYY-MM-DD"),o=S()(e.date,"YYYY-MM-DD");if(o.isSameOrAfter(r)){var l=e.services,i=[],m="";l.forEach((function(e){null!=e&&(m=m+e.name+", ")})),m=m.slice(0,-2),i.push(m),e.services=i,o.isSameOrAfter(c)?n.push(e):s.push(e)}})),e.setState({appointments:n,past_appointments:s})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.customers," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Customer Details")),s.a.createElement(u.b,{exact:!0,to:"/customers"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.tools)},s.a.createElement(u.b,{exact:!0,to:"/customers/create"},s.a.createElement("i",{className:"far fa-plus ".concat(f.a.active)}))),this.state.customer.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",null,t.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("b",null,t.fname," ",t.lname),t.email?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},t.email)):"",t.phone?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("span",{style:{textTransform:"lowercase"}},e.formatPhoneNumber(t.phone))):"",t.fav_staffId&&"0"!=t.fav_staffId?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("i",{className:"fas fa-heart ".concat(f.a.active)}),"\xa0",s.a.createElement("span",{style:{textTransform:"lowercase"}},t.userFname)):"",s.a.createElement("br",null),s.a.createElement(u.b,{exact:!0,to:"/customers/edit/".concat(t.id),className:"".concat(f.a.btn," ").concat(f.a.btn_inline)},"Edit"))))})),0==this.state.appointments.length?s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("h4",null,"0 upcoming appointment")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("h4",null,this.state.appointments.length," upcoming appointment(s)")),this.state.appointments.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.card_appointment),key:e.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("p",null,s.a.createElement("b",null,"Appointment date:")," ",S()(e.date,"YYYY-MM-DD").format("M/D/Y")),s.a.createElement("p",null,s.a.createElement("b",null,"Start time:")," ",S()(e.start,"hh:mm a").format("hh:mm A")),s.a.createElement("p",null,s.a.createElement("b",null,"End time:")," ",S()(e.end,"hh:mm a").format("hh:mm A")),s.a.createElement("p",null,s.a.createElement("b",null,"Services:")," ",e.services),s.a.createElement("p",null,s.a.createElement("b",null,"Appointment with:")," ",e.userFname?e.userFname:"Anyone"))))}))),0==this.state.past_appointments.length?s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h4",null,"Appointments history")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h4",null,this.state.past_appointments.length," past appointment(s)")),this.state.past_appointments.map((function(e){return s.a.createElement("div",{className:"".concat(f.a.card_appointment),key:e.id},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("p",null,s.a.createElement("b",null,"Appointment date:")," ",S()(e.date,"YYYY-MM-DD").format("M/D/Y")),s.a.createElement("p",null,s.a.createElement("b",null,"Start time:")," ",S()(e.start,"hh:mm a").format("hh:mm A")),s.a.createElement("p",null,s.a.createElement("b",null,"End time:")," ",S()(e.end,"hh:mm a").format("hh:mm A")),s.a.createElement("p",null,s.a.createElement("b",null,"Services:")," ",e.services),s.a.createElement("p",null,s.a.createElement("b",null,"Appointment with:")," ",e.userFname?e.userFname:"Anyone"))))}))))}}]),a}(n.Component),Vt=Object(d.g)(qt),Gt=function(e){var t=e.match.params.customerId;return s.a.createElement(Vt,{name:t})},Kt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.unCheckStaff=function(e){var t=e.target.value;n.state.fav_staffId==t&&n.setState({fav_staffId:null})},n.state={page:1,message:"",permalink:"",id:n.props.name,fname:"",lname:"",email:"",phone:"",fav_staffId:null,staffs:[],updateModal:!1,deleteModal:!1,loading:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(localStorage.setItem("active-page","customer-edit-map"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/customer/"+this.state.id,t).then((function(t){if(e.state.ownerId==e.state.userId&&localStorage.getItem("x-access-store-id")==t.data.customer.storeId){e.setState({isStaff:!0});var a=t.data.customer;e.setState({fname:a.fname,lname:a.lname,email:null!=a.email?a.email:"",phone:null!=a.phone?a.phone:"",fav_staffId:null!=a.fav_staffId?a.fav_staffId:0})}e.state.isStaff||e.props.history.push("/services")}));var a=localStorage.getItem("x-access-store-id");J.a.get("https://api.intelcalendar.com/api/getStaffsByStoreId/"+a,t).then((function(t){e.setState({staffs:t.data.employees})}))}},{key:"update",value:function(){var e=this;this.setState({loading:!0,updateModal:!1,deleteModal:!1});var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=null!=this.state.fname?this.state.fname.toLowerCase():"",n=null!=this.state.lname?this.state.lname.toLowerCase():"",s=null!=this.state.email?this.state.email.toLowerCase():"",c=null!=this.state.phone?this.state.phone.toLowerCase():"",r=null!=this.state.fav_staffId?this.state.fav_staffId:null;J.a.patch("https://api.intelcalendar.com/api/customer/"+this.state.id,{fname:a,lname:n,email:s,phone:c,fav_staffId:r},t).then((function(t){e.setState({loading:!1}),e.props.history.push("/customer/"+e.state.id)}))}},{key:"delete",value:function(){var e=this;this.setState({loading:!0,updateModal:!1,deleteModal:!1});var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.delete("https://api.intelcalendar.com/api/customer/"+this.state.id,t).then((function(t){e.setState({loading:!1}),e.props.history.push("/customers")}))}},{key:"openModal",value:function(e){"update"==e?this.setState({updateModal:!0}):this.setState({deleteModal:!0})}},{key:"closeModal",value:function(){this.setState({updateModal:!1,deleteModal:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.customers," ").concat(f.a.customerEdit," ").concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Customer settings")),s.a.createElement(u.b,{exact:!0,to:"/customers"},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(1==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:"".concat(f.a.card)},s.a.createElement("div",{className:"".concat(f.a.content)},s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",null,this.state.id)),s.a.createElement("div",{className:"".concat(f.a.col_2)},s.a.createElement("b",null,this.state.fname," ",this.state.lname)))),s.a.createElement("br",null),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"First name"),s.a.createElement("input",{type:"text",name:"fname",value:this.state.fname,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Last name"),s.a.createElement("input",{type:"text",name:"lname",value:this.state.lname,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Email"),s.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Phone"),s.a.createElement("input",{type:"text",name:"phone",value:this.state.phone,onChange:this.handleInputChange,required:!0})),0==this.state.staffs.length?"":s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h4",null,"Favorite staff")),this.state.staffs.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"fav_staffId",value:t.id,checked:e.state.fav_staffId==t.id,onChange:e.handleInputChange,onClick:e.unCheckStaff}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.fav_staffId==t.id?f.a.selected:"")},t.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.url)})):s.a.createElement("div",null,t.fname.charAt(0),t.lname.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.fname)))}))),s.a.createElement("br",null),s.a.createElement("div",{className:f.a.row},s.a.createElement("a",{className:"".concat(f.a.btn," ").concat(f.a.btn__warning),onClick:function(){return e.openModal("delete")}},s.a.createElement("i",{className:"fas fa-trash-alt ".concat(f.a.text_white)}),"\xa0\xa0\xa0Delete this customer")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.openModal("update")}},"Save"))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(2==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement(u.b,{exact:!0,to:"/customer/".concat(this.props.name),className:"".concat(f.a.btn)},"Done")),s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_center)},this.state.message))),function(){if(e.state.updateModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("p",null,"Do you want to update this customer?"),s.a.createElement("div",{className:"".concat(f.a.button_group)},s.a.createElement("a",{onClick:function(){return e.update()},className:"".concat(f.a.btn," ").concat(f.a.btn__warning," ").concat(f.a.margin_auto)},"Yes"),s.a.createElement("a",{onClick:function(){return e.closeModal()},className:"".concat(f.a.btn," ").concat(f.a.margin_auto)},"Cancel")))))}(),function(){if(e.state.loading)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert," ").concat(f.a.loading)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("div",{class:"fa-3x"},s.a.createElement("i",{className:"fas fa-spinner fa-spin ".concat(f.a.loading_icon)})))))}(),function(){if(e.state.deleteModal)return s.a.createElement("div",{className:"".concat(f.a.modal," ").concat(f.a.alert)},s.a.createElement("div",{className:"".concat(f.a.modal__content)},s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.CalendarMapDetail)},s.a.createElement("p",null,"Do you want to delete this customer?"),s.a.createElement("div",{className:"".concat(f.a.button_group)},s.a.createElement("a",{onClick:function(){return e.delete()},className:"".concat(f.a.btn," ").concat(f.a.btn__warning," ").concat(f.a.margin_auto)},"Yes"),s.a.createElement("a",{onClick:function(){return e.closeModal()},className:"".concat(f.a.btn," ").concat(f.a.margin_auto)},"Cancel")))))}())}}]),a}(n.Component),Jt=Object(d.g)(Kt),Xt=function(e){var t=e.match.params.customerId;return s.a.createElement(Jt,{name:t})},Qt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.nextPage=function(){if(1==n.state.page){if(""==n.state.fname)return n.setState({authError:!0}),!1;var e=n.state.page+1;n.setState({page:e,authError:!1})}else{var t=n.state.page+1;n.setState({page:t})}},n.prevPage=function(){var e=n.state.page-1;n.setState({page:e})},n.unCheckStaff=function(e){var t=e.target.value;n.state.fav_staffId==t&&n.setState({fav_staffId:null})},n.state={customerId:null,fname:"",lname:"",email:"",phone:"",fav_staffId:"",storeId:localStorage.getItem("x-access-store-id"),page:1,staffs:[],loading:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("x-access-token")||this.props.history.push("/login"),localStorage.setItem("active-page","customer-create");var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},a=localStorage.getItem("x-access-store-id");J.a.get("https://api.intelcalendar.com/api/getStaffsByStoreId/"+a,t).then((function(t){e.setState({staffs:t.data.employees})}))}},{key:"submitForm",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0});case 2:t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}},J.a.post("https://api.intelcalendar.com/api/customer",{storeId:this.state.storeId,fname:this.state.fname.toLowerCase(),lname:this.state.lname.toLowerCase(),phone:this.state.phone,email:this.state.email.toLowerCase(),fav_staffId:this.state.fav_staffId},t).then(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({page:2,customerId:t.data.customer.id,loading:!1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.container," ").concat(f.a.customerEdit," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Add Customer")),s.a.createElement("form",{className:f.a.form,onSubmit:this.onSubmit},1==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{href:"/customers"},s.a.createElement("i",{className:"fas fa-times ".concat(f.a.active," ").concat(f.a.btn_back)})),s.a.createElement("div",{className:"".concat(f.a.page,"  ").concat(1==this.state.page?"":f.a.hidden)},s.a.createElement("h3",{className:"".concat(f.a.text_center)},"Please enter customer information"),s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("label",{htmlFor:""},"First Name"),s.a.createElement("input",{type:"text",name:"fname",placeholder:"First name",value:this.state.fname,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Last Name"),s.a.createElement("input",{type:"text",name:"lname",placeholder:"Last name",value:this.state.lname,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{className:"".concat(f.a.text_center),style:{display:this.state.authError?"block":"none"}},"Customer name cannot be empty")),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Email (Optional)"),s.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleInputChange})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Phone number(Optional)"),s.a.createElement("input",{type:"text",name:"phone",placeholder:"Phone number",value:this.state.phone,onChange:this.handleInputChange})),0==this.state.staffs.length?"":s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:f.a.row},s.a.createElement("br",null),s.a.createElement("h4",null,"Favorite staff")),this.state.staffs.map((function(t){return s.a.createElement("div",{className:"".concat(f.a.card),key:t.id},s.a.createElement("label",{className:"".concat(f.a.content)},s.a.createElement("input",{type:"radio",name:"fav_staffId",value:t.id,checked:e.state.fav_staffId==t.id,onChange:e.handleInputChange,onClick:e.unCheckStaff}),s.a.createElement("div",{className:"".concat(f.a.col_1)},s.a.createElement("div",{className:"".concat(e.state.fav_staffId==t.id?f.a.selected:"")},t.url?s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:"".concat(t.url)})):s.a.createElement("div",null,t.fname.charAt(0),t.lname.charAt(0)))),s.a.createElement("div",{className:"".concat(f.a.col_2)},t.fname)))})))),""!=this.state.fname?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.submitForm()}},"Create")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save," ").concat(f.a.disabled," ").concat(this.state.loading?"":f.a.hidden)},s.a.createElement("a",null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})))):""):"",2==this.state.page?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"".concat(f.a.page," ").concat(f.a.absolute_center)},s.a.createElement("br",null),s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Congrats!"),s.a.createElement("p",{className:"".concat(f.a.text_center)},this.state.fname?this.state.fname:"A new customer"," is now your customer!")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement(u.b,{exact:!0,to:"/customer/".concat(this.state.customerId?this.state.customerId:"0")},"Done"))):""))}}]),a}(n.Component),Zt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).formatPhoneNumber=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e},n.state={user:[],userUrl:"",noUser:"https://res.cloudinary.com/nailpocket-com/image/upload/v1596863762/Asset/iqyeotq44hn1s6algpdh.png"},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(localStorage.setItem("active-page","user-map"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t=this.props.name,a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/user/".concat(t),a).then((function(t){var a=[];a.push(t.data.user),e.setState({user:a})})).then(function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({userUrl:e.state.user[0].profile_image});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.user_map," ").concat(f.a.container)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"My Account")),this.state.user.map((function(t){return s.a.createElement("div",{key:t.id},s.a.createElement("div",{className:"".concat(f.a.tools)},s.a.createElement(u.b,{exact:!0,to:"/users/edit/".concat(t.id)},s.a.createElement("i",{className:"fas fa-user-cog fa-2x ".concat(f.a.active)}))),s.a.createElement("div",{className:"".concat(f.a.account)},s.a.createElement("div",{className:"".concat(f.a.profile_picture),style:{backgroundImage:"url(".concat(e.state.userUrl?e.state.userUrl:e.state.noUser,")")}}),s.a.createElement("h3",{className:"".concat(f.a.name," ").concat(f.a.font__style," ").concat(f.a.title," ")},t.fname," ",t.lname)),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.profile_info)},s.a.createElement("p",{className:"".concat(f.a.email)},s.a.createElement("i",{className:"fas fa-envelope ".concat(f.a.text_blue)})," ",t.email),s.a.createElement("p",{className:"".concat(f.a.phone)},s.a.createElement("i",{className:"fas fa-phone-alt ".concat(f.a.text_blue)})," ",e.formatPhoneNumber(t.phone)),s.a.createElement("p",{className:"".concat(f.a.color)},s.a.createElement("i",{className:"fas fa-palette ".concat(f.a.text_blue)})," ",s.a.createElement("span",{style:{backgroundColor:"".concat(t.color)}})),s.a.createElement("br",null),s.a.createElement("li",null,s.a.createElement(u.b,{exact:!0,to:"/users/security/".concat(t.id),className:"".concat(f.a.btn," ").concat(f.a.btn__navi," ").concat(f.a.align_items_center," ").concat(f.a.justify_content_center," ")},s.a.createElement("i",{className:"fas fa-key ".concat(f.a.text_white)})," Change password"))))})))}}]),a}(n.Component),$t=Object(d.g)(Zt),ea=function(e){var t=e.match.params.id;return s.a.createElement($t,{name:t})},ta=(a(527),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.handleChangeComplete=function(e){n.setState({color:e.hex})},n.state={page:1,message:"",permalink:"",id:n.props.name,fname:"",lname:"",email:"",phone:"",color:"",avatar:null,userUrl:"",orientation:0,noUser:"https://res.cloudinary.com/nailpocket-com/image/upload/v1596863762/Asset/iqyeotq44hn1s6algpdh.png",userId:localStorage.getItem("x-access-user-id")},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?(localStorage.setItem("active-page","user-edit-map"),this.fetchData()):this.props.history.push("/login")}},{key:"fetchData",value:function(){var e=this,t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.get("https://api.intelcalendar.com/api/user/".concat(this.state.id),t).then((function(t){var a=t.data.user;e.setState({fname:a.fname,lname:a.lname,email:a.email,phone:a.phone,color:a.color,userUrl:a.profile_image})}))}},{key:"onFileChange",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],this.setState({avatar:a,userUrl:URL.createObjectURL(a)});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rotateRight",value:function(){var e=this.state.orientation;270==e?e=0:e+=90,this.setState({orientation:e})}},{key:"update",value:function(){var e=this,t=window.confirm("Do you want to update this user?"),a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};t&&J.a.patch("https://api.intelcalendar.com/api/user/"+this.state.id,{fname:this.state.fname.toLowerCase(),lname:this.state.lname.toLowerCase(),email:this.state.email.toLowerCase(),phone:this.state.phone,color:this.state.color.toLowerCase()},a).then((function(t){if(null!=e.state.avatar){var a=new FormData;a.append("photo",e.state.avatar),J.a.post("https://api.intelcalendar.com/api/uploadProfilePicture/"+e.state.id+"/"+e.state.orientation,a).then((function(t){e.setState({avatar:null})}))}})).then((function(t){setTimeout((function(){e.setState({permalink:"/user/"+e.state.id,page:2,message:"Updated!"})}),1e3)}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"".concat(f.a.userEditMap," ").concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Account Settings"),s.a.createElement(u.b,{exact:!0,to:"/user/".concat(this.state.userId)},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)}))),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(1==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:"".concat(f.a.account)},s.a.createElement("img",{className:"".concat(f.a.rotate_btn," ").concat(this.state.avatar?"":f.a.hidden),src:"https://res.cloudinary.com/nailpocket-com/image/upload/v1596695382/Asset/xl6svkgnsy0czsebirh3.png",alt:"rotate",onClick:function(){return e.rotateRight()}}),s.a.createElement("div",{className:"".concat(f.a.profile_picture),style:{backgroundImage:"url(".concat(this.state.userUrl?this.state.userUrl:this.state.noUser,")"),transform:"rotate(".concat(this.state.orientation.toString(),"deg)")}}),s.a.createElement("label",{className:"".concat(f.a.uploadButton),htmlFor:"upload-button"},"Change avatar\xa0\xa0",s.a.createElement("i",{className:"fas fa-camera ".concat(f.a.active)}))),s.a.createElement("div",{className:f.a.row},s.a.createElement("input",{type:"file",id:"upload-button",style:{display:"none"},onChange:this.onFileChange.bind(this),required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"First name"),s.a.createElement("input",{type:"text",name:"fname",value:this.state.fname,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Last name"),s.a.createElement("input",{type:"text",name:"lname",value:this.state.lname,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Phone Number"),s.a.createElement("input",{type:"text",name:"phone",value:this.state.phone,onChange:this.handleInputChange,required:!0})),s.a.createElement("br",null),s.a.createElement("div",{className:"".concat(f.a.row," ").concat(f.a.justify_content_center)},s.a.createElement($.a,{color:this.state.color,onChangeComplete:this.handleChangeComplete}))),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("a",{onClick:function(){return e.update()}},"Save")),s.a.createElement("div",{className:"".concat(f.a.page," ").concat(2==this.state.page?"":f.a.hidden)},s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_center)},this.state.message),s.a.createElement(u.b,{exact:!0,to:this.state.permalink,className:"".concat(f.a.btn)},"Done"))))}}]),a}(n.Component)),aa=Object(d.g)(ta),na=function(e){var t=e.match.params.id;return s.a.createElement(aa,{name:t})},sa=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,s=t.name;n.setState(Object(G.a)({},s,a))},n.onSubmit=function(e){if(e.preventDefault(),window.confirm("Do you want to update your password?")){if(n.state.newPassword!==n.state.passwordConfirm)return n.setState({authError:!0}),!1;var t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("x-access-token"))}};J.a.post("https://api.intelcalendar.com/api/userResetPassword",{id:n.state.id,currentPassword:n.state.currentPassword,newPassword:n.state.newPassword},t).then((function(e){n.setState({success:!0})})).catch((function(e){n.setState({success:!1})}))}},n.state={id:n.props.name,currentPassword:"",newPassword:"",passwordConfirm:"",authError:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("x-access-token")?localStorage.setItem("active-page","user-security-map"):this.props.history.push("/login")}},{key:"render",value:function(){return s.a.createElement("div",{className:"".concat(f.a.userEditMap," ").concat(f.a.container," ").concat(f.a.bg__alt)},s.a.createElement("div",{className:"".concat(f.a.hero)},s.a.createElement("h2",{className:"".concat(f.a.font__style," ").concat(f.a.title," ").concat(f.a.text_center)},"Update Password"),s.a.createElement(u.b,{exact:!0,to:"/user/".concat(this.state.id)},s.a.createElement("i",{className:"fas fa-arrow-left ".concat(f.a.active," ").concat(f.a.btn_back)}))),this.state.success?s.a.createElement("div",{className:f.a.row},s.a.createElement("h1",{className:"".concat(f.a.text_center)},"Success."),s.a.createElement(u.b,{exact:!0,to:"/user/".concat(this.state.id),className:"".concat(f.a.btn)},"Back to Account")):s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{className:f.a.form,onSubmit:this.onSubmit},s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Current Password"),s.a.createElement("input",{type:"password",name:"currentPassword",value:this.state.currentPassword,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"New Password"),s.a.createElement("input",{type:"password",name:"newPassword",value:this.state.newPassword,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("label",{htmlFor:""},"Confirm New Password"),s.a.createElement("input",{type:"password",name:"passwordConfirm",value:this.state.passwordConfirm,onChange:this.handleInputChange,required:!0})),s.a.createElement("div",{className:f.a.row},s.a.createElement("p",{style:{display:this.state.authError?"block":"none"}},"Password didn't match")),s.a.createElement("div",{className:"".concat(f.a.tools," ").concat(f.a.btn_save)},s.a.createElement("input",{type:"submit",value:"Save",className:"".concat(f.a.btn)})))))}}]),a}(n.Component),ca=Object(d.g)(sa),ra=function(e){var t=e.match.params.id;return s.a.createElement(ca,{name:t})};var oa=function(e){var t=Object(d.f)();Object(n.useEffect)((function(){e.setPathname(t.pathname)}),[t]);var a=function(){var e="",a="",n=t.pathname.split("/");return"login"==n[1]?(e="NailPocket | Login",a="NailPocket, login page."):"register"==n[1]?(e="NailPocket | Register",a="NailPocket, register new account."):"activate"==n[1]?(e="NailPocket | Activation",a="NailPocket, activate new account."):"forgot-password"==n[1]?(e="NailPocket | Forgot Password",a="NailPocket, Forgot Password."):"reset-password"==n[1]?(e="NailPocket | Reset Password",a="NailPocket, Reset Password."):"terms-of-use"==n[1]?(e="NailPocket | Terms of Use",a="NailPocket, This website is operated by NailPocket. Throughout the site, the terms \u201cwe\u201d, \u201cus\u201d and \u201cour\u201d refer to NailPocket. NailPocket offers this website, including all information, tools and services available from this site to you, the user, conditioned upon your acceptance of all terms, conditions, policies and notices stated here."):"privacy-policy"==n[1]?(e="NailPocket | Privacy Policy",a="NailPocket, This notice explains how your data will be used and shared by NailPocket. This Privacy Policy describes how your personal information is collected, used, and shared when you visit or make a purchase from nailpocket.com."):"calendar"==n[1]?(e="NailPocket | Calender | ".concat(n[2].replaceAll("-"," ")),a="NailPocket, Calender, ".concat(n[2].replaceAll("-"," "))):(e="NailPocket",a="NailPocket"),s.a.createElement(k.a,null,s.a.createElement("title",null,e),s.a.createElement("meta",{name:"description",content:a}))};return s.a.createElement(s.a.Fragment,null,s.a.createElement(a,null),s.a.createElement(d.c,null,s.a.createElement(N,{exact:!0,path:"/",component:V}),s.a.createElement(N,{exact:!0,path:"/login",component:Z}),s.a.createElement(N,{exact:!0,path:"/register",component:ee}),s.a.createElement(N,{exact:!0,path:"/activate",component:te}),s.a.createElement(N,{exact:!0,path:"/reset-password",component:ae}),s.a.createElement(N,{exact:!0,path:"/forgot-password",component:ne}),s.a.createElement(N,{exact:!0,path:"/faqs",component:Ee}),s.a.createElement(N,{exact:!0,path:"/terms-of-use",component:ke}),s.a.createElement(N,{exact:!0,path:"/privacy-policy",component:xe}),s.a.createElement(N,{exact:!0,path:"/admin-dashboard",component:Ce}),s.a.createElement(N,{exact:!0,path:"/admin-stores",component:Ie}),s.a.createElement(N,{exact:!0,path:"/admin-users",component:He}),s.a.createElement(N,{exact:!0,path:"/admin-subscriptions",component:Oe}),s.a.createElement(N,{path:"/calendar/:permalink",component:Ge}),s.a.createElement(N,{exact:!0,path:"/stores",component:Ke}),s.a.createElement(N,{path:"/store/:permalink",component:Qe}),s.a.createElement(N,{path:"/stores/edit/:permalink",component:st}),s.a.createElement(N,{exact:!0,path:"/stores/create",component:ot}),s.a.createElement(N,{path:"/stores/security/:id",component:mt}),s.a.createElement(N,{exact:!0,path:"/subscription",component:Se}),s.a.createElement(N,{exact:!0,path:"/services",component:ut}),s.a.createElement(N,{path:"/service/:id",component:pt}),s.a.createElement(N,{path:"/services/edit/:id",component:gt}),s.a.createElement(N,{exact:!0,path:"/services/create",component:vt}),s.a.createElement(N,{exact:!0,path:"/customer-sign-in-sheet",component:bt}),s.a.createElement(N,{exact:!0,path:"/sign-in-sheets",component:yt}),s.a.createElement(N,{exact:!0,path:"/staffs",component:xt}),s.a.createElement(N,{exact:!0,path:"/staffs-archive",component:Ct}),s.a.createElement(N,{path:"/staff-pto/:userId",component:Ot}),s.a.createElement(N,{path:"/staff-archive/:userId",component:Dt}),s.a.createElement(N,{path:"/staffs/edit/:userId",component:At}),s.a.createElement(N,{path:"/staff-add-pto/:userId",component:Bt}),s.a.createElement(N,{path:"/staff-edit-pto/:id",component:Rt}),s.a.createElement(N,{exact:!0,path:"/staffs/create",component:Ut}),s.a.createElement(N,{exact:!0,path:"/customers",component:zt}),s.a.createElement(N,{path:"/customer/:customerId",component:Gt}),s.a.createElement(N,{path:"/customers/edit/:customerId",component:Xt}),s.a.createElement(N,{exact:!0,path:"/customers/create",component:Qt}),s.a.createElement(N,{path:"/user/:id",component:ea}),s.a.createElement(N,{path:"/users/edit/:id",component:na}),s.a.createElement(N,{path:"/users/security/:id",component:ra})))},la=function(e){},ia=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(u.a,null,s.a.createElement(oa,{setPathname:la}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(ia,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e,t,a){e.exports=a.p+"static/media/video1.2c1a1905.png"},94:function(e,t,a){e.exports=a.p+"static/media/slider5.4f117939.png"}},[[276,1,2]]]);